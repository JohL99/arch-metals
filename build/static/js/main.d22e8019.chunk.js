(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{172:function(e,t,a){e.exports=a.p+"static/media/RankingCalculation.c3cbcf8d.png"},173:function(e,t,a){e.exports=a.p+"static/media/Comex_Copper.ec5d6a9d.png"},174:function(e,t,a){e.exports=a.p+"static/media/Comex_Gold.4663ec00.png"},202:function(e,t,a){e.exports=a(409)},207:function(e,t,a){},231:function(e,t,a){},409:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(43),s=a.n(i),c=(a(207),a(5)),l=a(16),o=a(53),p=a.n(o),m=a(21),u=a.n(m),h=function(e){e?u.a.defaults.headers.common.Authorization=e:delete u.a.defaults.headers.common.Authorization},d=a(18),E=function(e){return{type:"SET_CURRENT_USER",payload:e}},g=function(){return function(e){localStorage.removeItem("jwtToken"),h(!1),e(E({}))}},v=a(37),f=a(162),b=a(17),y=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},S={isAuthenticated:!1,user:{}},w={},j={price:null},x=Object(v.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(b.a)(Object(b.a)({},e),{},{isAuthenticated:!y(t.payload),user:t.payload});default:return e}},input:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRICE":return Object(b.a)(Object(b.a)({},e),{},{profile:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;case"CLEAR_ERRORS":return{};default:return e}}}),C=[f.a],M=Object(v.d)(x,{},v.a.apply(void 0,C)),k=a(8),N=a(9),O=a(11),T=a(10),P=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(){var e;return Object(k.a)(this,a),e=t.call(this),window.scroll(0,0),e}return Object(N.a)(a,[{key:"onLogoutClick",value:function(e){e.preventDefault(),this.props.logoutUser()}},{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user,n=r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(c.b,{className:"nav-link dropdown-toggle",to:"#",id:"navbarDropdownMenuLink1",role:"button","data-toggle":"dropdown","aria-haspopup":"false","aria-expanded":"true"},"About"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink1"},r.a.createElement(c.b,{className:"dropdown-item",to:"/About"},"About the research"),r.a.createElement(c.b,{className:"dropdown-item",to:"/Contacts"},"Contact us"))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(c.b,{className:"nav-link dropdown-toggle",to:"/",id:"navbarDropdownMenuLink2",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Registration"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink2"},r.a.createElement(c.b,{className:"dropdown-item",to:"/Register"},"Registration Page"),r.a.createElement(c.b,{className:"dropdown-item",to:"/PConsent"},"Additional Information"))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(c.b,{className:"nav-link dropdown-toggle",to:"#",id:"navbarDropdownMenuLink2",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Forecast Summaries"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink2"},r.a.createElement(c.b,{className:"dropdown-item",to:"/CSumFcast"},"Copper Summary"),r.a.createElement(c.b,{className:"dropdown-item",to:"/GSumFcast"},"Gold Summary"),r.a.createElement(c.b,{className:"dropdown-item",to:"/CSummary"},"Copper Monthly Summaries"),r.a.createElement(c.b,{className:"dropdown-item",to:"/GSummary"},"Gold Monthly Summaries"),r.a.createElement(c.b,{className:"dropdown-item",to:"/CPartFcast"},"Copper Participants"),r.a.createElement(c.b,{className:"dropdown-item",to:"/GPartFcast"},"Gold Participants"))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(c.b,{className:"nav-link dropdown-toggle",to:"/",id:"navbarDropdownMenuLink2",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Forecast Inputs"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink2"},r.a.createElement(c.b,{className:"dropdown-item",to:"/Copperinput"},"Copper Inputs"),r.a.createElement(c.b,{className:"dropdown-item",to:"/Goldinput"},"Gold Inputs"),r.a.createElement(c.b,{className:"dropdown-item",to:"/coppercomex"},"Copper Comex Prices"),r.a.createElement(c.b,{className:"dropdown-item",to:"/goldcomex"},"Gold Comex Prices"))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(c.b,{className:"nav-link dropdown-toggle",to:"#",id:"navbarDropdownMenuLink3",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"All Forecasts"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink3"},r.a.createElement(c.b,{className:"dropdown-item",to:"/CForecast"},"Copper Forecasts"),r.a.createElement(c.b,{className:"dropdown-item",to:"/GForecast"},"Gold Forecasts"))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(c.b,{className:"nav-link dropdown-toggle",to:"/",id:"navbarDropdownMenuLink2",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Participants's Rankings"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink2"},r.a.createElement(c.b,{className:"dropdown-item",to:"/RMethod"},"Ranking Methodology"),r.a.createElement(c.b,{className:"dropdown-item",to:"/CRanking"},"Copper Rankings"),r.a.createElement(c.b,{className:"dropdown-item",to:"/GRanking"},"Gold Rankings"))),r.a.createElement("li",{className:"nav-item button-toggle"},r.a.createElement("button",{className:"btn btn-outline-secondary my-2 my-sm-0",onClick:this.onLogoutClick.bind(this)},"Logout"))),i=r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(c.b,{className:"nav-link dropdown-toggle",to:"#",id:"navbarDropdownMenuLink1",role:"button","data-toggle":"dropdown","aria-haspopup":"false","aria-expanded":"true"},"About"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink1"},r.a.createElement(c.b,{className:"dropdown-item",to:"/About"},"About the research"),r.a.createElement(c.b,{className:"dropdown-item",to:"/Contacts"},"Contact us"))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(c.b,{className:"nav-link dropdown-toggle",to:"/",id:"navbarDropdownMenuLink2",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Registration"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink2"},r.a.createElement(c.b,{className:"dropdown-item",to:"/Register"},"Registration Page"),r.a.createElement(c.b,{className:"dropdown-item",to:"/PConsent"},"Additional Information"))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(c.b,{className:"nav-link dropdown-toggle",to:"#",id:"navbarDropdownMenuLink2",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Forecast Summaries"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink2"},r.a.createElement(c.b,{className:"dropdown-item",to:"/CSumFcast"},"Copper Summary"),r.a.createElement(c.b,{className:"dropdown-item",to:"/GSumFcast"},"Gold Summary"),r.a.createElement(c.b,{className:"dropdown-item",to:"/CSummary"},"Copper Monthly Summaries"),r.a.createElement(c.b,{className:"dropdown-item",to:"/GSummary"},"Gold Monthly Summaries"),r.a.createElement(c.b,{className:"dropdown-item",to:"/CPartFcast"},"Copper Participants"),r.a.createElement(c.b,{className:"dropdown-item",to:"/GPartFcast"},"Gold Participants"))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(c.b,{className:"nav-link dropdown-toggle",to:"/",id:"navbarDropdownMenuLink2",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Forecast Inputs"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink2"},r.a.createElement(c.b,{className:"dropdown-item",to:"/Copperinput"},"Copper Inputs"),r.a.createElement(c.b,{className:"dropdown-item",to:"/Goldinput"},"Gold Inputs"),r.a.createElement(c.b,{className:"dropdown-item",to:"/coppercomex"},"Copper Comex Prices"),r.a.createElement(c.b,{className:"dropdown-item",to:"/goldcomex"},"Gold Comex Prices"))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(c.b,{className:"nav-link dropdown-toggle",to:"#",id:"navbarDropdownMenuLink3",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"All Forecasts"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink3"},r.a.createElement(c.b,{className:"dropdown-item",to:"/CForecast"},"Copper Forecasts"),r.a.createElement(c.b,{className:"dropdown-item",to:"/GForecast"},"Gold Forecasts"))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(c.b,{className:"nav-link dropdown-toggle",to:"/",id:"navbarDropdownMenuLink2",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Participants's Rankings"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink2"},r.a.createElement(c.b,{className:"dropdown-item",to:"/RMethod"},"Ranking Methodology"),r.a.createElement(c.b,{className:"dropdown-item",to:"/CRanking"},"Copper Rankings"),r.a.createElement(c.b,{className:"dropdown-item",to:"/GRanking"},"Gold Rankings"))),r.a.createElement("li",{className:"nav-item button-toggle"},r.a.createElement("button",{className:"btn btn-outline-secondary my-2 my-sm-0",onClick:this.onLogoutClick.bind(this)},r.a.createElement("a",{href:"/Landing"},"Logout")))),s=r.a.createElement("div",null);return r.a.createElement("div",{className:"nav-holder"},r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark mb-4"},r.a.createElement(c.b,{className:"navnav-link",to:"/"},r.a.createElement("b",null,"CONSENSUS METALS")),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-nav"},t?"Chris Lamprecht"===a?i:n:s)))))}}]),a}(n.Component),$=Object(d.b)((function(e){return{auth:e.auth}}),{logoutUser:g})(P),D=function(){return r.a.createElement("div",{className:"footer-parent-holder"},r.a.createElement("footer",{className:"bg-dark text-white mt-5 p-4 text-center"},"Copyright \xa9 ",(new Date).getFullYear()," John Lamprecht"))},A=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"landing"},r.a.createElement("div",{className:"dark-overlay landing-inner text-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("p",null),r.a.createElement("p",null),r.a.createElement("h1",{className:"display-4 mb-4"},"Consensus Metals Forecasting Panel"),r.a.createElement("h2",{class:"display-4 mb-5"},"Copper and Gold"),r.a.createElement("hr",null),r.a.createElement(c.b,{to:"/register",className:"btn btn-md btn-info mr-2"},"Sign Up"),r.a.createElement(c.b,{to:"/login",className:"btn btn-md btn-light"},"Login"))))))}}]),a}(n.Component),z=(a(231),a(20)),F=a(6),q=a(1),I=a.n(q),R=a(12),G=a.n(R),_=function(e){var t=e.name,a=e.placeholder,n=e.value,i=(e.label,e.error),s=e.info,c=e.type,l=e.onChange,o=e.disabled;return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:c,className:G()("form-control form-control-lg",{"is-invalid":i}),placeholder:a,name:t,value:n,onChange:l,disabled:o}),s&&r.a.createElement("small",{className:"form-text text-muted"},s),i&&r.a.createElement("div",{className:"invalid-feedback"},i))};_.defaultProps={type:"text"};var L=_,V=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(){var e;return Object(k.a)(this,a),(e=t.call(this)).state={name:"",password:"",password2:"",email:"",altemail:"",realname:"",commodity1:"",commodity2:"",sex:"",age:"",geolocation:"",background:"",workplace:"",forecastingapproach:"",bio:"",q1:"",q2:"",q3:"",q4:"",q5:"",q6:"",q7:"",q8:"",q9:"",q10:"",errors:{}},window.onbeforeunload=function(){window.scrollTo(0,0)},e.onChange=e.onChange.bind(Object(F.a)(e)),e.onSubmit=e.onSubmit.bind(Object(F.a)(e)),e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){if(e.preventDefault(),alert(this.state.q10),"Yes"!==this.state.q1||"Yes"!==this.state.q2||"Yes"!==this.state.q3||"Yes"!==this.state.q4||"Yes"!==this.state.q6||"Yes"!==this.state.q7||"Yes"!==this.state.q8||"Yes"!==this.state.q9||"Yes"!==this.state.q10)alert("Thank you, you will not be registered for this research project");else{var t={name:this.state.name,password:this.state.password,password2:this.state.password2,email:this.state.email,altemail:this.state.altemail,realname:this.state.realname,commodity1:this.state.commodity1,commodity2:this.state.commodity2,sex:this.state.sex,age:this.state.age,geolocation:this.state.geolocation,professionBackground:this.state.professionBackground,workplace:this.state.workplace,forecastingapproach:this.state.forecastingapproach,bio:this.state.bio,q1:this.state.q1,q2:this.state.q2,q3:this.state.q3,q4:this.state.q4,q5:this.state.q5,q6:this.state.q6,q7:this.state.q7,q8:this.state.q8,q9:this.state.q9,q10:this.state.q10};this.props.registerUser(t,this.props.history)}}},{key:"render",value:function(){var e=this.state.errors;this.props.auth.user;return r.a.createElement("div",{class:"register"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-4 text-center"},"Registration"),r.a.createElement("p",{className:"lead text-center"},"Register to participate"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement(L,{placeholder:"Username/Pseudonym (Please use to ensure anonymity - Max. 12 characters)",name:"name",value:this.state.name,onChange:this.onChange,error:e.name,onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,12)}}),r.a.createElement(L,{placeholder:"Password",name:"password",type:"password",value:this.state.password,onChange:this.onChange,error:e.password}),r.a.createElement(L,{placeholder:"Confirm Password",name:"password2",type:"password",value:this.state.password2,onChange:this.onChange,error:e.password2}),r.a.createElement(L,{placeholder:"Email \u2013 For Logon & official communication only",name:"email",type:"email",value:this.state.email,onChange:this.onChange,error:e.email,info:"This site uses Gravatar so if you want a profile image, use a Gravatar email"}),r.a.createElement(L,{placeholder:"Alternative email (Optional)",name:"altemail",type:"email",value:this.state.altemail,onChange:this.onChange,error:e.altemail}),r.a.createElement(L,{placeholder:"Real Name (For official communication only)",name:"realname",type:"text",value:this.state.realname,onChange:this.onChange,error:e.realname}),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{name:"commodity1",value:this.state.commodity1,onChange:this.onChange,error:e.commodity1,className:"form-control form-control-lg"},r.a.createElement("option",{value:""},"Metal to be forecasted"),r.a.createElement("option",{value:"Copper"},"Copper"),r.a.createElement("option",{value:"Gold"},"Gold"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{name:"commodity2",value:this.state.commodity2,onChange:this.onChange,error:e.commodity2,className:"form-control form-control-lg"},r.a.createElement("option",{value:""},"Additional Metal to be forecasted"),r.a.createElement("option",{value:"Copper"},"Copper"),r.a.createElement("option",{value:"Gold"},"Gold"),r.a.createElement("option",{value:"Blank"},"N/A"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{name:"Gender",value:this.state.sex,onChange:this.onChange,error:e.sex,className:"form-control form-control-lg"},r.a.createElement("option",{value:""},"Gender (Optional)"),r.a.createElement("option",{value:"Female"},"Female"),r.a.createElement("option",{value:"Male"},"Male"),r.a.createElement("option",{value:"Blank"},"Prefer not to answer"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{name:"age",value:this.state.age,onChange:this.onChange,error:e.age,className:"form-control form-control-lg"},r.a.createElement("option",{value:""},"Age (Years)"),r.a.createElement("option",{value:"<25"},"< 25"),r.a.createElement("option",{value:"25-35"},"25-35"),r.a.createElement("option",{value:"35-45"},"35-45"),r.a.createElement("option",{value:"45-55"},"45-55"),r.a.createElement("option",{value:"55-65"},"55-65"),r.a.createElement("option",{value:">65"},">65"),r.a.createElement("option",{value:"Blank"},"Prefer not to answer"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{name:"geolocation",value:this.state.geolocation,onChange:this.onChange,error:e.geolocation,className:"form-control form-control-lg"},r.a.createElement("option",{value:""},"Your geographic location "),r.a.createElement("option",{value:"Africa"},"Africa"),r.a.createElement("option",{value:"AsiaChina"},"Asia / China"),r.a.createElement("option",{value:"Australia"},"Australia / New Zealand"),r.a.createElement("option",{value:"Europe"},"Europe"),r.a.createElement("option",{value:"FarEast"},"Far East"),r.a.createElement("option",{value:"MiddleEast"},"Middle East"),r.a.createElement("option",{value:"NorthAmerica"},"North America / Canada"),r.a.createElement("option",{value:"SouthAmerica"},"South America"),r.a.createElement("option",{value:"Blank"},"Prefer not to answer"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{name:"professionBackground",value:this.state.professionBackground,onChange:this.onChange,error:e.professionBackground,className:"form-control form-control-lg"},r.a.createElement("option",{value:""},"Professional Background"),r.a.createElement("option",{value:"AccountingFinancial"},"Accounting / Financial"),r.a.createElement("option",{value:"Arts"},"Arts"),r.a.createElement("option",{value:"Computer"},"Computer Science"),r.a.createElement("option",{value:"Education"},"Education"),r.a.createElement("option",{value:"Engineering"},"Engineering"),r.a.createElement("option",{value:"Environmental"},"Environmental"),r.a.createElement("option",{value:"Geology"},"Geology"),r.a.createElement("option",{value:"HR"},"Human Resources"),r.a.createElement("option",{value:"Journalism"},"Journalism"),r.a.createElement("option",{value:"Legal"},"Legal"),r.a.createElement("option",{value:"Mathematical"},"Mathematics"),r.a.createElement("option",{value:"Medical"},"Medical"),r.a.createElement("option",{value:"ProductionTechnical"},"Production / Technical"),r.a.createElement("option",{value:"Science"},"Sciences"),r.a.createElement("option",{value:"Other"},"Other"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{name:"workplace",value:this.state.workplace,onChange:this.onChange,error:e.workplace,className:"form-control form-control-lg"},r.a.createElement("option",{value:""},"Nature Of Your Workplace"),r.a.createElement("option",{value:"Academic"},"Academic Institution"),r.a.createElement("option",{value:"Consultancy"},"Consultancy / Independent"),r.a.createElement("option",{value:"Financial Institution"},"Financial Institution"),r.a.createElement("option",{value:"Government Agency"},"Government Agency"),r.a.createElement("option",{value:"Media Organisation"},"Media Organisation"),r.a.createElement("option",{value:"Mining Organisation"},"Mining Organisation"),r.a.createElement("option",{value:"Technical Services"},"Technical Services"),r.a.createElement("option",{value:"Trading Organization"},"Trading Organization"),r.a.createElement("option",{value:"Research Organization"},"Research Organization"),r.a.createElement("option",{value:"Other"},"Other"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{name:"forecastingapproach",value:this.state.forecastingapproach,onChange:this.onChange,error:e.forecastingapproach,className:"form-control form-control-lg"},r.a.createElement("option",{value:""},"Forecasting Approach"),r.a.createElement("option",{value:"Econometric Modeling"},"Econometric Modeling"),r.a.createElement("option",{value:"Fundamental Analysis"},"Fundamental Analysis"),r.a.createElement("option",{value:"Gut Feel"},'"Gut Feel"'),r.a.createElement("option",{value:"Historical Averages"},"Historical Averages"),r.a.createElement("option",{value:"Market Futures Prices"},"Market Futures prices"),r.a.createElement("option",{value:"Mineral Economics"},"Mineral Economics"),r.a.createElement("option",{value:"Technical analysis"},"Technical Analysis"),r.a.createElement("option",{value:"Other"},"Other"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{placeholder:"Short Bio (Optional)",name:"bio",type:"textarea",value:this.state.bio,onChange:this.onChange,error:e.bio,className:"form-control form-control-lg"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{colspan:"2",align:"center"},r.a.createElement("b",null,"PARTICIPANT CONSENT"))),r.a.createElement("tr",null,r.a.createElement("td",{align:"justify"},r.a.createElement("b",null,"Consent Questions"),' (All questions need to be answered "Yes" in order to register and participate in the research project)'),r.a.createElement("td",{align:"center"},"Yes/No"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"justify"},"I confirm part of my skill set is preparing, using, or tracking metal price forecasts. It is an expectation to participate in the research project that you have the necessary skill set. Please check the appropriate box alongside. If you do not meet the skill requirement, please decline the opportunity to participate in the research project."),r.a.createElement("td",{align:"center"},r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q1",value:"Yes",checked:"Yes"===this.state.q1,onChange:this.onChange,className:"form-check-input"}),"Yes")),r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q1",value:"No",checked:"No"===this.state.q1,onChange:this.onChange,className:"form-check-input"}),"No")))),r.a.createElement("tr",null,r.a.createElement("td",{align:"justify"},"I understand that my participation is voluntary and that I am free to withdraw at any time without giving any reason, and without my rights being affected. In addition, should I not wish to answer any questions or submit any forecasts, I am free to decline."),r.a.createElement("td",{align:"center"},r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q2",value:"Yes",checked:"Yes"===this.state.q2,onChange:this.onChange,className:"form-check-input"}),"Yes")),r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q2",value:"No",checked:"No"===this.state.q2,onChange:this.onChange,className:"form-check-input"}),"No")))),r.a.createElement("tr",null,r.a.createElement("td",{align:"justify"},"I understand that, under the UK Data Protection Act, I can at any time ask for access to the information I provided, and I can also request the destruction of that information if I wish, and withdraw from the research project."),r.a.createElement("td",{align:"center"},r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q3",value:"Yes",checked:"Yes"===this.state.q3,onChange:this.onChange,className:"form-check-input"}),"Yes")),r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q3",value:"No",checked:"No"===this.state.q3,onChange:this.onChange,className:"form-check-input"}),"No")))),r.a.createElement("tr",null,r.a.createElement("td",{align:"justify"},"I understand that confidentiality and anonymity will be maintained, and it will not be possible to identify me in any publications."),r.a.createElement("td",{align:"center"},r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q4",value:"Yes",checked:"Yes"===this.state.q4,onChange:this.onChange,className:"form-check-input"}),"Yes")),r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q4",value:"No",checked:"No"===this.state.q4,onChange:this.onChange,className:"form-check-input"}),"No")))),r.a.createElement("tr",null,r.a.createElement("td",{align:"justify"},"I agree for the data collected from me to be used in future research and understand that any such use of identifiable data would be reviewed and approved by a university research ethics committee."),r.a.createElement("td",{align:"center"},r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q5",value:"Yes",checked:"Yes"===this.state.q5,onChange:this.onChange,className:"form-check-input"}),"Yes")),r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q5",value:"No",checked:"No"===this.state.q5,onChange:this.onChange,className:"form-check-input"}),"No")))),r.a.createElement("tr",null,r.a.createElement("td",{align:"justify"},"I understand and agree that my participation will be recorded/captured. I am aware of and consent to your use of this recorded information for the purpose of data analysis."),r.a.createElement("td",{align:"center"},r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q6",value:"Yes",checked:"Yes"===this.state.q6,onChange:this.onChange,className:"form-check-input"}),"Yes")),r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q6",value:"No",checked:"No"===this.state.q6,onChange:this.onChange,className:"form-check-input"}),"No")))),r.a.createElement("tr",null,r.a.createElement("td",{align:"justify"},"I understand that my responses will be kept strictly confidential. I give permission for members of the research team to have access to my anonymized responses. I understand that my name will not be linked with the research materials, and I will not be identified or identifiable in the report or reports that result from the research project."),r.a.createElement("td",{align:"center"},r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q7",value:"Yes",checked:"Yes"===this.state.q7,onChange:this.onChange,className:"form-check-input"}),"Yes")),r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q7",value:"No",checked:"No"===this.state.q7,onChange:this.onChange,className:"form-check-input"}),"No")))),r.a.createElement("tr",null,r.a.createElement("td",{align:"justify"},"I agree that the data collected from me may be used in other relevant future research on the same confidential basis as specified for this research project."),r.a.createElement("td",{align:"center"},r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q8",value:"Yes",checked:"Yes"===this.state.q8,onChange:this.onChange,className:"form-check-input"}),"Yes")),r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q8",value:"No",checked:"No"===this.state.q8,onChange:this.onChange,className:"form-check-input"}),"No")))),r.a.createElement("tr",null,r.a.createElement("td",{align:"justify"},"I understand the purpose of the research project is to investigate metal price forecasting and specifically acknowledge the intention of the research is not to provide any trading or financial recommendation on future metal prices. Any inferences drawn or made about future metal prices because of participating in the research are solely mine, and I take full responsibility for any actions I may take stemming from such expectations."),r.a.createElement("td",{align:"center"},r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q9",value:"Yes",checked:"Yes"===this.state.q9,onChange:this.onChange,className:"form-check-input"}),"Yes")),r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q9",value:"Yes",checked:"Yes"===this.state.q9,onChange:this.onChange,className:"form-check-input"}),"No")))),r.a.createElement("tr",null,r.a.createElement("td",{align:"justify"},"I agree to take part in the the research project."),r.a.createElement("td",{align:"center"},r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q10",value:"Yes",checked:"Yes"===this.state.q10,onChange:this.onChange,className:"form-check-input"}),"Yes")),r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"q10",value:"No",checked:"No"===this.state.q10,onChange:this.onChange,className:"form-check-input"}),"No"))))))),r.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"})),r.a.createElement("div",null,r.a.createElement("h4",null,"Additional Information"),r.a.createElement("p",{className:"text-justify"},"Should you have any further questions, please read the Additional Information webpage. If you still have any questions or concerns thereafter, please use the contact details provided to contact us for further information or clarification."),r.a.createElement("h4",null,"Availability of dissertation"),r.a.createElement("p",{className:"text-justify"},"When the research project is completed and the final dissertation is published, a copy will be made available on the website, should any participants wish to have access to a copy."))))))}}]),a}(n.Component);V.prototypes={registerUser:I.a.func.isRequired,auth:I.a.object.isRequired};var U=Object(d.b)((function(e){return{auth:e.auth}}),{registerUser:function(e,t){return function(a){u.a.post("/api/users/register",e).then((function(e){return t.push("/login")})).catch((function(e){return a({type:"GET_ERRORS",payload:e.response.data})}))}}})(V),Y=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(){var e;return Object(k.a)(this,a),(e=t.call(this)).state={email:"",password:"",errors:{}},e.onChange=e.onChange.bind(Object(F.a)(e)),e.onSubmit=e.onSubmit.bind(Object(F.a)(e)),e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/dashboard"),e.errors&&this.setState({errors:e.errors})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};this.props.loginUser(t)}},{key:"onChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("p",null),r.a.createElement("p",null),r.a.createElement("p",null),r.a.createElement("h1",{className:"display-4 text-center"},"Log In"),r.a.createElement("h3",{className:"lead text-center"},"Sign in to your Consensus Metals Forecasting Account"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(L,{placeholder:"Email Address",name:"email",type:"email",value:this.state.email,onChange:this.onChange,error:e.email}),r.a.createElement(L,{placeholder:"Password",name:"password",type:"password",value:this.state.password,onChange:this.onChange,error:e.password}),r.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"}))))))}}]),a}(n.Component),J=Object(d.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:function(e){return function(t){u.a.post("/api/users/login",e).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),h(a);var n=p()(a);t(E(n))})).catch((function(e){return t({type:"GET_ERRORS",payload:e.response.data})}))}}})(Y),B=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"render",value:function(){return r.a.createElement("body",null,r.a.createElement("table",{className:"table table-bordered table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("td",{colspan:"2"},"PARTICIPANT CONSENT TERMS")),r.a.createElement("tr",null,r.a.createElement("td",null,"Consent questions"),r.a.createElement("td",null,"yes/no"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"I confirm that I have read and have understood the Participant Information Page for this study. I have had the opportunity to consider the information, ask questions, and have had these answered satisfactorily."),r.a.createElement("td",null,r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"question1",id:"y1",value:"yes"}),"yes")),r.a.createElement("div",{class:"answ"},r.a.createElement("label",{for:"n1"},r.a.createElement("input",{type:"radio",name:"question1",id:"n1",value:"no"}),"no")))),r.a.createElement("tr",null,r.a.createElement("td",null,"I confirm part of my skill set is preparing and/or using longer-term commodity price forecasts, and it is an expected requirement to be accepted on to the survey panel for this research project. Please check the appropriate box alongside. If you do not meet the skill requirement, please decline the opportunity to participate in this research project."),r.a.createElement("td",null,r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"question2",id:"y2",value:"yes"}),"yes")),r.a.createElement("div",{class:"answ"},r.a.createElement("label",{for:"n2"},r.a.createElement("input",{type:"radio",name:"question2",id:"n2",value:"no"}),"no")))),r.a.createElement("tr",null,r.a.createElement("td",null,"I understand that my participation is voluntary and that I am free to withdraw at any time without giving any reason, without my rights being affected. In addition, should I not wish to answer any question or questions, I am free to decline."),r.a.createElement("td",null,r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"question3",id:"y3",value:"yes"}),"yes")),r.a.createElement("div",{class:"answ"},r.a.createElement("label",{for:"n3"},r.a.createElement("input",{type:"radio",name:"question3",id:"n3",value:"no"}),"no")))),r.a.createElement("tr",null,r.a.createElement("td",null,"I understand that, under the Data Protection Act, I can at any time ask for access to the information I provide, and I can also request the destruction of that information if I wish."),r.a.createElement("td",null,r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"question4",id:"y4",value:"yes"}),"yes")),r.a.createElement("div",{class:"answ"},r.a.createElement("label",{for:"n4"},r.a.createElement("input",{type:"radio",name:"question4",id:"n3",value:"no"}),"no")))),r.a.createElement("tr",null,r.a.createElement("td",null,"The information you have submitted will be published as a report; please indicate whether you would like to receive an electronic copy of the research report."),r.a.createElement("td",null,r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"question5",id:"y5",value:"yes"}),"yes")),r.a.createElement("div",{class:"answ"},r.a.createElement("label",{for:"n5"},r.a.createElement("input",{type:"radio",name:"question5",id:"n3",value:"no"}),"no")))),r.a.createElement("tr",null,r.a.createElement("td",null,"I understand that confidentiality and anonymity will be maintained, and it will not be possible to identify me in any publications."),r.a.createElement("td",null,r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"question6",id:"y6",value:"yes"}),"yes")),r.a.createElement("div",{class:"answ"},r.a.createElement("label",{for:"n6"},r.a.createElement("input",{type:"radio",name:"question6",id:"n6",value:"no"}),"no")))),r.a.createElement("tr",null,r.a.createElement("td",null,"I agree for the data collected from me to be used in future research and understand that any such use of identifiable data would be reviewed and approved by a research ethics committee."),r.a.createElement("td",null,r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"question7",id:"y7",value:"yes"}),"yes")),r.a.createElement("div",{class:"answ"},r.a.createElement("label",{for:"n7"},r.a.createElement("input",{type:"radio",name:"question7",id:"n7",value:"no"}),"no")))),r.a.createElement("tr",null,r.a.createElement("td",null,"I understand and agree that my participation will be recorded/captured. I am aware of and consent to your use of this recorded information for the purpose of data analysis."),r.a.createElement("td",null,r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"question8",id:"y8",value:"yes"}),"yes")),r.a.createElement("div",{class:"answ"},r.a.createElement("label",{for:"n8"},r.a.createElement("input",{type:"radio",name:"question8",id:"n8",value:"no"}),"no")))),r.a.createElement("tr",null,r.a.createElement("td",null,"I agree with the data collected from me to be used in other relevant future research."),r.a.createElement("td",null,r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"question9",id:"y9",value:"yes"}),"yes")),r.a.createElement("div",{class:"answ"},r.a.createElement("label",{for:"n9"},r.a.createElement("input",{type:"radio",name:"question9",id:"n9",value:"no"}),"no")))),r.a.createElement("tr",null,r.a.createElement("td",null,"I understand that my responses will be kept strictly confidential. I give permission for members of the research team to have access to my anonymized responses. I understand that my name will not be linked with the research materials, and I will not be identified or identifiable in the report or reports that result from the research."),r.a.createElement("td",null,r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"question10",id:"y10",value:"yes"}),"yes")),r.a.createElement("div",{class:"answ"},r.a.createElement("label",{for:"n10"},r.a.createElement("input",{type:"radio",name:"question10",id:"n10",value:"no"}),"no")))),r.a.createElement("tr",null,r.a.createElement("td",null,"I understand the purpose of the study is to investigate commodity price forecasting and specifically acknowledge the intention of the research is not to provide any trading or financial recommendation on future commodity price levels. Any inferences drawn or made about future commodity prices because of participating in the research are solely mine, and I take full responsibility for any actions I may take stemming from such expectations."),r.a.createElement("td",null,r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"question11",id:"y11",value:"yes"}),"yes")),r.a.createElement("div",{class:"answ"},r.a.createElement("label",{for:"n11"},r.a.createElement("input",{type:"radio",name:"question11",id:"n11",value:"no"}),"no")))),r.a.createElement("tr",null,r.a.createElement("td",null,"I agree to take part in the this study."),r.a.createElement("td",null,r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"question12",id:"y12",value:"yes"}),"yes")),r.a.createElement("div",{class:"answ"},r.a.createElement("label",{for:"n12"},r.a.createElement("input",{type:"radio",name:"question12",id:"n12",value:"no"}),"no")))))))}}]),a}(n.Component),K=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={commodity:"",mois:"",user:"",priceAvr:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",percent1:"",percent2:"",percent3:"",percent4:"",percent5:"",percent6:"",percent7:"",percent8:"",percent9:"",justif:"",generalcomments:"",specificcomments:"",comments:"",totpercent:"",median:"",lesprix:[],foreprices:[10],lesmoyennes:[0,0,0,0,0,0,0,0,0]},n.fillPrices=n.fillPrices.bind(Object(F.a)(n)),n.trouveLeMedian=n.trouveLeMedian.bind(Object(F.a)(n)),n}return Object(N.a)(a,[{key:"trouveLeMedian",value:function(){var e,t=Math.max(this.state.lesmoyennes[0],this.state.lesmoyennes[1],this.state.lesmoyennes[2],this.state.lesmoyennes[3],this.state.lesmoyennes[4],this.state.lesmoyennes[5],this.state.lesmoyennes[6],this.state.lesmoyennes[7],this.state.lesmoyennes[8]);return t===this.state.lesmoyennes[0]?e=this.state.price1:t===this.state.lesmoyennes[1]?e=this.state.price2:t===this.state.lesmoyennes[2]?e=this.state.price3:t===this.state.lesmoyennes[3]?e=this.state.price4:t===this.state.lesmoyennes[4]?e=this.state.price5:t===this.state.lesmoyennes[5]?e=this.state.price6:t===this.state.lesmoyennes[6]?e=this.state.price7:t===this.state.lesmoyennes[7]?e=this.state.price8:t===this.state.lesmoyennes[8]&&(e=this.state.price9),e}},{key:"fillPrices",value:function(e){var t=this;this.setState({price1:""}),this.setState({price2:""}),this.setState({price3:""}),this.setState({price4:""}),this.setState({price5:""}),this.setState({price6:""}),this.setState({price7:""}),this.setState({price8:""}),this.setState({price9:""});var a=[0,0,0,0,0,0,0,0,0];fetch("/api/beyi/commois/"+e+"&Copper").then((function(e){return e.json()})).then((function(e){e.map((function(e){return t.setState({price1:e.floorprice+0*e.constant1}),t.setState({price2:e.floorprice+1*e.constant1}),t.setState({price3:e.floorprice+2*e.constant1}),t.setState({price4:e.floorprice+3*e.constant1}),t.setState({price5:e.floorprice+4*e.constant1}),t.setState({price6:e.floorprice+5*e.constant1}),t.setState({price7:e.floorprice+6*e.constant1}),t.setState({price8:e.floorprice+7*e.constant1}),t.setState({price9:e.floorprice+8*e.constant1}),{id:e._id}}))})).catch((function(e){console.log(e)})),fetch("/api/menji/dernierda/"+e+"&Copper").then((function(e){return e.json()})).then((function(e){var n=e.map((function(e,n,r){var i=r.length;a[0]=a[0]+e.detail.price1,a[1]=a[1]+e.detail.price2,a[2]=a[2]+e.detail.price3,a[3]=a[3]+e.detail.price4,a[4]=a[4]+e.detail.price5,a[5]=a[5]+e.detail.price6,a[6]=a[6]+e.detail.price7,a[7]=a[7]+e.detail.price8,a[8]=a[8]+e.detail.price9;var s=[];return s[0]=a[0]/i,s[1]=a[1]/i,s[2]=a[2]/i,s[3]=a[3]/i,s[4]=a[4]/i,s[5]=a[5]/i,s[6]=a[6]/i,s[7]=a[7]/i,s[8]=a[8]/i,t.setState({lesmoyennes:[].concat(s)}),{user:e._id.user,price1:e.detail.price1,price2:e.detail.price2,price3:e.detail.price3,price4:e.detail.price4,price5:e.detail.price5,price6:e.detail.price6,price7:e.detail.price7,price8:e.detail.price8,price9:e.detail.price9,lemedian:e.detail.lemedian,lamoyenne:e.detail.lamoyenne,specificcomments:e.detail.specificcomments}}));t.setState({lesprix:[].concat(n)})})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(e){e.mweji!==this.props.mweji&&this.fillPrices(this.props.mweji)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"24",align:"center"},r.a.createElement("b",null,"Most Recent Copper Forecasts - ",this.props.mweji))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Participant")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price1,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price2,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price3,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price4,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price5,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price6,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price7,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price8,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price9,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Justifications"))),this.state.lesprix.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,e.user)),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",Math.round(e.lamoyenne),"/MT")),r.a.createElement("td",{align:"center"},100*e.price1,"%"),r.a.createElement("td",{align:"center"},100*e.price2,"%"),r.a.createElement("td",{align:"center"},100*e.price3,"%"),r.a.createElement("td",{align:"center"},100*e.price4,"%"),r.a.createElement("td",{align:"center"},100*e.price5,"%"),r.a.createElement("td",{align:"center"},100*e.price6,"%"),r.a.createElement("td",{align:"center"},100*e.price7,"%"),r.a.createElement("td",{align:"center"},100*e.price8,"%"),r.a.createElement("td",{align:"center"},100*e.price9,"%"),r.a.createElement("td",{align:"center"},e.specificcomments))})),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Average")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",Math.round(this.state.price1*this.state.lesmoyennes[0]+this.state.price2*this.state.lesmoyennes[1]+this.state.price3*this.state.lesmoyennes[2]+this.state.price4*this.state.lesmoyennes[3]+this.state.price5*this.state.lesmoyennes[4]+this.state.price6*this.state.lesmoyennes[5]+this.state.price7*this.state.lesmoyennes[6]+this.state.price8*this.state.lesmoyennes[7]+this.state.price9*this.state.lesmoyennes[8]),"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[0]),"%")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[1]),"%")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[2]),"%")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[3]),"%")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[4]),"%")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[5]),"%")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[6]),"%")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[7]),"%")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[8]),"%")),r.a.createElement("td",{align:"center"})))))}}]),a}(n.Component),W=a(2),H=[],Q=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={commodity:"",mois:"",user:"",priceAvr:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",percent1:"",percent2:"",percent3:"",percent4:"",percent5:"",percent6:"",percent7:"",percent8:"",percent9:"",justif:"",generalcomments:"",specificcomments:"",comments:"",totpercent:"",median:"",Aprice:[],element:[],averages:[],data1:[8]},n.fillPrices=n.fillPrices.bind(Object(F.a)(n)),n}return Object(N.a)(a,[{key:"fillPrices",value:function(e){var t=this;this.setState({price1:""}),this.setState({price2:""}),this.setState({price3:""}),this.setState({price4:""}),this.setState({price5:""}),this.setState({price6:""}),this.setState({price7:""}),this.setState({price8:""}),this.setState({price9:""});var a=[0,0,0,0,0,0,0,0,0];fetch("/api/beyi/commois/"+e+"&Copper").then((function(e){return e.json()})).then((function(e){e.map((function(e){for(var a=Object(b.a)({},t.state.element),n=0;n<9;n++)a[n]=e.floorprice+e.constant1*n;for(t.setState({element:a});n<9;n++)H[n]=e.floorprice+e.constant1*n;var r=Object(b.a)({},t.state.data1);r=[{price:t.state.element[0],Percentage:t.state.averages[0]}];for(var i=1;i<9;i++)r.push({price:t.state.element[i],Percentage:t.state.averages[i]});return t.setState({data1:r}),{id:e._id}}))})).catch((function(e){console.log(e)})),fetch("/api/menji/dernierda/"+e+"&Copper").then((function(e){return e.json()})).then((function(e){var n=e.map((function(e,n,r){var i=r.length;a[0]=a[0]+e.detail.price1,a[1]=a[1]+e.detail.price2,a[2]=a[2]+e.detail.price3,a[3]=a[3]+e.detail.price4,a[4]=a[4]+e.detail.price5,a[5]=a[5]+e.detail.price6,a[6]=a[6]+e.detail.price7,a[7]=a[7]+e.detail.price8,a[8]=a[8]+e.detail.price9;var s=[];return s[0]=a[0]/i*100,s[1]=a[1]/i*100,s[2]=a[2]/i*100,s[3]=a[3]/i*100,s[4]=a[4]/i*100,s[5]=a[5]/i*100,s[6]=a[6]/i*100,s[7]=a[7]/i*100,s[8]=a[8]/i*100,t.setState({averages:[].concat(s)}),{user:e._id.user,price1:e.detail.price1,price2:e.detail.price2,price3:e.detail.price3,price4:e.detail.price4,price5:e.detail.price5,price6:e.detail.price6,price7:e.detail.price7,price8:e.detail.price8,price9:e.detail.price9,median:e.detail.median,mean:e.detail.mean,specificcomments:e.detail.specificcomments}}));t.setState({Aprice:[{user:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",median:"",mean:"",specificcomments:""}].concat(n)})})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(e){e.mweji!==this.props.mweji&&this.fillPrices(this.props.mweji)}},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"70%",height:300}},r.a.createElement(W.e,null,r.a.createElement(W.b,{layout:"vertical",width:500,height:300,data:this.state.data1,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(W.c,{strokeDasharray:"3 3"}),r.a.createElement(W.g,{type:"number"}),r.a.createElement(W.h,{dataKey:"price",type:"category"}),r.a.createElement(W.f,null),r.a.createElement(W.d,null),r.a.createElement(W.a,{dataKey:"Percentage",fill:"#CC9900"}))))}}]),a}(n.PureComponent),X=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).cancelCourse=function(){n.myFormRef.reset()},n.state={commodity:"",mois:"",user:"",priceAvr:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",lamoyenne:"",lemedian:"",percent1:"",percent2:"",percent3:"",percent4:"",percent5:"",percent6:"",percent7:"",percent8:"",percent9:"",justif:"",generalcomments:"",specificcomments:"",filecomments:"",comments:"",totpercent:"",myFormRef:"",currentmonth:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],foreprices:[8],fichier:null,fraicheur:0},window.onbeforeunload=function(){window.scrollTo(0,0)},n.onChange=n.onChange.bind(Object(F.a)(n)),n.onSubmit=n.onSubmit.bind(Object(F.a)(n)),n}return Object(N.a)(a,[{key:"onChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"componentDidUpdate",value:function(){if(0!==this.state.fraicheur){var e=this.state.mois;this.setState({mois:e}),this.setState({fraicheur:0})}}},{key:"onSubmit",value:function(e){var t=this;if(!(y(this.state.percent1)&&y(this.state.percent2)&&y(this.state.percent3)&&y(this.state.percent4)&&y(this.state.percent5)&&y(this.state.percent6)&&y(this.state.percent7)&&y(this.state.percent8)&&y(this.state.percent9))){(new Date).toLocaleString();var a=this.props.auth.user,n=new FormData;e.preventDefault(),this.setState({fraicheur:0});var r=Math.max(this.state.percent1,this.state.percent2,this.state.percent3,this.state.percent4,this.state.percent5,this.state.percent6,this.state.percent7,this.state.percent8,this.state.percent9),i=0;r===this.state.percent1?i=this.state.price1:r===this.state.percent2?i=this.state.price2:r===this.state.percent3?i=this.state.price3:r===this.state.percent4?i=this.state.price4:r===this.state.percent5?i=this.state.price5:r===this.state.percent6?i=this.state.price6:r===this.state.percent7?i=this.state.price7:r===this.state.percent8?i=this.state.price8:r===this.state.percent9&&(i=this.state.price9),this.setState({lemedian:i});var s={user:a.name,commodity:"Copper",mois:this.state.mois,dateforecast:new Date,price1:this.state.percent1,price2:this.state.percent2,price3:this.state.percent3,price4:this.state.percent4,price5:this.state.percent5,price6:this.state.percent6,price7:this.state.percent7,price8:this.state.percent8,price9:this.state.percent9,lemedian:i,lamoyenne:this.state.lamoyenne,specificcomments:this.state.specificcomments,generalcomments:this.state.generalcomments,documentShared:"",filecomments:this.state.filecomments};u.a.post("/api/menji/sauvegarde",s).then((function(e){})).catch((function(e){return t.setState({errors:e.response.data})})),this.setState({percent1:""}),this.setState({percent2:""}),this.setState({percent3:""}),this.setState({percent4:""}),this.setState({percent5:""}),this.setState({percent6:""}),this.setState({percent7:""}),this.setState({percent8:""}),this.setState({percent9:""}),this.setState({totpercent:""}),this.setState({specificcomments:""}),this.setState({generalcomments:""}),this.setState({filecomments:""});var c=this.state.mois;this.setState({mois:c}),this.setState({fraicheur:1}),n.append("myfile",this.state.file);u.a.post("/api/file/upload",n,{headers:{"content-type":"multipart/form-data"}}).then((function(e){})).catch((function(e){}))}}},{key:"fillPrices",value:function(e){var t=this;this.setState({price1:""}),this.setState({price2:""}),this.setState({price3:""}),this.setState({price4:""}),this.setState({price5:""}),this.setState({price6:""}),this.setState({price7:""}),this.setState({price8:""}),this.setState({price9:""}),fetch("/api/beyi/commois/"+e+"&Copper").then((function(e){return e.json()})).then((function(e){e.map((function(e){return t.setState({price1:e.floorprice+0*e.constant1}),t.setState({price2:e.floorprice+1*e.constant1}),t.setState({price3:e.floorprice+2*e.constant1}),t.setState({price4:e.floorprice+3*e.constant1}),t.setState({price5:e.floorprice+4*e.constant1}),t.setState({price6:e.floorprice+5*e.constant1}),t.setState({price7:e.floorprice+6*e.constant1}),t.setState({price8:e.floorprice+7*e.constant1}),t.setState({price9:e.floorprice+8*e.constant1}),{id:e._id}}))})).catch((function(e){console.log(e)})),this.setState({mois:e})}},{key:"CalculPondere",value:function(e,t){this.setState({priceAvr:""});var a=this.state.price1*(1===t?e:this.state.percent1)+this.state.price2*(2===t?e:this.state.percent2)+this.state.price3*(3===t?e:this.state.percent3)+this.state.price4*(4===t?e:this.state.percent4)+this.state.price5*(5===t?e:this.state.percent5)+this.state.price6*(6===t?e:this.state.percent6)+this.state.price7*(7===t?e:this.state.percent7)+this.state.price8*(8===t?e:this.state.percent8)+this.state.price9*(9===t?e:this.state.percent9);this.setState({priceAvr:a}),this.setState({lamoyenne:a})}},{key:"TotalPourcent",value:function(e,t){this.setState({totpercent:""});var a=100*(1===t?e:this.state.percent1)+100*(2===t?e:this.state.percent2)+100*(3===t?e:this.state.percent3)+100*(4===t?e:this.state.percent4)+100*(5===t?e:this.state.percent5)+100*(6===t?e:this.state.percent6)+100*(7===t?e:this.state.percent7)+100*(8===t?e:this.state.percent8)+100*(9===t?e:this.state.percent9);this.setState({totpercent:a})}},{key:"render",value:function(){var e=this,t=this.props.auth.user;return r.a.createElement("div",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit,ref:function(t){return e.myFormRef=t}},r.a.createElement("table",{className:"table table-bordered",style:{width:"75%"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"12",align:"center"},r.a.createElement("b",null,"Consensus Metals Panel - Copper Forecast Inputs"))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("label",null,r.a.createElement("b",null,"Metal"))),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Copper")),r.a.createElement("td",{className:"instruction",rowSpan:"3",colSpan:"11",align:"left"},r.a.createElement("b",null,"Instructions"),":"," ",r.a.createElement("i",null,r.a.createElement("td",{align:"justify"},"Please select a month on the ",r.a.createElement("b",null,"Left")," for which you want to make a copper price forecast. Once the month has been choosen, please select the expected probability you want to assign to the indicated price baskets, such that the total probabilities sums to 100%. It would be appreciated if you could also provide an indication of the basis for your copper price forecast in the text box beneath the forecast probability table. Based on the combined inputs of all panel participants, a consensus copper price forecast will been computed. In the general comments section please feel free to comment on the consensus copper price forecast relative to your views and that of other participants. You can also make comments about other participant\u2019s views in the general comments section.")))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("label",null,r.a.createElement("b",null,"Month"))),r.a.createElement("td",{align:"center"},r.a.createElement("select",{id:"mnth",name:"month",value:this.state.mois,onChange:function(t){e.setState({mois:t.target.value,validationError:""===t.target.value?"Select a month":""}),e.fillPrices(t.target.value)}},r.a.createElement("option",{value:""},"Select a month"),this.state.months.slice((new Date).getMonth(),12).map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e+" "+(new Date).getFullYear())}))))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("label",null,r.a.createElement("b",null,"Username"))),r.a.createElement("td",{align:"center"},r.a.createElement("h3",null,t.name))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("b",null,"Expected Price")),r.a.createElement("td",{id:"avrg",align:"center"},r.a.createElement("b",null,"$",this.state.priceAvr,"/MT")),r.a.createElement("td",{align:"center"},"  "),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price1,"/MT")),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price2,"/MT")),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price3,"/MT")),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price4,"/MT")),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price5,"/MT")),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price6,"/MT")),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price7,"/MT")),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price8,"/MT")),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price9,"/MT"))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("b",null,"Expected Probability")),r.a.createElement("td",{align:"center"},r.a.createElement("i",null,"NB: the total must sum to 100%")),r.a.createElement("td",{id:"sum_percent",align:"center"},this.state.totpercent,"%"),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent1",type:"number",value:this.state.percent1,onChange:function(t){e.setState({percent1:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,1),e.TotalPourcent(t.target.value,1)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%"))),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent2",type:"number",value:this.state.percent2,onChange:function(t){e.setState({percent2:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,2),e.TotalPourcent(t.target.value,2)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%"))),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent3",type:"number",value:this.state.percent3,onChange:function(t){e.setState({percent3:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,3),e.TotalPourcent(t.target.value,3)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%"))),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent4",type:"number",value:this.state.percent4,onChange:function(t){e.setState({percent4:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,4),e.TotalPourcent(t.target.value,4)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%"))),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent5",type:"number",value:this.state.percent5,onChange:function(t){e.setState({percent5:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,5),e.TotalPourcent(t.target.value,5)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%"))),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent6",type:"number",value:this.state.percent6,onChange:function(t){e.setState({percent6:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,6),e.TotalPourcent(t.target.value,6)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%"))),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent7",type:"number",value:this.state.percent7,onChange:function(t){e.setState({percent7:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,7),e.TotalPourcent(t.target.value,7)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%"))),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent8",type:"number",value:this.state.percent8,onChange:function(t){e.setState({percent8:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,8),e.TotalPourcent(t.target.value,8)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%"))),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent9",type:"number",value:this.state.percent9,onChange:function(t){e.setState({percent9:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,9),e.TotalPourcent(t.target.value,9)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%")))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("b",null,"Forecast Justication")),r.a.createElement("td",{colSpan:"11"},r.a.createElement("textarea",{name:"specificcomments",isRequired:"true",onChange:this.onChange,value:this.state.specificcomments,placeholder:"Please briefly explain the basis for your copper price forecast.",rows:"4",align:"justify",wrap:"soft",style:{width:"100%"}}))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("b",null,"General Comments")),r.a.createElement("td",{colSpan:"11"},r.a.createElement("textarea",{name:"generalcomments",isRequired:"true",onChange:this.onChange,value:this.state.generalcomments,placeholder:"If you wish to make any general comments about the consensus copper price forecast or other participant's forecasts. If you wish to share any documents, please paste the relevant website URL here. Please ensure you are permitted to share the document before posting the link.",rows:"4",align:"justify",wrap:"soft",style:{width:"100%"}}))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("b",null,"Submit Forecast")),r.a.createElement("td",{align:"center"},r.a.createElement("input",{type:"submit",formtarget:"Your forecast has been submitted",placeholder:"YES",className:"btn btn-info btn-block mt-4"})),r.a.createElement("td",{colSpan:"10",align:"left"},r.a.createElement("i",null,r.a.createElement("td",{align:"justify"},"  ","You can submit forecasts as often as you choose. Please try keep forecasts realistic. Any abnormal or extreme forecasts will be impact on the aggregated consensus copper price.")))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("b",null,"Date")),r.a.createElement("td",{align:"center"},(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),r.a.createElement("td",{colSpan:"10",rowSpan:"2",align:"left"},r.a.createElement("i",null,r.a.createElement("td",{align:"justify"},"  ","This will be the date and time used to record your copper price forecast. The date and time will also be used in the ranking calculations.")))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("b",null,"Time")),r.a.createElement("td",{align:"center"},(new Date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})))))),r.a.createElement("div",null,r.a.createElement(Q,{mweji:this.state.mois}),r.a.createElement(K,{mweji:this.state.mois})))}}]),a}(n.Component),Z=Object(d.b)((function(e){return{auth:e.auth}}),{})(X),ee=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={commodity:"",month:"",floorprice:"",constant1:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],errors:{}},n.onChange=n.onChange.bind(Object(F.a)(n)),n.onSubmit=n.onSubmit.bind(Object(F.a)(n)),n}return Object(N.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={commodity:this.state.commodity,month:this.state.month,floorprice:this.state.floorprice,constant1:this.state.constant1};u.a.post("api/beyi/enregistrer",a).then((function(e){return console.log(e.data)})).catch((function(e){return t.setState({errors:e.response.data})})),this.setState({month:"",commodity:"",floorprice:"",constant1:""})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-4 text-center"},"Prices "),r.a.createElement("p",{className:"lead text-center"},"Input Price projections for a month"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{id:"mois",name:"month",value:this.state.month,className:"form-control form-control-lg",onChange:function(t){return e.setState({month:t.target.value,validationError:""===t.target.value?"Select a month":""})}},r.a.createElement("option",{value:""},"-- Select a month --"),this.state.months.slice((new Date).getMonth(),12).map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e+" "+(new Date).getFullYear())})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{name:"commodity",value:this.state.commodity,onChange:this.onChange,className:"form-control form-control-lg"},r.a.createElement("option",{value:""},"-- Select Commodity --"),r.a.createElement("option",{value:"Copper"},"Copper"),r.a.createElement("option",{value:"Gold"},"Gold"))),r.a.createElement(L,{placeholder:"Floor price",name:"floorprice",type:"number",value:this.state.floorprice,onChange:this.onChange}),r.a.createElement(L,{placeholder:"constant",name:"constant1",type:"number",value:this.state.constant1,onChange:this.onChange}),r.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"}))))))}}]),a}(n.Component);ee.protoTypes={registerPrice:I.a.func.isRequired,auth:I.a.object.isRequired};Object(d.b)((function(e){return{auth:e.auth,input:e.input}}),{})(ee);var te=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={commodity:"",mois:"",user:"",priceAvr:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",percent1:"",percent2:"",percent3:"",percent4:"",percent5:"",percent6:"",percent7:"",percent8:"",percent9:"",justif:"",generalcomments:"",specificcomments:"",comments:"",totpercent:"",median:"",lesprix:[],foreprices:[10],lesmoyennes:[0,0,0,0,0,0,0,0,0]},n.fillPrices=n.fillPrices.bind(Object(F.a)(n)),n.trouveLeMedian=n.trouveLeMedian.bind(Object(F.a)(n)),n}return Object(N.a)(a,[{key:"trouveLeMedian",value:function(){var e,t=Math.max(this.state.lesmoyennes[0],this.state.lesmoyennes[1],this.state.lesmoyennes[2],this.state.lesmoyennes[3],this.state.lesmoyennes[4],this.state.lesmoyennes[5],this.state.lesmoyennes[6],this.state.lesmoyennes[7],this.state.lesmoyennes[8]);return t===this.state.lesmoyennes[0]?e=this.state.price1:t===this.state.lesmoyennes[1]?e=this.state.price2:t===this.state.lesmoyennes[2]?e=this.state.price3:t===this.state.lesmoyennes[3]?e=this.state.price4:t===this.state.lesmoyennes[4]?e=this.state.price5:t===this.state.lesmoyennes[5]?e=this.state.price6:t===this.state.lesmoyennes[6]?e=this.state.price7:t===this.state.lesmoyennes[7]?e=this.state.price8:t===this.state.lesmoyennes[8]&&(e=this.state.price9),e}},{key:"fillPrices",value:function(e){var t=this;this.setState({price1:""}),this.setState({price2:""}),this.setState({price3:""}),this.setState({price4:""}),this.setState({price5:""}),this.setState({price6:""}),this.setState({price7:""}),this.setState({price8:""}),this.setState({price9:""});var a=[0,0,0,0,0,0,0,0,0];fetch("/api/beyi/commois/"+e+"&Gold").then((function(e){return e.json()})).then((function(e){e.map((function(e){return t.setState({price1:e.floorprice+0*e.constant1}),t.setState({price2:e.floorprice+1*e.constant1}),t.setState({price3:e.floorprice+2*e.constant1}),t.setState({price4:e.floorprice+3*e.constant1}),t.setState({price5:e.floorprice+4*e.constant1}),t.setState({price6:e.floorprice+5*e.constant1}),t.setState({price7:e.floorprice+6*e.constant1}),t.setState({price8:e.floorprice+7*e.constant1}),t.setState({price9:e.floorprice+8*e.constant1}),{id:e._id}}))})).catch((function(e){console.log(e)})),fetch("/api/menji/dernierda/"+e+"&Gold").then((function(e){return e.json()})).then((function(e){var n=e.map((function(e,n,r){var i=r.length;a[0]=a[0]+e.detail.price1,a[1]=a[1]+e.detail.price2,a[2]=a[2]+e.detail.price3,a[3]=a[3]+e.detail.price4,a[4]=a[4]+e.detail.price5,a[5]=a[5]+e.detail.price6,a[6]=a[6]+e.detail.price7,a[7]=a[7]+e.detail.price8,a[8]=a[8]+e.detail.price9;var s=[];return s[0]=a[0]/i,s[1]=a[1]/i,s[2]=a[2]/i,s[3]=a[3]/i,s[4]=a[4]/i,s[5]=a[5]/i,s[6]=a[6]/i,s[7]=a[7]/i,s[8]=a[8]/i,t.setState({lesmoyennes:[].concat(s)}),{user:e._id.user,price1:e.detail.price1,price2:e.detail.price2,price3:e.detail.price3,price4:e.detail.price4,price5:e.detail.price5,price6:e.detail.price6,price7:e.detail.price7,price8:e.detail.price8,price9:e.detail.price9,lemedian:e.detail.lemedian,lamoyenne:e.detail.lamoyenne,specificcomments:e.detail.specificcomments}}));t.setState({lesprix:[].concat(n)})})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(e){e.mweji!==this.props.mweji&&this.fillPrices(this.props.mweji)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"24",align:"center"},r.a.createElement("b",null,"Most Recent Gold Forecasts - ",this.props.mweji))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Participant")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price1,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price2,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price3,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price4,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price5,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price6,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price7,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price8,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price9,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Justifications"))),this.state.lesprix.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,e.user)),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",Math.round(e.lamoyenne),"/oz")),r.a.createElement("td",{align:"center"},100*e.price1,"%"),r.a.createElement("td",{align:"center"},100*e.price2,"%"),r.a.createElement("td",{align:"center"},100*e.price3,"%"),r.a.createElement("td",{align:"center"},100*e.price4,"%"),r.a.createElement("td",{align:"center"},100*e.price5,"%"),r.a.createElement("td",{align:"center"},100*e.price6,"%"),r.a.createElement("td",{align:"center"},100*e.price7,"%"),r.a.createElement("td",{align:"center"},100*e.price8,"%"),r.a.createElement("td",{align:"center"},100*e.price9,"%"),r.a.createElement("td",{align:"center"},e.specificcomments))})),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Average")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",Math.round(this.state.price1*this.state.lesmoyennes[0]+this.state.price2*this.state.lesmoyennes[1]+this.state.price3*this.state.lesmoyennes[2]+this.state.price4*this.state.lesmoyennes[3]+this.state.price5*this.state.lesmoyennes[4]+this.state.price6*this.state.lesmoyennes[5]+this.state.price7*this.state.lesmoyennes[6]+this.state.price8*this.state.lesmoyennes[7]+this.state.price9*this.state.lesmoyennes[8]),"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[0]),"%")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[1]),"%")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[2]),"%")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[3]),"%")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[4]),"%")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[5]),"%")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[6]),"%")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[7]),"%")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,Math.round(100*this.state.lesmoyennes[8]),"%")),r.a.createElement("td",{align:"center"})))))}}]),a}(n.Component),ae=[],ne=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={commodity:"",mois:"",user:"",priceAvr:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",percent1:"",percent2:"",percent3:"",percent4:"",percent5:"",percent6:"",percent7:"",percent8:"",percent9:"",justif:"",generalcomments:"",specificcomments:"",comments:"",totpercent:"",median:"",Aprice:[],element:[],averages:[],data1:[8]},n.fillPrices=n.fillPrices.bind(Object(F.a)(n)),n}return Object(N.a)(a,[{key:"fillPrices",value:function(e){var t=this;this.setState({price1:""}),this.setState({price2:""}),this.setState({price3:""}),this.setState({price4:""}),this.setState({price5:""}),this.setState({price6:""}),this.setState({price7:""}),this.setState({price8:""}),this.setState({price9:""});var a=[0,0,0,0,0,0,0,0,0];fetch("/api/beyi/commois/"+e+"&Gold").then((function(e){return e.json()})).then((function(e){e.map((function(e){for(var a=Object(b.a)({},t.state.element),n=0;n<9;n++)a[n]=e.floorprice+e.constant1*n;for(t.setState({element:a});n<9;n++)ae[n]=e.floorprice+e.constant1*n;var r=Object(b.a)({},t.state.data1);r=[{price:t.state.element[0],Percentage:t.state.averages[0]}];for(var i=1;i<9;i++)r.push({price:t.state.element[i],Percentage:t.state.averages[i]});return t.setState({data1:r}),{id:e._id}}))})).catch((function(e){console.log(e)})),fetch("/api/menji/dernierda/"+e+"&Gold").then((function(e){return e.json()})).then((function(e){var n=e.map((function(e,n,r){var i=r.length;a[0]=a[0]+e.detail.price1,a[1]=a[1]+e.detail.price2,a[2]=a[2]+e.detail.price3,a[3]=a[3]+e.detail.price4,a[4]=a[4]+e.detail.price5,a[5]=a[5]+e.detail.price6,a[6]=a[6]+e.detail.price7,a[7]=a[7]+e.detail.price8,a[8]=a[8]+e.detail.price9;var s=[];return s[0]=a[0]/i*100,s[1]=a[1]/i*100,s[2]=a[2]/i*100,s[3]=a[3]/i*100,s[4]=a[4]/i*100,s[5]=a[5]/i*100,s[6]=a[6]/i*100,s[7]=a[7]/i*100,s[8]=a[8]/i*100,t.setState({averages:[].concat(s)}),{user:e._id.user,price1:e.detail.price1,price2:e.detail.price2,price3:e.detail.price3,price4:e.detail.price4,price5:e.detail.price5,price6:e.detail.price6,price7:e.detail.price7,price8:e.detail.price8,price9:e.detail.price9,median:e.detail.median,mean:e.detail.mean,specificcomments:e.detail.specificcomments}}));t.setState({Aprice:[{user:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",median:"",mean:"",specificcomments:""}].concat(n)})})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(e){e.mweji!==this.props.mweji&&this.fillPrices(this.props.mweji)}},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"70%",height:300}},r.a.createElement(W.e,null,r.a.createElement(W.b,{layout:"vertical",width:500,height:300,data:this.state.data1,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(W.c,{strokeDasharray:"3 3"}),r.a.createElement(W.g,{type:"number"}),r.a.createElement(W.h,{dataKey:"price",type:"category"}),r.a.createElement(W.f,null),r.a.createElement(W.d,null),r.a.createElement(W.a,{dataKey:"Percentage",fill:"#CC9900"}))))}}]),a}(n.PureComponent),re=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).cancelCourse=function(){n.myFormRef.reset()},n.state={commodity:"",mois:"",user:"",priceAvr:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",lamoyenne:"",lemedian:"",percent1:"",percent2:"",percent3:"",percent4:"",percent5:"",percent6:"",percent7:"",percent8:"",percent9:"",justif:"",generalcomments:"",specificcomments:"",filecomments:"",comments:"",totpercent:"",myFormRef:"",currentmonth:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],foreprices:[8],fichier:null,fraicheur:0},window.onbeforeunload=function(){window.scrollTo(0,0)},n.onChange=n.onChange.bind(Object(F.a)(n)),n.onSubmit=n.onSubmit.bind(Object(F.a)(n)),n}return Object(N.a)(a,[{key:"onChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"componentDidUpdate",value:function(){if(0!==this.state.fraicheur){var e=this.state.mois;this.setState({mois:e}),this.setState({fraicheur:0})}}},{key:"onSubmit",value:function(e){var t=this;if(!(y(this.state.percent1)&&y(this.state.percent2)&&y(this.state.percent3)&&y(this.state.percent4)&&y(this.state.percent5)&&y(this.state.percent6)&&y(this.state.percent7)&&y(this.state.percent8)&&y(this.state.percent9))){(new Date).toLocaleString();var a=this.props.auth.user,n=new FormData;e.preventDefault(),this.setState({fraicheur:0});var r=Math.max(this.state.percent1,this.state.percent2,this.state.percent3,this.state.percent4,this.state.percent5,this.state.percent6,this.state.percent7,this.state.percent8,this.state.percent9),i=0;r===this.state.percent1?i=this.state.price1:r===this.state.percent2?i=this.state.price2:r===this.state.percent3?i=this.state.price3:r===this.state.percent4?i=this.state.price4:r===this.state.percent5?i=this.state.price5:r===this.state.percent6?i=this.state.price6:r===this.state.percent7?i=this.state.price7:r===this.state.percent8?i=this.state.price8:r===this.state.percent9&&(i=this.state.price9),this.setState({lemedian:i});var s={user:a.name,commodity:"Gold",mois:this.state.mois,dateforecast:new Date,price1:this.state.percent1,price2:this.state.percent2,price3:this.state.percent3,price4:this.state.percent4,price5:this.state.percent5,price6:this.state.percent6,price7:this.state.percent7,price8:this.state.percent8,price9:this.state.percent9,lemedian:i,lamoyenne:this.state.lamoyenne,specificcomments:this.state.specificcomments,generalcomments:this.state.generalcomments,documentShared:"",filecomments:this.state.filecomments};u.a.post("/api/menji/sauvegarde",s).then((function(e){})).catch((function(e){return t.setState({errors:e.response.data})})),this.setState({percent1:""}),this.setState({percent2:""}),this.setState({percent3:""}),this.setState({percent4:""}),this.setState({percent5:""}),this.setState({percent6:""}),this.setState({percent7:""}),this.setState({percent8:""}),this.setState({percent9:""}),this.setState({totpercent:""}),this.setState({specificcomments:""}),this.setState({generalcomments:""}),this.setState({filecomments:""});var c=this.state.mois;this.setState({mois:c}),this.setState({fraicheur:1}),n.append("myfile",this.state.file);u.a.post("/api/file/upload",n,{headers:{"content-type":"multipart/form-data"}}).then((function(e){})).catch((function(e){}))}}},{key:"fillPrices",value:function(e){var t=this;this.setState({price1:""}),this.setState({price2:""}),this.setState({price3:""}),this.setState({price4:""}),this.setState({price5:""}),this.setState({price6:""}),this.setState({price7:""}),this.setState({price8:""}),this.setState({price9:""}),fetch("/api/beyi/commois/"+e+"&Gold").then((function(e){return e.json()})).then((function(e){e.map((function(e){return t.setState({price1:e.floorprice+0*e.constant1}),t.setState({price2:e.floorprice+1*e.constant1}),t.setState({price3:e.floorprice+2*e.constant1}),t.setState({price4:e.floorprice+3*e.constant1}),t.setState({price5:e.floorprice+4*e.constant1}),t.setState({price6:e.floorprice+5*e.constant1}),t.setState({price7:e.floorprice+6*e.constant1}),t.setState({price8:e.floorprice+7*e.constant1}),t.setState({price9:e.floorprice+8*e.constant1}),{id:e._id}}))})).catch((function(e){console.log(e)})),this.setState({mois:e})}},{key:"CalculPondere",value:function(e,t){this.setState({priceAvr:""});var a=this.state.price1*(1===t?e:this.state.percent1)+this.state.price2*(2===t?e:this.state.percent2)+this.state.price3*(3===t?e:this.state.percent3)+this.state.price4*(4===t?e:this.state.percent4)+this.state.price5*(5===t?e:this.state.percent5)+this.state.price6*(6===t?e:this.state.percent6)+this.state.price7*(7===t?e:this.state.percent7)+this.state.price8*(8===t?e:this.state.percent8)+this.state.price9*(9===t?e:this.state.percent9);this.setState({priceAvr:a}),this.setState({lamoyenne:a})}},{key:"TotalPourcent",value:function(e,t){this.setState({totpercent:""});var a=100*(1===t?e:this.state.percent1)+100*(2===t?e:this.state.percent2)+100*(3===t?e:this.state.percent3)+100*(4===t?e:this.state.percent4)+100*(5===t?e:this.state.percent5)+100*(6===t?e:this.state.percent6)+100*(7===t?e:this.state.percent7)+100*(8===t?e:this.state.percent8)+100*(9===t?e:this.state.percent9);this.setState({totpercent:a})}},{key:"render",value:function(){var e=this,t=this.props.auth.user;return r.a.createElement("div",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit,ref:function(t){return e.myFormRef=t}},r.a.createElement("table",{className:"table table-bordered",style:{width:"75%"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"12",align:"center"},r.a.createElement("b",null,"Consensus Metals Panel - Gold Forecast Inputs"))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("label",null,r.a.createElement("b",null,"Metal"))),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Gold")),r.a.createElement("td",{className:"instruction",rowSpan:"3",colSpan:"11",align:"left"},r.a.createElement("b",null,"Instructions"),":"," ",r.a.createElement("i",null,r.a.createElement("td",{align:"justify"},"Please select a month on the ",r.a.createElement("b",null,"Left")," for which you want to make a gold price forecast. Once the month has been choosen, please select the expected probability you want to assign to the indicated price baskets, such that the total probabilities sums to 100%. It would be appreciated if you could also provide an indication of the basis for your gold price forecast in the text box beneath the forecast probability table. Based on the combined inputs of all panel participants, a consensus gold price forecast will been computed. In the general comments section please feel free to comment on the consensus gold price forecast relative to your views and that of other participants. You can also make comments about other participant\u2019s views in the general comments section.")))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("label",null,r.a.createElement("b",null,"Month"))),r.a.createElement("td",{align:"center"},r.a.createElement("select",{id:"mois",name:"month",value:this.state.mois,onChange:function(t){e.setState({mois:t.target.value,validationError:""===t.target.value?"Select a month":""}),e.fillPrices(t.target.value)}},r.a.createElement("option",{value:""},"Select a month"),this.state.months.slice((new Date).getMonth(),12).map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e+" "+(new Date).getFullYear())}))))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("label",null,r.a.createElement("b",null,"Username"))),r.a.createElement("td",{align:"center"},r.a.createElement("h3",null,t.name))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("b",null,"Expected Price")),r.a.createElement("td",{id:"avrg",align:"center"},r.a.createElement("b",null,"$",this.state.priceAvr,"/oz")),r.a.createElement("td",{align:"center"},"  "),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price1,"/oz")),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price2,"/oz")),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price3,"/oz")),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price4,"/oz")),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price5,"/oz")),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price6,"/oz")),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price7,"/oz")),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price8,"/oz")),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("b",null,"$",this.state.price9,"/oz"))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("b",null,"Expected Probability")),r.a.createElement("td",{align:"center"},r.a.createElement("i",null,"NB: the total must sum to 100%")),r.a.createElement("td",{id:"sum_percent",align:"center"},this.state.totpercent,"%"),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent1",type:"number",value:this.state.percent1,onChange:function(t){e.setState({percent1:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,1),e.TotalPourcent(t.target.value,1)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%"))),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent2",type:"number",value:this.state.percent2,onChange:function(t){e.setState({percent2:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,2),e.TotalPourcent(t.target.value,2)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%"))),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent3",type:"number",value:this.state.percent3,onChange:function(t){e.setState({percent3:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,3),e.TotalPourcent(t.target.value,3)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%"))),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent4",type:"number",value:this.state.percent4,onChange:function(t){e.setState({percent4:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,4),e.TotalPourcent(t.target.value,4)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%"))),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent5",type:"number",value:this.state.percent5,onChange:function(t){e.setState({percent5:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,5),e.TotalPourcent(t.target.value,5)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%"))),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent6",type:"number",value:this.state.percent6,onChange:function(t){e.setState({percent6:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,6),e.TotalPourcent(t.target.value,6)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%"))),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent7",type:"number",value:this.state.percent7,onChange:function(t){e.setState({percent7:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,7),e.TotalPourcent(t.target.value,7)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%"))),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent8",type:"number",value:this.state.percent8,onChange:function(t){e.setState({percent8:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,8),e.TotalPourcent(t.target.value,8)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%"))),r.a.createElement("td",{id:"",align:"center"},r.a.createElement("select",{className:"percent",name:"percent9",type:"number",value:this.state.percent9,onChange:function(t){e.setState({percent9:t.target.value,validationError:"0.01"===t.target.value?"Choose a percentage":""}),e.CalculPondere(t.target.value,9),e.TotalPourcent(t.target.value,9)}},r.a.createElement("option",{value:"0.01"}," ","??%"),r.a.createElement("option",{value:"0.0"},"  ","0%"),r.a.createElement("option",{value:"0.1"}," ","10%"),r.a.createElement("option",{value:"0.2"}," ","20%"),r.a.createElement("option",{value:"0.3"}," ","30%"),r.a.createElement("option",{value:"0.4"}," ","40%"),r.a.createElement("option",{value:"0.5"}," ","50%"),r.a.createElement("option",{value:"0.6"}," ","60%"),r.a.createElement("option",{value:"0.7"}," ","70%"),r.a.createElement("option",{value:"0.8"}," ","80%"),r.a.createElement("option",{value:"0.9"}," ","90%"),r.a.createElement("option",{value:"1.0"},"100%")))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("b",null,"Forecast Justication")),r.a.createElement("td",{colSpan:"11"},r.a.createElement("textarea",{name:"specificcomments",isRequired:"true",onChange:this.onChange,value:this.state.specificcomments,placeholder:"Please briefly explain the basis for your gold price forecast.",rows:"4",align:"justify",wrap:"soft",style:{width:"100%"}}))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("b",null,"General Comments")),r.a.createElement("td",{colSpan:"11"},r.a.createElement("textarea",{name:"generalcomments",isRequired:"true",onChange:this.onChange,value:this.state.generalcomments,placeholder:"If you wish to make any general comments about the consensus gold price forecast or other participant's forecasts. If you wish to share any documents, please paste the relevant website URL here. Please ensure you are permitted to share the document before posting the link.",rows:"4",align:"justify",wrap:"soft",style:{width:"100%"}}))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("b",null,"Submit Forecast")),r.a.createElement("td",{align:"center"},r.a.createElement("input",{type:"submit",formtarget:"Your forecast has been submitted",placeholder:"YES",className:"btn btn-info btn-block mt-4"})),r.a.createElement("td",{colSpan:"10",align:"left"},r.a.createElement("i",null,r.a.createElement("td",{align:"justify"},"  ","You can submit forecasts as often as you choose. Please try keep forecasts realistic. Any abnormal or extreme forecasts will be impact on the aggregated consensus gold price.")))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("b",null,"Date")),r.a.createElement("td",{align:"center"},(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),r.a.createElement("td",{colSpan:"10",rowSpan:"2",align:"left"},r.a.createElement("i",null,r.a.createElement("td",{align:"justify"},"  ","This will be the date and time used to record your gold price forecast. The date and time will also be used in the ranking calculations.")))),r.a.createElement("tr",null,r.a.createElement("td",{className:"first",align:"center"},r.a.createElement("b",null,"Time")),r.a.createElement("td",{align:"center"},(new Date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})))))),r.a.createElement("div",null,r.a.createElement(ne,{mweji:this.state.mois}),r.a.createElement(te,{mweji:this.state.mois})))}}]),a}(n.Component),ie=Object(d.b)((function(e){return{auth:e.auth}}),{})(re);function se(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Introduction"),r.a.createElement("p",{className:"text-justify"},"Over the last decade, the total impairments for only the top forty mining organizations were around two hundred and forty-eight billion U.S. dollars (PWC, 2020). A perennial challenge facing mining organizations is how they can reliably forecast metal prices to support their planning and improve their sustainability. From the inception of a project when cut-off grades are calculated, and feasibility studies are undertaken, forecasted metal price assumptions play a crucial role. For existing operations, annual plans to allocate cash flows to Opex, Capex, taxation, debt servicing, dividends, et cetera, are similarly based on assumptions about forecasted metal prices. Within the mining industry, the use of consensus metal price forecasts for M&A transactions is a recognized approach; however, the consensus price derivation usually occurs independently of any deliberation between the contributing forecasters."),r.a.createElement("p",{className:"text-justify"},"It should be feasible for mining organizations to consider interacting through existing industry associations to establish a confidential forum to make consensus metal price forecasts that include the views of organizational members in conjunction with the inputs of outside specialist participants. Such an industry co-joint metal consensus forecasting panel could combine existing consensus forecasts provided by third parties, e.g., Consensus Economics (2020), with the insights held by mining industry experts. Within the context of publicly traded commodity markets, e.g., COMEX (2020), LBMA (2020), and LME (2020), such an industry consensus metal price forecast would be independent of  the markets as the intention behind the collaboration was not aimed at trading on the forecasts. The consensus forecast would be more akin to future price expectations views regularly expressed by industry experts, either as part of their outlook guidance or as the basis for calculating their declared mineral resources and reserves."),r.a.createElement("p",{className:"text-justify"},"For specific organizations, when they are making substantial decisions, considering another perspective which involves minimal additional resources and does not preclude adhering to the inhouse view, would seem prudent. As to the confidentiality of competitive insights, participation on any industry consensus panel could be structured to ensure anonymity, and the resulting consensus metal price forecast restricted to only those participating in the derivation. Given mining organizations have incurred substantial impairments because of metal price fluctuations, should all avenues not be considered to mitigate the related risk?"),r.a.createElement("h3",null,"Background"),r.a.createElement("p",{className:"text-justify"},'Aristotle (Politics, 350 B.C.E) "\u2026 ',r.a.createElement("i",null,"many are better judges than a single man ...; for some understand one part, and some another, and among them they understand the whole "),'" (Everson, 1988, p.66). Condorcet formulated the Law of Averages in 1785 (Baker, 1976) in his "Jury Theorem." In 1906 Sir Galton found from an experiment conducted at an English fair that the "popular vote" could prove more accurate than most individual predictions. Surowiecki (2004), "',r.a.createElement("i",null,"The Wisdom of Crowds,"),'" cites examples of how acting collectively can result in an outcome surpassing the capabilities of the individual group participants. Sunstein (2006), "',r.a.createElement("i",null,"Infotopia: How Many Minds Produce Knowledge,"),'" explores the value of collective deliberation and the possibilities for open source collaboration. Page (2007), "',r.a.createElement("i",null,"The Difference: How the Power of Diversity Creates Better Groups,"),'" explores why diversity is more important than sheer numbers in achieving better results. Tetlock & Gardner (2016), "',r.a.createElement("i",null,"Super-Forecasting: The Art and Science of Prediction,"),'" examine the potential of collective intelligence and collaboration for obtaining the maximum value from shared insights. The mathematics of getting better forecasts through combing different backgrounds and forecasting methodologies has been widely researched, for example, Bachelor and Dua (1995) and Armstrong (2001).'),r.a.createElement("p",{className:"text-justify"},"The idea that through co-operating to share and deliberate insights, a benefit could accrue to those participating in the collaboration in the form of a more reliable outcome has been around since Aristotle. For many consensus forecasts, the process and aggregation mechanism are similar to the popular voting approach used by Sir Galton with either the mean or median representing the consensus estimate. Hayek (1945) described a key feature of markets as their ability to pool diverse information and, in the process, communicate that information to other market participants allowing them to make better-informed decisions. Sunstein (2006) examined how prediction markets could emulate the workings of Hayek\u2019s markets to communicate information. Several organizations offer consensus earnings estimates, with Estimize (2020) with almost three thousand indicators covered, and with over one hundred thousand estimators, perhaps the most diverse consensus estimation service. Of the eighty-five economic indicators Estimize covers, commodity prices are not included, opening the possibility for the mining industry collectively to explore the opportunity to tap into the collective industry insights."),r.a.createElement("h3",null,"Research project"),r.a.createElement("p",{className:"text-justify"},"You have been invited to take part in a doctoral research project, on a bespoke website. An underlying premise in extending the invitation to participate in the research project is that you either prepare or use metal price forecasts in your working environment or you follow commodities and have insights into emerging market dynamics. Participants in the research project includes industry experts from mining organizations, commodity trading entities, financial institutions, and market research organizations. The research project aims to specifically\xa0co-opt mining industry professionals to participate jointly in making metal price forecasts alongside their industry peers. The expected outcome of the research project is to establish if a consensus approach for forecasting expected future metal prices can prove more reliable for industry stakeholders. The interaction amongst participants is on the web-based\xa0consensus research panel - http://www.comsensusmetals.org."),r.a.createElement("p",{className:"text-justify"},"The research project\u2019s focus is on forecasted metal prices for use by industry experts within their professional environment. Participation is not expected to require disclosing any confidential information or to serve as a basis for any trading or hedging decisions. Participation will be anonymous using pseudonyms or usernames on the website, to avoid revealing the identity of any participants. Should any participant choose to disclose their identity on the consensus research panel, it will not alter\xa0the understanding that participating is only in a\xa0private capacity. Consequently, any views expressed on the consensus research panel will be regarded solely as those of the participant, and not those of any associated organization. Regardless of any disclosures made on the consensus research panel, in the any research reports, all references to participation will be anonymized and codified, e.g., Industry Expert A, B, C et cetera."),r.a.createElement("p",{className:"text-justify"},"Taking part in the research project is not anticipated to cause participants any adverse consequences or emotions. The potential psychological effects of involvement in the research projects for participants should be similar to their experience in performing their usual professional responsibilities of either making or using metal price forecasts. No financial compensation, reimbursement, or reward will be paid to participants for their participation in the research project. Participants will have the opportunity to receive an electronic copy of the final research report, should they so choose. Participants will be free to stop participating at any time should they want and have all their past contributions deleted upon request."),r.a.createElement("p",{className:"text-justify"},"Panel participants will be expected to contribute metal price forecasts regularly over four months (September \u2013 December 2020), and participation is likely to require approximately thirty minutes per month. In making their metal price forecasts, participants will\xa0be asked to provide a brief (maximum 300 characters) indication of the basis for their forecasted metal prices. Participants are encouraged to discuss their forecasts and those submitted by other participants, as a prompt to surfacing shared insights, aimed at improving the reliability of the consensus forecasted metal prices. Should any participant choose to post any link to relevant research on the consensus research panel website, it is on the understanding that the participant has the necessary right to share the research. As the\xa0consensus metal price forecasts are the joint effort of all participants, access to the contibuting forecasts of all participants and\xa0the evolving consensus metal price forecasts will continually be available\xa0to everyone participating throughout the research project."),r.a.createElement("h3",null,"Conclusion"),r.a.createElement("p",{className:"text-justify"},"The research project is about the collective interaction of participants through iterative cycles of forecasting, sharing insights, and\xa0aggregating  the participants' expectations in open view of all participants, to make consensus metal price forecasts. The research project aims to explore the possible benefits of using a diverse consensus panel for forecasting metal prices in the natural resource industry, and through specifically encouraging  interactions to share and deliberate insights, test the reliability of the approach for forecasting metal prices. If the research project should prove positive, it could assist in structuring longer term consensus forecasts by industry stakeholders, through the auspices of an\xa0industry association in future. Ultimately, should the idea of tapping into the \"wisdom ",r.a.createElement("b",null,"IN "),'the industry" be successful, it may help mining organizations reduce their uncertainty around future metal prices and, consequently, impairments.'),r.a.createElement("h3",null,"References"),r.a.createElement("p",{className:"text-justify"},"Armstrong, J. S. (2001). ",r.a.createElement("i",null,"Combining Forecasts. In Principles of Forecasting, ")," ed. Armstrong, J. S. \xa0Boston: Kluwer Academic.",r.a.createElement("br",null)),r.a.createElement("p",{className:"text-justify"},"Batchelor, R. & Dua, P. (1995). \u2018Forecaster Diversity and the Benefits of Combing Forecasts\u2019. \xa0",r.a.createElement("i",null,"Management \xa0Science"),", 14(1), pp.68-75.",r.a.createElement("br",null)),r.a.createElement("p",{className:"text-justify"},"Baker, K. M. (1976). ",r.a.createElement("i",null,"Condorcet, Selected Writings. "),"Indianapolis: Bobbs-Merrill.",r.a.createElement("br",null)),r.a.createElement("p",{className:"text-justify"},"COMEX (2020). https://www.cmegroup.com/company/comex.html",r.a.createElement("br",null)),r.a.createElement("p",{className:"text-justify"},"Consensus Economics (2020). https://www.consensuseconomics.com/",r.a.createElement("br",null)),r.a.createElement("p",{className:"text-justify"},"Estimize (2020). https://www.estimize.com/",r.a.createElement("br",null)),r.a.createElement("p",{className:"text-justify"},"Everson, S. (1988). ",r.a.createElement("i",null,"Aristotle, Politics. ")," Jowett & Barnes translation. Cambridge: University Press.",r.a.createElement("br",null)),r.a.createElement("p",{className:"text-justify"},"Galton, F. (1907). \u2018Vox Populi (The voice of the people)\u2019. Nature, 75(March 7), pp.450\u201351.",r.a.createElement("br",null)),r.a.createElement("p",{className:"text-justify"},"LBMA (2020). http://www.lbma.org.uk/home",r.a.createElement("br",null)),r.a.createElement("p",{className:"text-justify"},"LME (2020). https://www.lme.com/",r.a.createElement("br",null)),r.a.createElement("p",{className:"text-justify"},"Page, S. E. (2007). ",r.a.createElement("i",null,"The Difference: How the Power of Diversity Creates Better Groups, Firms, Schools \xa0and \xa0Societies.")," New Jersey, U.S.A.: Princeton University Press.",r.a.createElement("br",null)),r.a.createElement("p",{className:"text-justify"},"PWC (2020). https://www.pwc.com/",r.a.createElement("br",null)),r.a.createElement("p",{className:"text-justify"},"Sunstein, C. R. (2006). ",r.a.createElement("i",null,"Infotopia: How Many Minds Produce Knowledge.")," Oxford University Press \xa0New \xa0York.",r.a.createElement("br",null)),r.a.createElement("p",{className:"text-justify"},"Surowiecki, J. (2004). ",r.a.createElement("i",null,"The Wisdom of Crowds: Why the Many Are Smarter Than the Few and How Collective Wisdom Shapes Business, Economies, Societies, and Nations"),". New York: Doubleday.",r.a.createElement("br",null)),r.a.createElement("p",{className:"text-justify"},"Tetlock P. and Gardner, D. (2016). ",r.a.createElement("i",null,"Super-Forecasting: The Art and Science of Prediction"),". London: Penguin Random House.",r.a.createElement("br",null)))}function ce(){return r.a.createElement("div",null,r.a.createElement("h3",null,"TERMS AND CONDITIONS"),r.a.createElement("p",{className:"text-justify"},'The Consensus Deliberation Panel, including the web site at http://www.consensusmetals.org (the "Site"), are part of a doctoral research project been undertaken by John Lamprecht through the University of Liverpool. By accessing the Site or participating in submitting metal price forecasts, you ("you" or the "User") signify that you have read, understand and agree to be bound by these Terms and Conditions ("Terms and Conditions"), whether or not you are a registered member of the Consensus Deliberation Panel.'),r.a.createElement("p",{className:"text-justify"},"Please read these terms and conditions carefully as they contain important information regarding your rights, remedies and obligations, and a dispute resolution clause."),r.a.createElement("h4",null,"Eligibility"),r.a.createElement("p",{className:"text-justify"},"The research project and access to the Site are intended solely for Participants who have been invited to participate on the Consensus Deliberation Panel and are eighteen (18) years of age or older. By agreeing to participate in the research project, you represent and warrant that you are 18 or older, and that you agree to and to abide by all the relevant terms and conditions stipulated herein."),r.a.createElement("h4",null,"Registration Data & Account Security"),r.a.createElement("p",{className:"text-justify"},"In participating in the research project, you agree to (a) provide complete information about you as may be prompted when registering to participate in the research project; (b) maintain the security of your password and username; and (c) be responsible for all forecasts and comments submitted through your account."),r.a.createElement("h4",null,"Site Content"),r.a.createElement("p",{className:"text-justify"},'You understand that all postings, messages, text, images or other materials ("Content") posted or published on, uploaded to, transmitted through, or linked from (hereinafter, "post" or "posted"), the Site are the sole responsibility of the person from whom such Content originated.'),r.a.createElement("p",{className:"text-justify"},"The Content is to be used for informational purposes only and does not constitute investment advice or recommendations of any nature. No liability of whatever nature will arise for any investment or other decisions based upon any Content and/or decisions based upon a contrarian view of any Content, and which is expressly contrary to the intention of the research projects aims."),r.a.createElement("h4",null,"User Content Posted on the Site"),r.a.createElement("p",{className:"text-justify"},'You are solely responsible for the Content that you post on the Site, or otherwise transmit to or share with other Participants (collectively, the "Participant Content"). You may not post or share Participant Content on the Site that you did not create or that you do not have permission to post. In the event of any dispute regarding Participant Content, the Site Administrator shall have the right (but not the obligation) in its sole discretion to refuse, delete or remove any Participant Content that is available via the Site, in connection with violations of the letter or spirit of the Terms and Conditions or for any other reason. You are solely responsible at your sole cost and expense for creating backup copies and replacing any User Content you post or store on the Site.'),r.a.createElement("p",{className:"text-justify"},"When you post User Content to the Site, you authorize and direct us to make such copies thereof as we deem necessary in order to facilitate the posting and storage of the User Content on the Site. By posting User Content to any part of the Site, you automatically grant, and you represent and warrant that you have the right to grant an irrevocable, perpetual, non-exclusive, transferable, right to use, copy, publicly display, reformat, translate, excerpt (in whole or in part) and display such Participant Content for the purpose or in connection with the Site\u2019s research objectives. To prepare derivative works of, or incorporate into other works, such Participant Content, as may be necessary in accordance with the research objective of the Site, albeit on an anonymous basis. Please be advised that requests to remove Participant Content must be submitted by email by the Participant who posted the Participant Content to the Site contact and will be actioned within one week. The Site and the researchers do not assert any ownership over the Participant Content; rather, subject to these Terms and Conditions, Participnats retain full ownership of all their Participant Content and any intellectual property rights or other proprietary rights associated with such Participant Content."),r.a.createElement("h4",null,"Access to the Site"),r.a.createElement("p",{className:"text-justify"},"You are granted a limited, revocable, exclusive right to access and use the Site and the Participant Content for your own personal use. This right does not include any collection, aggregation, copying, duplication, display or derivative use of the Site nor any use of data mining, robots, spiders, or similar data gathering and extraction tools for any purpose unless expressly requested and permitted by the Site Administrator in writing. A limited exception is provided to general purpose internet search engines and non-commercial public archives that use such tools to gather information for the sole purpose of displaying hyperlinks to the Site. In order to collect, aggregate, copy, duplicate, display or make derivative use of the Site or any Participant Content made available via the Site for other purposes (including commercial purposes) not stated herein, you must first obtain a written permission from the Site Administrator."),r.a.createElement("h4",null,"Proprietary Rights"),r.a.createElement("p",{className:"text-justify"},"The Site is governed by the honor and integrity of the Participants to not infringe the rights or copyright of other Participants or acting against the purpose of the research project. Content displayed on or through the Site is protected by copyright as a collective work and/or compilation. Any reproduction, modification, creation of derivative works from or redistribution of the Site or the collective work, and/or copying or reproducing the Participant Content or any portion thereof to any other server or location for non-personal use is prohibited without the written consent of the Site Administrator."),r.a.createElement("h4",null,"Participant Conduct"),r.a.createElement("p",{className:"text-justify"},"You accept that the Site and the Participant Content is available for your personal, non-commercial use only. You represent, warrant and agree that no Participant Content of any kind posted through your account or otherwise shared by you on or through the Site will violate or infringe upon the rights of any third party, including copyright, trademark, privacy, publicity or other personal or proprietary rights; be in violation of any law or used in furtherance of any such violation; or contain libelous, defamatory or otherwise unlawful material."),r.a.createElement("p",{className:"text-justify"},"In addition, you agree not to use the Site to:",r.a.createElement("ul",null,r.a.createElement("li",null," ","in any unlawful manner or in any other manner that could damage, disable, overburden or impair the Site;"),r.a.createElement("li",null," ","post or otherwise make available any Participant Content that may deemed to be harmful, threatening, unlawful, defamatory, infringing, abusive, inflammatory, harassing, vulgar, obscene, fraudulent, invasive of privacy or publicity rights, hateful, or racially, ethnically or otherwise objectionable;"),r.a.createElement("li",null," ","impersonate any person or entity, or falsely state or otherwise misrepresent yourself, your age or your affiliation with any person or entity;"),r.a.createElement("li",null," ",'post or otherwise make available any unsolicited or unauthorized advertising, solicitations, promotional materials, "junk mail," "spam," "chain letters," "pyramid schemes," or any other form of solicitation;'),r.a.createElement("li",null," ","post or otherwise make publicly available on the Site any private information of any third party, including addresses, phone numbers, email addresses, Social Security numbers and credit card numbers;"),r.a.createElement("li",null," ","post or otherwise make available any material that contains software viruses or any other computer code, files or programs designed to interrupt, destroy or limit the functionality of the Site or any computer software or hardware or telecommunications equipment of any Participant;"),r.a.createElement("li",null," ","post or otherwise make available content that would constitute, encourage or provide instructions for a criminal offense, violate the rights of any party, or that would otherwise create liability or violate any local, state, national or international law;"),r.a.createElement("li",null," ","use or attempt to use another's account to access the Site, or create a false identity on the Site."),r.a.createElement("li",null," ","forge headers or otherwise manipulate identifiers in order to disguise the origin of any information transmitted by you;"),r.a.createElement("li",null," ","post or otherwise make available any information that you do not have a right to make available under any law or under contractual or fiduciary relationships (such as inside information, proprietary and confidential information learned or disclosed as part of employment relationships or under nondisclosure agreements); or"),r.a.createElement("li",null," ","intentionally or unintentionally violate any applicable local, state, national or international law, including, any rules of any national or other securities exchange, including, and any regulations having the force of law."))),r.a.createElement("h4",null,"Privacy"),r.a.createElement("p",{className:"text-justify"},"The Privacy Policy describes the type of data that is collected and received through the Site and how it is planned to be used, shared, retained to protect participants\u2019 personal data."),r.a.createElement("h4",null,"Anonymity"),r.a.createElement("p",{className:"text-justify"},"To allow individuals to remain anonymous while participating on the Consensus Deliberation Panel, no disclosure of participants\u2019 true identify will be made in the participation process, unless a participant specifically chooses to disclose their identity. Any information collected during the signup process or otherwise while participating on the Consensus Deliberation Panel, which may allow individuals to be identifiable in any way will be kept private and confidential. Any reference to participants in academic documents will be totally anonymized."),r.a.createElement("h4",null,"Information that will be collected"),r.a.createElement("p",{className:"text-justify"},"When participants register on the Site, and when participants contribute forecasts on the Consensus Deliberation Panel certain information will be collected. In some instances when data is requested that is not essential, it will be specified as optional. When registering on the Site or editing profile information, as appropriate, participants will be asked to enter their: username (pseudonym), e-mail address (only for official communication), name (only for official communication), age (optional), gender (optional), geographic region located in, professional background, nature of workplace, forecasting approach, and short bio (optional)."),r.a.createElement("p",{className:"text-justify"},"Any of the information collected will only be used for the purpose of the academic research outlined, and will not be shared with any third-party or commercial organizations for any purpose whatever. It may happen that other academic researchers may subsequently wish to access the data collected, but as stated above such data will only be provided on an anonymized basis."),r.a.createElement("h4",null,"Protection of your personal data"),r.a.createElement("p",{className:"text-justify"},"Appropriate University of Liverpool security safeguards to protect your personal data against accidental, unlawful or unauthorized destruction, loss, alteration, access, disclosure or use will be maintained. However, due to the inherent open nature of the Internet, it is not possible to guarantee that participation on the Site your personal information stored is absolutely secure. Should any data breach occur that is likely to have unfavorable consequences for your privacy, you will be notified."),r.a.createElement("h4",null,"Retention of your personal data"),r.a.createElement("p",{className:"text-justify"},"In accordance with the policy of the University of Liverpool, your data will be retained for a period of five years after you participated on the Consensus Deliberation Panel. Right to terminate participation and delete and your personal data. You have the right in relation to your personal data to request that it be deleted and to terminate your participation on the Consensus Deliberation Panel at any time. Subject to this Privacy Policy, you have the right to lodge a formal complaint with the University of Liverpool at the contact details provided."),r.a.createElement("h4",null,"Consent"),r.a.createElement("p",{className:"text-justify"},"By using our site, you consent to the Privacy Policy. Changes to the Privacy Policy Any changes to the Privacy Policy, will be posted on the Terms and Conditions page. An email notifying participant of any substantive changes will be sent to all participants should it become necessary."),r.a.createElement("h4",null,"Feedback"),r.a.createElement("p",{className:"text-justify"},"If there are any questions regarding the Privacy Policy, you may contact us using the contact details provided."),r.a.createElement("h4",null,"Disclaimers"),r.a.createElement("p",{className:"text-justify"},"The Site and the researcher are not responsible or liable in any manner for any Participant Content posted on the Site by any Participant. Although these Terms and Conditions provide rules for Participant conduct and postings, the ultimate responsiblity for what Participants post, transmit or share on the Site remains under the control responsiblity of the Participant as to its accuracy, not being offensive, inappropriate, obscene, unlawful or otherwise objectionable."),r.a.createElement("p",{className:"text-justify"},"The Site may be temporarily unavailable from time to time for maintenance or other reasons. The Site assumes no responsibility for any error, omission, interruption, deletion, defect, delay in operation or transmission, communications line failure, theft or destruction or unauthorized access to, or alteration of, Participant Content by third parties."),r.a.createElement("h4",null,"Termination"),r.a.createElement("p",{className:"text-justify"},"The Site Administrator may terminate your account, delete your profile and any Participant Content that you have posted on the Site and/or prohibit you from using or accessing the Site if for any reason your conduct contravenes or breaches these Terms and Conditions, in its sole discretion, with notice."),r.a.createElement("h4",null,"Dispute Resolution"),r.a.createElement("p",{className:"text-justify"},"You agree that the sole and exclusive authority for any unresolved disputes relating in any way to or arising out of these Terms and Conditions and/or participation on the Site shall be final and binding mediation by the University of Liverpool Ethics Committee."),r.a.createElement("h4",null,"Indemnity"),r.a.createElement("p",{className:"text-justify"},"You agree to indemnify and hold the Site Administrator and researchers, harmless from and against any loss, liability, claim, demand, damages, costs and expenses, including reasonable attorney's fees, arising out of or in connection with any Participant Content you post or Participant Content you share on or through the Site or otherwise, your conduct in connection with the Site or with other Participnat, or any violation of these Terms and Conditions or of any law, rule, regulation or order, or the rights of any third party. This indemnity shall survive any termination or cessation of use by you of the Site."),r.a.createElement("h4",null,"Submissions"),r.a.createElement("p",{className:"text-justify"},'You acknowledge and agree that any questions, comments, suggestions, ideas, feedback or other information about the Site ("Submissions"), provided by you to the Site Administrator are non-confidential and shall become the common property of the Site. The Site shall own the right, including all intellectual property rights, and shall be entitled to the unrestricted use and dissemination of these Submissions for the purpose of the research project, without direct acknowledgment or compensation to you.'),r.a.createElement("h4",null,"Other"),r.a.createElement("p",{className:"text-justify"},"These Terms and Conditions constitute the entire agreement between you and the Site regarding your participation on the Site. If any provision of these Terms an Conditions are held invalid, the remainder of these Terms and Conditions shall continue in full force and effect. If any provision of these Terms and Conditions shall be deemed unlawful, void or for any reason unenforceable, then that provision shall be deemed severable from these Terms and Conditions and shall not affect the validity and enforceability of any remaining provisions."))}function le(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Contact Us"),r.a.createElement("p",{className:"text-justify"},"If you are unhappy, or if you have any complaints about the research project in the first instance, please feel free to let us know by contacting the Researcher or Supervisor at the email addresses below, and we will try to help. If you remain unhappy or have a complaint which you feel you cannot come to either the Researcher or Supervisor, then, you can contact the Research Governance Officer or the University of Liverpool directly at either of the following email addresses:"),r.a.createElement("p",{className:"text-justify"},"Email: ethics@liv.ac.uk"),r.a.createElement("p",{className:"text-justify"},"Email: liverpoolethics@ohecampus.com"),r.a.createElement("p",{className:"text-justify"},"When contacting the Research Governance Officer or Liverpool Research Participant Advocate, please provide details of the name of the Researcher and Supervisor involved, and the particulars of the complaint you wish to make."),r.a.createElement("p",{className:"text-justify"},"Researcher: John Lamprecht"),r.a.createElement("p",{className:"text-justify"},"Email: John.Lamprecht@online.liverpool.ac.uk"),r.a.createElement("p",{className:"text-justify"},"Supervisor: Dr. Jim Hanly"),r.a.createElement("p",{className:"text-justify"},"Email: Jim.Hanly@online.liverpool.ac.uk"),r.a.createElement("h3",null,"Website Issues"),r.a.createElement("p",{className:"text-justify"},"Researcher: John Lamprecht"),r.a.createElement("p",{className:"text-justify"},"Email: jcl@consensusmetals.info"))}function oe(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",null,"Research Addition Information")),r.a.createElement("div",null,r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{class:"text-justify"},r.a.createElement("b",null,"Title of Research Project:")),r.a.createElement("p",{class:"text-justify"},"How will a consensus panel approach for forecasting copper and gold prices, which specifically includes mining industry experts\u2019 participation, improve the reliability of forecast price estimates for planning purposes?"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{class:"text-justify"},r.a.createElement("b",null,"Short Title: ")),r.a.createElement("p",{class:"text-justify"},"How can consensus copper and gold price forecasting be more effectively used in the mining industry for planning?"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Researcher:")," John Lamprecht",r.a.createElement("br",null),r.a.createElement("b",null,"University Email:")," John.Lamprecht@online.liverpool.ac.uk",r.a.createElement("br",null),r.a.createElement("b",null,"Telephone:")," +44 151 528 5728",r.a.createElement("br",null))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{class:"text-justify"},r.a.createElement("b",null,"Invitation")),r.a.createElement("p",{class:"text-justify"},"You are being invited to take part in a research project. Before you decide whether to participate, it is important for you to understand why the research is taking place and what it will involve. Please take the time to read the following information carefully and feel free to ask us if you would like more information or if there is anything that you do not understand. We would like to stress that you do not have to accept the invitation and should only agree to take part if you want to. An underlying premise in extending the invitation to participate in the research project is that you either prepare or use metal price forecasts in your working environment or you follow commodities and have insights into emerging market dynamics. If this assumption is not correct, please indicate \u201cNo\u201d on the Registration Page and decline the opportunity to participate in the research project."))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{class:"text-justify"},r.a.createElement("b",null,"What is the purpose of the research project?")),r.a.createElement("p",{class:"text-justify"},'A perennial problem facing mining organizations is how they can more reliably forecast metal prices to consistently support their planning and improve their sustainability. The intention of the research project aims to explore if co-opting mining industry professionals to participate in in making metal price forecasts alongside their industry peers, and jointly surface insights about expected metal prices to reduce the price uncertainty for all participants involved in the research project."'))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{class:"text-justify"},r.a.createElement("b",null,"Why have I been chosen to take part?")),r.a.createElement("p",{class:"text-justify"},'Participants in the research project includes industry experts from mining organizations, commodity trading entities, financial institutions, and market research organizations. You have been chosen because of your experience within or to the natural resource industry. On the basis that the nature of the research project closely mirrors the participant\u2019s professional responsibilities in making or using metal price forecasts, it is expected participation in the research panel will require minimal additional time from participants (approximately 30 mintutes per month). An assumption is that amongst the actions you regularly undertake is preparing or using metal price forecasts, should this not be part of your experiences, please indicate \u201cNo\u201d on the Registration Page and decline participation in the research project."'))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{class:"text-justify"},r.a.createElement("b",null,"Do I have to take part?")),r.a.createElement("p",{class:"text-justify"},"It is entirely up to you to decide whether you want to participate in the research project. If you do choose to proceed, you should indicate your consent on the Registration Page. You are free to withdraw at any time from the research project without providing a reason or risk incurring any repercussions. Participation will be anonymous using a pseudonyms or usernames you choose so as not to reveal your identity. Should you however choose to disclose your identity on the consensus panel, it will be on the understanding that you are specifically participating in your personal capacity and the views expressed are your own and not those of any organization."))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{class:"text-justify"},r.a.createElement("b",null,"What will happen if I take part?")),r.a.createElement("p",{class:"text-justify"},"You will be asked to participate in a metal price forecasts and discussion concerning regarding your expectations of metal prices over the coming months. In making such predictions you will be asked to provide a brief (maximum 300 characters) indication of the basis for your forecasts. Panel participants will be permitted and encouraged to discuss all forecasts and views submitted. Should you want to post any relevant metal price forecast research on the consensus panel this will be permitted, but you should ensure you have the right and necessary authority to share the document. In the final research report, all consensus panel participation references will be anonymized, and codified, e.g., Industry Expert A, B, C et cetera. There are no other commitments or restrictions associated with participating. In compliance with the University of Liverpool\u2019s research data management policy, the Research project data will be stored for five years. Under freedom of information legislation, you are entitled to request access the information you have provided at any time."))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{class:"text-justify"},r.a.createElement("b",null,"Expenses and/or compensation")),r.a.createElement("p",{class:"text-justify"},"Participants should not incur any additional expenses as a result of taking part in this research project. No compensation will be paid to panel participants or any incidental expenses refunded."))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{class:"text-justify"},r.a.createElement("b",null,"Are there any risks in taking part?")),r.a.createElement("p",{class:"text-justify"},"Taking part in this research project is not anticipated to cause you any adverse consequences or emotions. The potential physical or psychological effects of involvement in the research projects for participants should be the same as you experience in performing your usual professional task of making or using metal price forecasts. However, should you experience any discomfort from taking part in this research project, please contact the researcher or supervisor to address the reason immediately.",r.a.createElement("br",null),"Researcher: John Lamprecht Email: John.Lamprecht@online.liverpool.ac.uk",r.a.createElement("br",null),"Supervisor: Jim Hanly Email: Jim.Hanly@online.liverpool.ac.uk"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{class:"text-justify"}),r.a.createElement("p",{class:"text-justify"},r.a.createElement("b",null,"Are there any benefits in taking part?")),r.a.createElement("p",{class:"text-justify"},"While there are not necessarily immediate benefits for those participating in the research project, it is hoped that this research project will have a beneficial impact on the reliability of forecasted metal prices used by industry experts in the natural resource sector. As the research project is an iterative cycle of forecasting, deliberating and reforecasting metal price estimates, with the ongoing results continuously shared with all panel participants, it is hoped the research project will help inform the professional practice of the participants in future. The research project could also serve as a precursor to a similar project by an industry association on behalf of its members, including mining organizations, in future."))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{class:"text-justify"},r.a.createElement("b",null,"If you have any concerns, complaints or if there are any problems or questions you feel have not been adequately addressed?")),r.a.createElement("p",{class:"text-justify"},"If you are unhappy, or if you have any complaints about the research project in the first instance, please feel free to let us know by contacting the researcher or supervisor, and we will try to help. If you remain unhappy or have a complaint which you feel you cannot come to us with, then, you should contact:",r.a.createElement("br",null),"Research Governance Officer at Email: ethics@liv.ac.uk, or",r.a.createElement("br",null),"University of Liverpool Email: Liverpoolethics@ohecampus.com.",r.a.createElement("br",null),"When contacting the Research Governance Officer or Liverpool Research Participant Advocate, please provide details of the name or description of the research project (so that it can be identified), the researcher(s) involved, and the particulars of the complaint you wish to make.",r.a.createElement("br",null),"For participants from the United States of America, the following contact details can be utilized:",r.a.createElement("br",null),"USA number +1-612-312-1210 or email address: Liverpoolethics@ohecampus.com"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{class:"text-justify"},r.a.createElement("b",null,"Will my participation be kept confidential?")),r.a.createElement("p",{class:"text-justify"},"All the information that we collect about you during the research project will be kept strictly confidential. You will not be able to be identified or identifiable in any reports or publications. Your institution will also not be identified or identifiable. Any data collected about you during discussions will be stored online in a password-protected form. Data collected may be shared in an anonymised form to allow reuse by other research teams. As stated in point 12 below, you may terminate your participation at any time and stipulate how your past participation is to be handled. As outline above, all references in the research report will be anonymised to prevent any individuals or their institutions from being identified."))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{class:"text-justify"},r.a.createElement("b",null,"What will happen to the results of the research project?")),r.a.createElement("p",{class:"text-justify"},"The results of the research project will be presented in a DBA thesis, and as per University of Liverpool\u2019s research data policy, the data produced during this research will be made openly available to the broader academic community. You or your organization will not be identified in any report or publication. If you wish to receive an electronic copy of any reports resulting from the research, please indicate so on the Registration Page and you will be added to the circulation list."))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{class:"text-justify"},r.a.createElement("b",null,"What will happen if I want to stop taking part?")),r.a.createElement("p",{class:"text-justify"},'You can withdraw from participating in this research project at any time, without explanation. Results up to the period of withdrawal may be used if you are happy for this to be done. Otherwise, you may request that their destruction and no further use will be made of them."'))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{class:"text-justify"},r.a.createElement("b",null,"Who can I contact if I have further questions?")),r.a.createElement("p",{class:"text-justify"},"For any further question, please contact the researcher or the research supervisor.",r.a.createElement("br",null),"Researcher: John Lamprecht Email: John.Lamprecht@online.liverpool.ac.uk",r.a.createElement("br",null),"Supervisor: Dr. Jim Hanly Email: Jim.Hanly@online.liverpool.ac.uk"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{class:"text-justify"},r.a.createElement("b",null,"Thank you for taking part in this research project."))))))))}window.onbeforeunload=function(){window.scrollTo(0,0)},window.onbeforeunload=function(){window.scrollTo(0,0)},window.onbeforeunload=function(){window.scrollTo(0,0)};var pe=a(172),me=a.n(pe);function ue(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",null,"Ranking Methodology"),r.a.createElement("p",{class:"text-justify"},"Scoring percentage accuracy is based on the average of all forecasts submitted compared to the comparable LME monthly average reported price for the relevant month. The differences between the forecasts and the actual average monthly market price are ranked, and the percentile rank distribution calculated. The percentile rank distribution calculated is subtracted from 100% to yield a percentage rank accuracy grade. To take into consideration the timing of forecasts and to make the grading fairer, the calculated grades are moderated by the time difference between the day of the forecast and the LME reported average date. In effect, each forecast is multiplied by the ratio of days since the forecast divided by the number of days since the first forecast for the relevant month was made."),r.a.createElement("p",{class:"text-justify"},"The purpose of the research project is twofold: \u2022 Encouraging participants to participate in establishing a shared consensus forecast. \u2022 Encouraging participants to deliberate and make revised forecasts because of the insights gained from other participants' forecasts."),r.a.createElement("p",{class:"text-justify"},'By grading the forecasts, it is hoped participants will be motivated to deliberate the estimates of other participants and revise their previous forecasts accordingly. Ideally, participation will occur throughout the duration of each month. So, to avoid having some participants "gaming" the process by only submitting forecasts right at the end of the month when the outcome is more discernible, the timing moderation is utilized to balance the playing field. The following is an indicative example of the ranking.')),r.a.createElement("div",null,"Example calculation",r.a.createElement("br",null),r.a.createElement("img",{width:600,height:1379,alt:"Ranking Calculation",src:me.a}),r.a.createElement("br",null)))}var he=a(173),de=a.n(he);function Ee(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("td",{align:"center"},r.a.createElement("h3",null,"COMEX COPPER FUTURES PRICES - Daily Closing Prices"))),r.a.createElement("div",null,r.a.createElement("img",{width:960,height:400,alt:"Comex_Copper",src:de.a}),r.a.createElement("br",null)))}var ge=a(174),ve=a.n(ge);function fe(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("td",{align:"center"},r.a.createElement("h3",null,"COMEX GOLD FUTURES PRICES - Daily Closing Prices"))),r.a.createElement("div",null,r.a.createElement("img",{width:960,height:400,alt:"Comex_Gold",src:ve.a}),r.a.createElement("br",null)))}var be=a(3),ye=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).convert_to_utc=function(e){var t,a="am";return 0==(t=((t=e.getHours())+24-2)%24)?t=12:t>12&&(t%=12,a="pm"),e.toUTCString().split(" ")[0]+e.toUTCString().split(" ")[1]+" "+e.toUTCString().split(" ")[2]+" "+e.toUTCString().split(" ")[3]+" "+e.toUTCString().split(" ")[4].split(":")[0]+":"+e.toUTCString().split(" ")[4].split(":")[1]+" "+a},n.state={commodity:"",mois:"",user:"",dateforecast:"",priceAvr:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",lamoyenne:"",lemedian:"",percent1:"",percent2:"",percent3:"",percent4:"",percent5:"",percent6:"",percent7:"",percent8:"",percent9:"",justif:"",generalcomments:"",specificcomments:"",comments:"",totpercent:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],median:"",lesprix:[],foreprices:[],lesmoyennes:[0,0,0,0,0,0,0,0,0],njina:[],donnees1:[8],olddata:[],alldata:[],lesmoyennesO:[0,0,0,0,0,0,0,0,0],lesmoyennesA:[0,0,0,0,0,0,0,0,0],lesmoyennesR:[0,0,0,0,0,0,0,0,0],maloba:[],EVR:0,EVO:0,EVA:0},window.onbeforeunload=function(){window.scrollTo(0,0)},n.CreeOldata=n.CreeOldata.bind(Object(F.a)(n)),n.trouveLeMedian=n.trouveLeMedian.bind(Object(F.a)(n)),n.recuperemoyenneT=n.recuperemoyenneT.bind(Object(F.a)(n)),n.trouveEV=n.trouveEV.bind(Object(F.a)(n)),n}return Object(N.a)(a,[{key:"CreeOldata",value:function(){var e=[0,0,0,0,0,0,0,0,0],t=[0,0,0,0,0,0,0,0,0],a=[0,0,0,0,0,0,0,0,0];var n,r=Object(be.a)(this.state.alldata),i=(Object(be.a)(this.state.alldata),Object(be.a)(this.state.lesprix)),s=(i.map((function(e){return-1!==(n=function(e,t,a){for(var n=0,r=e.length;n<r;n++)if(e[n][a]===t)return n;return-1}(r,e.id,"id"))&&r.splice(n,1),e.commodity})),this.state.alldata.length),c=(this.state.alldata.length,this.state.lesprix.length,this.state.lesprix.length);t[0]=this.state.lesmoyennesA[0].price1,t[1]=this.state.lesmoyennesA[0].price2,t[2]=this.state.lesmoyennesA[0].price3,t[3]=this.state.lesmoyennesA[0].price4,t[4]=this.state.lesmoyennesA[0].price5,t[5]=this.state.lesmoyennesA[0].price6,t[6]=this.state.lesmoyennesA[0].price7,t[7]=this.state.lesmoyennesA[0].price8,t[8]=this.state.lesmoyennesA[0].price9;s=r.length;e[0]=(t[0]*s-this.state.lesmoyennes[0]*c)/(s-c),e[1]=(t[1]*s-this.state.lesmoyennes[1]*c)/(s-c),e[2]=(t[2]*s-this.state.lesmoyennes[2]*c)/(s-c),e[3]=(t[3]*s-this.state.lesmoyennes[3]*c)/(s-c),e[4]=(t[4]*s-this.state.lesmoyennes[4]*c)/(s-c),e[5]=(t[5]*s-this.state.lesmoyennes[5]*c)/(s-c),e[6]=(t[6]*s-this.state.lesmoyennes[6]*c)/(s-c),e[7]=(t[8]*s-this.state.lesmoyennes[7]*c)/(s-c),e[8]=(t[8]*s-this.state.lesmoyennes[8]*c)/(s-c),this.setState({lesmoyennesO:e}),this.setState({olddata:[].concat(r)}),this.state.njina[0]=this.state.price1,this.state.njina[1]=this.state.price2,this.state.njina[2]=this.state.price3,this.state.njina[3]=this.state.price4,this.state.njina[4]=this.state.price5,this.state.njina[5]=this.state.price6,this.state.njina[6]=this.state.price7,this.state.njina[7]=this.state.price8,this.state.njina[8]=this.state.price9,a[0]=i.price1,a[1]=i.price2,a[2]=i.price3,a[3]=i.price4,a[4]=i.price5,a[5]=i.price6,a[6]=i.price7,a[7]=i.price8,a[8]=i.price9;var l=Object(b.a)({},this.state.donnees1);l=[{price:this.state.njina[0],recentdate:this.state.lesmoyennes[0],olddata:e[0],alldata:t[0]}],this.setState({lesmoyennesA:t}),this.setState({lesmoyennesO:e});for(var o=0;o<9;o++)l.push({price:this.state.njina[o],RecentData:100*this.state.lesmoyennes[o],OldData:e[o],AllData:t[o]});l.shift(),this.setState({donnees1:l}),i.shift(),this.setState({lesprix:i})}},{key:"fillPrices",value:function(e){var t=this;this.setState({price1:""}),this.setState({price2:""}),this.setState({price3:""}),this.setState({price4:""}),this.setState({price5:""}),this.setState({price6:""}),this.setState({price7:""}),this.setState({price8:""}),this.setState({price9:""});var a=[0,0,0,0,0,0,0,0,0];fetch("/api/beyi/commois/"+e+"&Copper").then((function(e){return e.json()})).then((function(e){e.map((function(e){return t.setState({price1:e.floorprice+0*e.constant1}),t.setState({price2:e.floorprice+1*e.constant1}),t.setState({price3:e.floorprice+2*e.constant1}),t.setState({price4:e.floorprice+3*e.constant1}),t.setState({price5:e.floorprice+4*e.constant1}),t.setState({price6:e.floorprice+5*e.constant1}),t.setState({price7:e.floorprice+6*e.constant1}),t.setState({price8:e.floorprice+7*e.constant1}),t.setState({price9:e.floorprice+8*e.constant1}),{id:e._id}}))})).catch((function(e){console.log(e)})),fetch("/api/menji/dernierda/"+e+"&Copper").then((function(e){return e.json()})).then((function(e){var n=e.map((function(e,n,r){var i=r.length;a[0]=a[0]+e.detail.price1,a[1]=a[1]+e.detail.price2,a[2]=a[2]+e.detail.price3,a[3]=a[3]+e.detail.price4,a[4]=a[4]+e.detail.price5,a[5]=a[5]+e.detail.price6,a[6]=a[6]+e.detail.price7,a[7]=a[7]+e.detail.price8,a[8]=a[8]+e.detail.price9;var s=[];return s[0]=a[0]/i,s[1]=a[1]/i,s[2]=a[2]/i,s[3]=a[3]/i,s[4]=a[4]/i,s[5]=a[5]/i,s[6]=a[6]/i,s[7]=a[7]/i,s[8]=a[8]/i,t.setState({lesmoyennes:[].concat(s)}),{id:e.detail._id,user:e._id.user,dateforecast:t.convert_to_utc(new Date(e.detail.dateforecast)),price1:e.detail.price1,price2:e.detail.price2,price3:e.detail.price3,price4:e.detail.price4,price5:e.detail.price5,price6:e.detail.price6,price7:e.detail.price7,price8:e.detail.price8,price9:e.detail.price9,lemedian:e.detail.lemedian,lamoyenne:e.detail.lamoyenne,specificcomments:e.detail.specificcomments}}));t.setState({lesprix:[{id:"",user:"",dateforecast:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",lemedian:"",lamoyenne:"",specificcomments:""}].concat(n)})})).catch((function(e){console.log(e)})),this.fillotherdata(e)}},{key:"fillotherdata",value:function(e){var t=this;this.recuperemoyenneT(e),fetch("/api/menji/all/"+e+"&Copper").then((function(e){return e.json()})).then((function(a){var n=a.map((function(e){return{id:e._id,user:e.user,dateforecast:t.convert_to_utc(new Date(e.dateforecast)),price1:e.price1,price2:e.price2,price3:e.price3,price4:e.price4,price5:e.price5,price6:e.price6,price7:e.price7,price8:e.price8,price9:e.price9,lemedian:e.lemedian,lamoyenne:e.lamoyenne,specificcomments:e.specificcomments}}));t.setState({alldata:[{id:"",user:"",dateforecast:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",lemedian:"",lamoyenne:"",specificcomments:""}].concat(n)}),t.CreeOldata(),t.fillgeneralcomments(e),t.setState({EVO:t.trouveEV(t.state.lesmoyennesO)}),t.setState({EVA:t.trouveEV(t.state.lesmoyennesA)})}))}},{key:"fillgeneralcomments",value:function(e){var t=this;fetch("/api/menji/olda1/"+e+"&Copper&8").then((function(e){return e.json()})).then((function(e){var a=e.map((function(e){return{id:e._id,generalcomments:e.generalcomments}}));t.setState({maloba:[{id:"",generalcomments:""}].concat(a)})}))}},{key:"recuperemoyenneT",value:function(e){var t=this;fetch("/api/menji/moyunmois/"+e+"&Copper").then((function(e){return e.json()})).then((function(e){var a=e.map((function(e){return{id:e._id,price1:e.avg1,price2:e.avg2,price3:e.avg3,price4:e.avg4,price5:e.avg5,price6:e.avg6,price7:e.avg7,price8:e.avg8,price9:e.avg9,lemedian:e.lemedian}}));t.setState({lesmoyennesA:a})})),this.CreeOldata()}},{key:"trouveLeMedian",value:function(e){var t,a=Math.max(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);return a===e[0]?t=this.state.price1:a===e[1]?t=this.state.price2:a===e[2]?t=this.state.price3:a===e[3]?t=this.state.price4:a===e[4]?t=this.state.price5:a===e[5]?t=this.state.price6:a===e[6]?t=this.state.price7:a===e[7]?t=this.state.price8:a===e[8]&&(t=this.state.price9),t}},{key:"trouveEV",value:function(e){var t=0;return"undefined"!==typeof e&&(t=this.state.price1*(e[0]/100)+this.state.price2*(e[1]/100)+this.state.price3*(e[2]/100)+this.state.price4*(e[3]/100)+this.state.price5*(e[4]/100)+this.state.price6*(e[5]/100)+this.state.price7*(e[6]/100)+this.state.price8*(e[7]/100)+this.state.price9*(e[8]/100)),t}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"12",align:"center",width:"100%"},r.a.createElement("b",null,"Copper Forecasts - ",this.state.mois))),r.a.createElement("tr",null,r.a.createElement("td",{width:"10%"},r.a.createElement("select",{id:"mois",name:"month",value:this.state.mois,onChange:function(t){e.setState({mois:t.target.value,validationError:""===t.target.value?"Select a month":""}),e.fillPrices(t.target.value)}},r.a.createElement("option",{value:""},"Select a month"),this.state.months.slice((new Date).getMonth(),12).map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e+" "+(new Date).getFullYear())})))),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"No. Forecasts")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price1,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price2,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price3,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price4,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price5,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price6,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price7,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price8,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price9,"/MT"))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Most Recent Forecasts")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",Math.round(100*this.trouveEV(this.state.lesmoyennes)),"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,this.state.lesprix.length)),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[0]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[1]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[2]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[3]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[4]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[5]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[6]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[7]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[8]),"%")),r.a.createElement("tr",null,r.a.createElement("td",{width:"10%",align:"center"},r.a.createElement("b",null,"All Forecasts")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",Math.round(this.state.EVA),"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,this.state.alldata.length)),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[0]),"%"),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[1]),"%"),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[2]),"%"),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[3]),"%"),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[4]),"%"),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[5]),"%"),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[6]),"%"),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[7]),"%"),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[8]),"%")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"12",align:"center"},r.a.createElement("div",{style:{width:"80%",height:300}},r.a.createElement(W.e,null,r.a.createElement(W.b,{layout:"vertical",width:500,height:300,data:this.state.donnees1,margin:{top:5,right:5,left:5,bottom:5}},r.a.createElement(W.c,{strokeDasharray:"3 3"}),r.a.createElement(W.g,{type:"number"}),r.a.createElement(W.h,{dataKey:"price",type:"category"}),r.a.createElement(W.f,null),r.a.createElement(W.d,null),r.a.createElement(W.a,{dataKey:"RecentData",fill:"#00B050"}),r.a.createElement(W.a,{dataKey:"AllData",fill:"#FFC000"})))))),r.a.createElement("tr",null,r.a.createElement("td",{width:"100%",align:"center",rowSpan:"11",colSpan:"12"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Most Recent General Comments"))),this.state.maloba.map((function(e){if(""!==e.id)return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"left"},e.generalcomments))})))))))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"13",align:"center",width:"100%"},r.a.createElement("b",null,"Most Recent Copper Forecasts - ",this.state.mois))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Participant")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Date")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price1,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price2,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price3,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price4,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price5,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price6,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price7,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price8,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price9,"/MT")),r.a.createElement("td",{align:"left",width:"35%"},r.a.createElement("b",null,"Justifications"))),this.state.lesprix.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},e.user),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",Math.round(e.lamoyenne),"/MT")),r.a.createElement("td",{align:"center"},e.dateforecast),r.a.createElement("td",{align:"center"},100*e.price1,"%"),r.a.createElement("td",{align:"center"},100*e.price2,"%"),r.a.createElement("td",{align:"center"},100*e.price3,"%"),r.a.createElement("td",{align:"center"},100*e.price4,"%"),r.a.createElement("td",{align:"center"},100*e.price5,"%"),r.a.createElement("td",{align:"center"},100*e.price6,"%"),r.a.createElement("td",{align:"center"},100*e.price7,"%"),r.a.createElement("td",{align:"center"},100*e.price8,"%"),r.a.createElement("td",{align:"center"},100*e.price9,"%"),r.a.createElement("td",{align:"center"},e.specificcomments))})))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"13",align:"center",width:"100%"},r.a.createElement("b",null,"Older Copper Forecasts - ",this.state.mois))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Participant")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Date")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price1,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price2,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price3,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price4,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price5,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price6,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price7,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price8,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price9,"/MT")),r.a.createElement("td",{align:"left",width:"35%"},r.a.createElement("b",null,"Justifications"))),this.state.olddata.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},e.user),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",Math.round(e.lamoyenne),"/MT")),r.a.createElement("td",{align:"center"},e.dateforecast),r.a.createElement("td",{align:"center"},Math.round(100*e.price1),"%"),r.a.createElement("td",{align:"center"},Math.round(100*e.price2),"%"),r.a.createElement("td",{align:"center"},Math.round(100*e.price3),"%"),r.a.createElement("td",{align:"center"},Math.round(100*e.price4),"%"),r.a.createElement("td",{align:"center"},Math.round(100*e.price5),"%"),r.a.createElement("td",{align:"center"},Math.round(100*e.price6),"%"),r.a.createElement("td",{align:"center"},Math.round(100*e.price7),"%"),r.a.createElement("td",{align:"center"},Math.round(100*e.price8),"%"),r.a.createElement("td",{align:"center"},Math.round(100*e.price9),"%"),r.a.createElement("td",{align:"center"},e.specificcomments))}))))))}}]),a}(n.PureComponent),Se=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).convert_to_utc=function(e){var t,a="am";return 0==(t=((t=e.getHours())+24-2)%24)?t=12:t>12&&(t%=12,a="pm"),e.toUTCString().split(" ")[0]+e.toUTCString().split(" ")[1]+" "+e.toUTCString().split(" ")[2]+" "+e.toUTCString().split(" ")[3]+" "+e.toUTCString().split(" ")[4].split(":")[0]+":"+e.toUTCString().split(" ")[4].split(":")[1]+" "+a},n.state={commodity:"",mois:"",user:"",dateforecast:"",priceAvr:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",lamoyenne:"",lemedian:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],justif:"",generalcomments:"",specificcomments:"",comments:"",totpercent:"",median:"",lesprix:[],foreprices:[],lesmoyennes:[0,0,0,0,0,0,0,0,0],njina:[],donnees1:[8],olddata:[],maloba:[]},window.onbeforeunload=function(){window.scrollTo(0,0)},n.CreeOldata=n.CreeOldata.bind(Object(F.a)(n)),n.trouveLeMedian=n.trouveLeMedian.bind(Object(F.a)(n)),n}return Object(N.a)(a,[{key:"CreeOldata",value:function(){Object(be.a)(this.state.lesprix);this.state.njina[0]=this.state.price1,this.state.njina[1]=this.state.price2,this.state.njina[2]=this.state.price3,this.state.njina[3]=this.state.price4,this.state.njina[4]=this.state.price5,this.state.njina[5]=this.state.price6,this.state.njina[6]=this.state.price7,this.state.njina[7]=this.state.price8,this.state.njina[8]=this.state.price9;var e=Object(b.a)({},this.state.donnees1);e=[{price:0,recentdate:100*this.state.lesmoyennes[0]}];for(var t=0;t<9;t++)e.push({price:this.state.njina[t],RecentData:100*this.state.lesmoyennes[t]});e.shift(),this.setState({donnees1:e})}},{key:"fillPrices",value:function(e){var t=this;this.setState({price1:""}),this.setState({price2:""}),this.setState({price3:""}),this.setState({price4:""}),this.setState({price5:""}),this.setState({price6:""}),this.setState({price7:""}),this.setState({price8:""}),this.setState({price9:""});var a=[0,0,0,0,0,0,0,0,0];fetch("/api/beyi/commois/"+e+"&Copper").then((function(e){return e.json()})).then((function(e){e.map((function(e){return t.setState({price1:e.floorprice+0*e.constant1}),t.setState({price2:e.floorprice+1*e.constant1}),t.setState({price3:e.floorprice+2*e.constant1}),t.setState({price4:e.floorprice+3*e.constant1}),t.setState({price5:e.floorprice+4*e.constant1}),t.setState({price6:e.floorprice+5*e.constant1}),t.setState({price7:e.floorprice+6*e.constant1}),t.setState({price8:e.floorprice+7*e.constant1}),t.setState({price9:e.floorprice+8*e.constant1}),{id:e._id}}))})).catch((function(e){console.log(e)})),fetch("/api/menji/dernierda/"+e+"&Copper").then((function(e){return e.json()})).then((function(e){var n=e.map((function(e,n,r){var i=r.length;a[0]=a[0]+e.detail.price1,a[1]=a[1]+e.detail.price2,a[2]=a[2]+e.detail.price3,a[3]=a[3]+e.detail.price4,a[4]=a[4]+e.detail.price5,a[5]=a[5]+e.detail.price6,a[6]=a[6]+e.detail.price7,a[7]=a[7]+e.detail.price8,a[8]=a[8]+e.detail.price9;var s=[];return s[0]=a[0]/i,s[1]=a[1]/i,s[2]=a[2]/i,s[3]=a[3]/i,s[4]=a[4]/i,s[5]=a[5]/i,s[6]=a[6]/i,s[7]=a[7]/i,s[8]=a[8]/i,t.setState({lesmoyennes:[].concat(s)}),{id:e.detail._id,user:e._id.user,dateforecast:t.convert_to_utc(new Date(e.detail.dateforecast)),price1:e.detail.price1,price2:e.detail.price2,price3:e.detail.price3,price4:e.detail.price4,price5:e.detail.price5,price6:e.detail.price6,price7:e.detail.price7,price8:e.detail.price8,price9:e.detail.price9,lemedian:e.detail.lemedian,lamoyenne:e.detail.lamoyenne,specificcomments:e.detail.specificcomments}}));t.setState({lesprix:[{id:"",user:"",dateforecast:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",lemedian:"",lamoyenne:"",specificcomments:""}].concat(n)});var r=Object(be.a)(t.state.lesprix);r.shift(),t.setState({lesprix:r})})).catch((function(e){console.log(e)})),this.fillotherdata(e)}},{key:"fillotherdata",value:function(e){var t=this;fetch("/api/menji/all/"+e+"&Copper").then((function(e){return e.json()})).then((function(a){var n=a.map((function(e){return{id:e._id,user:e.user,dateforecast:t.convert_to_utc(new Date(e.dateforecast)),price1:e.price1,price2:e.price2,price3:e.price3,price4:e.price4,price5:e.price5,price6:e.price6,price7:e.price7,price8:e.price8,price9:e.price9,lemedian:e.lemedian,lamoyenne:e.lamoyenne,specificcomments:e.specificcomments}}));t.setState({maloba:[{id:"",user:"",dateforecast:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",lemedian:"",lamoyenne:"",specificcomments:""}].concat(n)}),t.CreeOldata(),t.fillgeneralcomments(e)}))}},{key:"fillgeneralcomments",value:function(e){var t=this;fetch("/api/menji/olda1/"+e+"&Copper&8").then((function(e){return e.json()})).then((function(e){var a=e.map((function(e){return{id:e._id,generalcomments:e.generalcomments}}));t.setState({maloba:[{id:"",generalcomments:""}].concat(a)})}))}},{key:"trouveLeMedian",value:function(){var e,t=Math.max(this.state.lesmoyennes[0],this.state.lesmoyennes[1],this.state.lesmoyennes[2],this.state.lesmoyennes[3],this.state.lesmoyennes[4],this.state.lesmoyennes[5],this.state.lesmoyennes[6],this.state.lesmoyennes[7],this.state.lesmoyennes[8]);return t===this.state.lesmoyennes[0]?e=this.state.price1:t===this.state.lesmoyennes[1]?e=this.state.price2:t===this.state.lesmoyennes[2]?e=this.state.price3:t===this.state.lesmoyennes[3]?e=this.state.price4:t===this.state.lesmoyennes[4]?e=this.state.price5:t===this.state.lesmoyennes[5]?e=this.state.price6:t===this.state.lesmoyennes[6]?e=this.state.price7:t===this.state.lesmoyennes[7]?e=this.state.price8:t===this.state.lesmoyennes[8]&&(e=this.state.price9),e}},{key:"calculeLaMoyenne",value:function(){return this.state.price1*this.state.lesmoyennes[0]+this.state.price2*this.state.lesmoyennes[1]+this.state.price3*this.state.lesmoyennes[2]+this.state.price4*this.state.lesmoyennes[3]+this.state.price5*this.state.lesmoyennes[4]+this.state.price6*this.state.lesmoyennes[5]+this.state.price7*this.state.lesmoyennes[6]+this.state.price8*this.state.lesmoyennes[7]+this.state.price9*this.state.lesmoyennes[8]}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement("table",{border:"1"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"14",align:"center",width:"100%"},r.a.createElement("b",null,"Most Recent Copper Forecasts - ",this.state.mois))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("select",{id:"mois",name:"month",value:this.state.mois,onChange:function(t){e.setState({mois:t.target.value,validationError:""===t.target.value?"Select a month":""}),e.fillPrices(t.target.value)}},r.a.createElement("option",{value:""},"Select a month"),this.state.months.slice((new Date).getMonth(),12).map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e+" "+(new Date).getFullYear())})))),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"No. Forecasts")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price1,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price2,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price3,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price4,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price5,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price6,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price7,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price8,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price9,"/MT"))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Forecasts")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",Math.round(this.calculeLaMoyenne()),"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,this.state.lesprix.length)),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[0]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[1]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[2]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[3]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[4]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[5]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[6]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[7]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[8]),"%")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"12"}," ",r.a.createElement("div",{style:{width:"80%",height:300}},r.a.createElement(W.e,null,r.a.createElement(W.b,{layout:"vertical",width:500,height:300,data:this.state.donnees1,margin:{top:5,right:5,left:5,bottom:5}},r.a.createElement(W.c,{strokeDasharray:"3 3"}),r.a.createElement(W.g,{type:"number"}),r.a.createElement(W.h,{dataKey:"price",type:"category"}),r.a.createElement(W.f,null),r.a.createElement(W.d,null),r.a.createElement(W.a,{dataKey:"RecentData",fill:"#B87333"})))))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"12",rowSpan:"12"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Most Recent General Comments"))),this.state.maloba.map((function(e){if(""!==e.id)return r.a.createElement("tr",{align:"left",key:e.id},r.a.createElement("td",null,e.generalcomments))})))))))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"14",align:"center",width:"100%"},r.a.createElement("b",null,"Most Recent Copper Forecasts - ",this.state.mois))),r.a.createElement("tr",{align:"center"},r.a.createElement("td",null,r.a.createElement("b",null,"Participant")),r.a.createElement("td",null,r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",null,r.a.createElement("b",null,"Date")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price1,"/MT")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price2,"/MT")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price3,"/MT")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price4,"/MT")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price5,"/MT")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price6,"/MT")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price7,"/MT")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price8,"/MT")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price9,"/MT")),r.a.createElement("td",{align:"center",width:"40%"},r.a.createElement("b",null,"Justifications"))),this.state.lesprix.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},e.user),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",Math.round(e.lamoyenne),"/MT")),r.a.createElement("td",{align:"center"},e.dateforecast," "),r.a.createElement("td",{align:"center"},100*e.price1,"%"),r.a.createElement("td",{align:"center"},100*e.price2,"%"),r.a.createElement("td",{align:"center"},100*e.price3,"%"),r.a.createElement("td",{align:"center"},100*e.price4,"%"),r.a.createElement("td",{align:"center"},100*e.price5,"%"),r.a.createElement("td",{align:"center"},100*e.price6,"%"),r.a.createElement("td",{align:"center"},100*e.price7,"%"),r.a.createElement("td",{align:"center"},100*e.price8,"%"),r.a.createElement("td",{align:"center"},100*e.price9,"%"),r.a.createElement("td",{align:"center"},e.specificcomments))}))))))}}]),a}(n.PureComponent),we=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={moisprix:[],moispour:[],price1:[],price2:[],price3:[],price4:[],price5:[],price6:[],price7:[],price8:[],price9:[],avg1:[],avg2:[],avg3:[],avg4:[],avg5:[],avg6:[],avg7:[],avg8:[],avg9:[],avmedian:[],ev:[],augprix:0,septprix:0,octprix:0,novprix:0,augpour:0,septpour:0,octpour:0,novpour:0,decpour:0,augnb:0,septnb:0,octnb:0,novnb:0,decnb:0,EVsep:0,EVoct:0,EVnov:0,EVdec:0,donnees1:[],lesprix:[],lesCast:[],maloba:[]},window.onbeforeunload=function(){window.scrollTo(0,0)},n.fillgeneralcomments=n.fillgeneralcomments.bind(Object(F.a)(n)),n.renderTableData=n.renderTableData.bind(Object(F.a)(n)),n}return Object(N.a)(a,[{key:"componentWillMount",value:function(){this.faisQlq(),this.graphi()}},{key:"fillgeneralcomments",value:function(e){var t=this;fetch("/api/menji/olda1/"+e+"&Copper&8").then((function(e){return e.json()})).then((function(e){var a=e.map((function(e){return{id:e._id,mois:e.mois,generalcomments:e.generalcomments}}));t.setState({maloba:[{id:"",generalcomments:""}].concat(a)})}))}},{key:"faisQlq",value:function(){var e=this;fetch("/api/beyi/comm/Copper").then((function(e){return e.json()})).then((function(t){var a=0,n=Object(be.a)(e.state.moisprix),r=Object(be.a)(e.state.price1),i=Object(be.a)(e.state.price2),s=Object(be.a)(e.state.price3),c=Object(be.a)(e.state.price4),l=Object(be.a)(e.state.price5),o=Object(be.a)(e.state.price6),p=Object(be.a)(e.state.price7),m=Object(be.a)(e.state.price8),u=Object(be.a)(e.state.price9);t.map((function(t){return n[a+1]=t.month,r[a+1]=t.floorprice+0*t.constant1,i[a+1]=t.floorprice+1*t.constant1,s[a+1]=t.floorprice+2*t.constant1,c[a+1]=t.floorprice+3*t.constant1,l[a+1]=t.floorprice+4*t.constant1,o[a+1]=t.floorprice+5*t.constant1,p[a+1]=t.floorprice+6*t.constant1,m[a+1]=t.floorprice+7*t.constant1,u[a+1]=t.floorprice+8*t.constant1,"September 2020"===n[a+1]?e.setState({septprix:a+1}):"October 2020"===n[a+1]?e.setState({octprix:a+1}):"November 2020"===n[a+1]?e.setState({novprix:a+1}):"December 2020"===n[a+1]&&e.setState({decprix:a+1}),a++,{id:t._id}}));e.setState({moisprix:n}),e.setState({price1:r}),e.setState({price2:i}),e.setState({price3:s}),e.setState({price4:c}),e.setState({price5:l}),e.setState({price6:o}),e.setState({price7:p}),e.setState({price8:m}),e.setState({price9:u}),e.graphi()})).catch((function(e){console.log(e)})),fetch("/api/menji/moymois/Copper").then((function(e){return e.json()})).then((function(t){Object(be.a)(e.state.lesCast);var a=0,n=Object(be.a)(e.state.moispour),r=Object(be.a)(e.state.avg1),i=Object(be.a)(e.state.avg2),s=Object(be.a)(e.state.avg3),c=Object(be.a)(e.state.avg4),l=Object(be.a)(e.state.avg5),o=Object(be.a)(e.state.avg6),p=Object(be.a)(e.state.avg7),m=Object(be.a)(e.state.avg8),u=Object(be.a)(e.state.avg9),h=Object(be.a)(e.state.avmedian);Object(be.a)(e.state.ev);a=0;t.map((function(t){return n[a+1]=t._id,r[a+1]=Math.round(t.avg1),i[a+1]=Math.round(t.avg2),s[a+1]=Math.round(t.avg3),c[a+1]=Math.round(t.avg4),l[a+1]=Math.round(t.avg5),o[a+1]=Math.round(t.avg6),p[a+1]=Math.round(t.avg7),m[a+1]=Math.round(t.avg8),u[a+1]=Math.round(t.avg9),h[a+1]=Math.round(t.median),"September 2020"===n[a+1]?e.setState({septpour:a+1}):"October 2020"===n[a+1]?e.setState({octpour:a+1}):"November 2020"===n[a+1]?e.setState({novpour:a+1}):"December 2020"===n[a+1]&&e.setState({decpour:a+1}),a++,{mois:t._id}}));e.setState({moispour:n}),e.setState({avg1:r}),e.setState({avg2:i}),e.setState({avg3:s}),e.setState({avg4:c}),e.setState({avg5:l}),e.setState({avg6:o}),e.setState({avg7:p}),e.setState({avg8:m}),e.setState({avg9:u}),e.setState({avmedian:h}),e.graphi()})).catch((function(e){console.log(e)})),fetch("/api/menji/comptemois/Copper").then((function(e){return e.json()})).then((function(t){t.map((function(t){return"September 2020"===t._id?e.setState({septnb:t.compte}):"October 2020"===t._id?e.setState({octnb:t.compte}):"November 2020"===t._id?e.setState({novnb:t.compte}):"December 2020"===t._id&&e.setState({decnb:t.compte}),{mois:t._id}}))})).catch((function(e){console.log(e)})),this.graphi(),this.trouveev(),this.fillgeneralcomments("September 2020")}},{key:"graphi",value:function(){var e=[];e.push({price:this.state.price1[this.state.septpour],Sep20:this.state.avg1[this.state.septpour],Oct20:this.state.avg1[this.state.octpour],Nov20:this.state.avg1[this.state.novpour],Dec20:this.state.avg1[this.state.decpour]}),e.push({price:this.state.price2[this.state.septpour],Sep20:this.state.avg2[this.state.septpour],Oct20:this.state.avg2[this.state.octpour],Nov20:this.state.avg2[this.state.novpour],Dec20:this.state.avg2[this.state.decpour]}),e.push({price:this.state.price3[this.state.septpour],Sep20:this.state.avg3[this.state.septpour],Oct20:this.state.avg3[this.state.octpour],Nov20:this.state.avg3[this.state.novpour],Dec20:this.state.avg3[this.state.decpour]}),e.push({price:this.state.price4[this.state.septpour],Sep20:this.state.avg4[this.state.septpour],Oct20:this.state.avg4[this.state.octpour],Nov20:this.state.avg4[this.state.novpour],Dec20:this.state.avg4[this.state.decpour]}),e.push({price:this.state.price5[this.state.septpour],Sep20:this.state.avg5[this.state.septpour],Oct20:this.state.avg5[this.state.octpour],Nov20:this.state.avg5[this.state.novpour],Dec20:this.state.avg5[this.state.decpour]}),e.push({price:this.state.price6[this.state.septpour],Sep20:this.state.avg6[this.state.septpour],Oct20:this.state.avg6[this.state.octpour],Nov20:this.state.avg6[this.state.novpour],Dec20:this.state.avg6[this.state.decpour]}),e.push({price:this.state.price7[this.state.septpour],Sep20:this.state.avg7[this.state.septpour],Oct20:this.state.avg7[this.state.octpour],Nov20:this.state.avg7[this.state.novpour],Dec20:this.state.avg7[this.state.decpour]}),e.push({price:this.state.price8[this.state.septpour],Sep20:this.state.avg8[this.state.septpour],Oct20:this.state.avg8[this.state.octpour],Nov20:this.state.avg8[this.state.novpour],Dec20:this.state.avg8[this.state.decpour]}),e.push({price:this.state.price9[this.state.septpour],Sep20:this.state.avg9[this.state.septpour],Oct20:this.state.avg9[this.state.octpour],Nov20:this.state.avg9[this.state.novpour],Dec20:this.state.avg9[this.state.decpour]}),this.setState({donnees1:e});var t=Math.round(this.state.avg1[this.state.septpour])*this.state.price1[this.state.septprix]+Math.round(this.state.avg2[this.state.septpour])*this.state.price2[this.state.septprix]+Math.round(this.state.avg3[this.state.septpour])*this.state.price3[this.state.septprix]+Math.round(this.state.avg4[this.state.septpour])*this.state.price4[this.state.septprix]+Math.round(this.state.avg5[this.state.septpour])*this.state.price5[this.state.septprix]+Math.round(this.state.avg6[this.state.septpour])*this.state.price6[this.state.septprix]+Math.round(this.state.avg7[this.state.septpour])*this.state.price7[this.state.septprix]+Math.round(this.state.avg8[this.state.septpour])*this.state.price7[this.state.septprix]+Math.round(this.state.avg9[this.state.septpour])*this.state.price8[this.state.septprix];this.setState({EVSEP:t});var a=Math.round(t/100);this.setState({EVsep:a}),this.trouveev()}},{key:"trouveev",value:function(){var e=Object(be.a)(this.state.ev),t=Math.max(this.state.avg1[this.state.septpour],this.state.avg2[this.state.septpour],this.state.avg3[this.state.septpour],this.state.avg4[this.state.septpour],this.state.avg5[this.state.septpour],this.state.avg6[this.state.septpour],this.state.avg7[this.state.septpour],this.state.avg8[this.state.septpour],this.state.avg9[this.state.septpour]);console.log(this.state.septpour),this.state.avg1[this.state.septpour]===t?(e[this.state.septpour]=this.state.price1[this.state.septprix],this.setState({ev:e})):this.state.avg2[this.state.septpour]===t?(e[this.state.septpour]=this.state.price2[this.state.septprix],this.setState({ev:e})):this.state.avg3[this.state.septpour]===t?(e[this.state.septpour]=this.state.price3[this.state.septprix],this.setState({ev:e})):this.state.avg4[this.state.septpour]===t?(e[this.state.septpour]=this.state.price4[this.state.septprix],this.setState({ev:e})):this.state.avg5[this.state.septpour]===t?(e[this.state.septpour]=this.state.price5[this.state.septprix],this.setState({ev:e})):this.state.avg6[this.state.septpour]===t?(e[this.state.septpour]=this.state.price6[this.state.septprix],this.setState({ev:e})):this.state.avg7[this.state.septpour]===t?(e[this.state.septpour]=this.state.price7[this.state.septprix],this.setState({ev:e})):this.state.avg8[this.state.septpour]===t?(e[this.state.septpour]=this.state.price8[this.state.septprix],this.setState({ev:e})):this.state.avg9[this.state.septpour]===t&&(e[this.state.septpour]=this.state.price9[this.state.septprix],this.setState({ev:e}));var a=Math.round(this.state.avg1[this.state.octpour])*this.state.price1[this.state.septprix]+Math.round(this.state.avg2[this.state.octpour])*this.state.price2[this.state.septprix]+Math.round(this.state.avg3[this.state.octpour])*this.state.price3[this.state.septprix]+Math.round(this.state.avg4[this.state.octpour])*this.state.price4[this.state.septprix]+Math.round(this.state.avg5[this.state.octpour])*this.state.price5[this.state.septprix]+Math.round(this.state.avg6[this.state.octpour])*this.state.price6[this.state.septprix]+Math.round(this.state.avg7[this.state.octpour])*this.state.price7[this.state.septprix]+Math.round(this.state.avg8[this.state.octpour])*this.state.price7[this.state.septprix]+Math.round(this.state.avg9[this.state.octpour])*this.state.price8[this.state.septprix];this.setState({EVOCT:a});var n=Math.round(a/100);this.setState({EVoct:n});var r=Math.max(this.state.avg1[this.state.octpour],this.state.avg2[this.state.octpour],this.state.avg3[this.state.octpour],this.state.avg4[this.state.octpour],this.state.avg5[this.state.octpour],this.state.avg6[this.state.octpour],this.state.avg7[this.state.octpour],this.state.avg8[this.state.octpour],this.state.avg9[this.state.octpour]);this.state.avg1[this.state.octpour]===r?(e[this.state.octpour]=this.state.price1[this.state.octprix],this.setState({ev:e})):this.state.avg2[this.state.octpour]===r?(e[this.state.octpour]=this.state.price2[this.state.octprix],this.setState({ev:e})):this.state.avg3[this.state.octpour]===r?(e[this.state.octpour]=this.state.price3[this.state.octprix],this.setState({ev:e})):this.state.avg4[this.state.octpour]===r?(e[this.state.octpour]=this.state.price4[this.state.octprix],this.setState({ev:e})):this.state.avg5[this.state.octpour]===r?(e[this.state.octpour]=this.state.price5[this.state.octprix],this.setState({ev:e})):this.state.avg6[this.state.octpour]===r?(e[this.state.octpour]=this.state.price6[this.state.octprix],this.setState({ev:e})):this.state.avg7[this.state.octpour]===r?(e[this.state.octpour]=this.state.price7[this.state.octprix],this.setState({ev:e})):this.state.avg8[this.state.octpour]===r?(e[this.state.octpour]=this.state.price8[this.state.octprix],this.setState({ev:e})):this.state.avg9[this.state.octpour]===r&&(e[this.state.octpour]=this.state.price9[this.state.octprix],this.setState({ev:e}));var i=Math.round(this.state.avg1[this.state.novpour])*this.state.price1[this.state.septprix]+Math.round(this.state.avg2[this.state.novpour])*this.state.price2[this.state.septprix]+Math.round(this.state.avg3[this.state.novpour])*this.state.price3[this.state.septprix]+Math.round(this.state.avg4[this.state.novpour])*this.state.price4[this.state.septprix]+Math.round(this.state.avg5[this.state.novpour])*this.state.price5[this.state.septprix]+Math.round(this.state.avg6[this.state.novpour])*this.state.price6[this.state.septprix]+Math.round(this.state.avg7[this.state.novpour])*this.state.price7[this.state.septprix]+Math.round(this.state.avg8[this.state.novpour])*this.state.price7[this.state.septprix]+Math.round(this.state.avg9[this.state.novpour])*this.state.price8[this.state.septprix];this.setState({EVNOV:i});var s=Math.round(i/100);this.setState({EVnov:s});var c=Math.max(this.state.avg1[this.state.novpour],this.state.avg2[this.state.novpour],this.state.avg3[this.state.novpour],this.state.avg4[this.state.novpour],this.state.avg5[this.state.novpour],this.state.avg6[this.state.novpour],this.state.avg7[this.state.novpour],this.state.avg8[this.state.novpour],this.state.avg9[this.state.novpour]);this.state.avg1[this.state.novpour]===c?(e[this.state.novpour]=this.state.price1[this.state.novprix],this.setState({ev:e})):this.state.avg2[this.state.novpour]===c?(e[this.state.novpour]=this.state.price2[this.state.novprix],this.setState({ev:e})):this.state.avg3[this.state.novpour]===c?(e[this.state.novpour]=this.state.price3[this.state.novprix],this.setState({ev:e})):this.state.avg4[this.state.novpour]===c?(e[this.state.novpour]=this.state.price4[this.state.novprix],this.setState({ev:e})):this.state.avg5[this.state.novpour]===c?(e[this.state.novpour]=this.state.price5[this.state.novprix],this.setState({ev:e})):this.state.avg6[this.state.novpour]===c?(e[this.state.novpour]=this.state.price6[this.state.novprix],this.setState({ev:e})):this.state.avg7[this.state.novpour]===c?(e[this.state.novpour]=this.state.price7[this.state.novprix],this.setState({ev:e})):this.state.avg8[this.state.novpour]===c?(e[this.state.novpour]=this.state.price8[this.state.novprix],this.setState({ev:e})):this.state.avg9[this.state.novpour]===c&&(e[this.state.novpour]=this.state.price9[this.state.novprix],this.setState({ev:e}));var l=Math.round(this.state.avg1[this.state.decpour])*this.state.price1[this.state.septprix]+Math.round(this.state.avg2[this.state.decpour])*this.state.price2[this.state.septprix]+Math.round(this.state.avg3[this.state.decpour])*this.state.price3[this.state.septprix]+Math.round(this.state.avg4[this.state.decpour])*this.state.price4[this.state.septprix]+Math.round(this.state.avg5[this.state.decpour])*this.state.price5[this.state.septprix]+Math.round(this.state.avg6[this.state.decpour])*this.state.price6[this.state.septprix]+Math.round(this.state.avg7[this.state.decpour])*this.state.price7[this.state.septprix]+Math.round(this.state.avg8[this.state.decpour])*this.state.price7[this.state.septprix]+Math.round(this.state.avg9[this.state.decpour])*this.state.price8[this.state.septprix];this.setState({EVDEC:l});var o=Math.round(l/100);this.setState({EVdec:o});var p=Math.max(this.state.avg1[this.state.decpour],this.state.avg2[this.state.decpour],this.state.avg3[this.state.decpour],this.state.avg4[this.state.decpour],this.state.avg5[this.state.decpour],this.state.avg6[this.state.decpour],this.state.avg7[this.state.decpour],this.state.avg8[this.state.decpour],this.state.avg9[this.state.decpour]);this.state.avg1[this.state.decpour]===p?(e[this.state.decpour]=this.state.price1[this.state.decprix],this.setState({ev:e})):this.state.avg2[this.state.decpour]===p?(e[this.state.decpour]=this.state.price2[this.state.decprix],this.setState({ev:e})):this.state.avg3[this.state.decpour]===p?(e[this.state.decpour]=this.state.price3[this.state.decprix],this.setState({ev:e})):this.state.avg4[this.state.decpour]===p?(e[this.state.decpour]=this.state.price4[this.state.decprix],this.setState({ev:e})):this.state.avg5[this.state.decpour]===p?(e[this.state.decpour]=this.state.price5[this.state.decprix],this.setState({ev:e})):this.state.avg6[this.state.decpour]===p?(e[this.state.decpour]=this.state.price6[this.state.decprix],this.setState({ev:e})):this.state.avg7[this.state.decpour]===p?(e[this.state.decpour]=this.state.price7[this.state.decprix],this.setState({ev:e})):this.state.avg8[this.state.decpour]===p?(e[this.state.decpour]=this.state.price8[this.state.decprix],this.setState({ev:e})):this.state.avg9[this.state.decpour]===p&&(e[this.state.decpour]=this.state.price9[this.state.decprix],this.setState({ev:e}))}},{key:"renderTableData",value:function(){return this.state.lesprix.map((function(e,t){var a=e.mois,n=e.price1,i=e.price2,s=e.price3,c=e.price4,l=e.price5,o=e.price6,p=e.price7,m=e.price8,u=e.price9;return r.a.createElement("tr",null,r.a.createElement("td",{rowSpan:"2",align:"center",width:"10%"},a),r.a.createElement("td",null,"EV"),r.a.createElement("td",null,"No."),r.a.createElement("td",null,n),r.a.createElement("td",null,i),r.a.createElement("td",null,s),r.a.createElement("td",null,c),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,p),r.a.createElement("td",null,m),r.a.createElement("td",null,u))}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"12",align:"center",width:"100%"},r.a.createElement("b",null,"Aggregation of All Copper Forecasts"))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Month")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"No. Forecasts")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price1[this.state.septprix],"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price2[this.state.septprix],"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price3[this.state.septprix],"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price4[this.state.septprix],"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price5[this.state.septprix],"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price6[this.state.septprix],"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price7[this.state.septprix],"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price8[this.state.septprix],"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price9[this.state.septprix],"/MT"))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"September 2020")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",[this.state.EVsep],"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,this.state.septnb)),r.a.createElement("td",{align:"center"},this.state.avg1[this.state.septpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg2[this.state.septpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg3[this.state.septpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg4[this.state.septpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg5[this.state.septpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg6[this.state.septpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg7[this.state.septpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg8[this.state.septpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg9[this.state.septpour],"%")),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"October 2020")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",[this.state.EVoct],"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,this.state.octnb)),r.a.createElement("td",{align:"center"},this.state.avg1[this.state.octpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg2[this.state.octpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg3[this.state.octpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg4[this.state.octpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg5[this.state.octpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg6[this.state.octpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg7[this.state.octpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg8[this.state.octpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg9[this.state.octpour],"%")),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"November 2020")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",[this.state.EVnov],"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,this.state.novnb)),r.a.createElement("td",{align:"center"},this.state.avg1[this.state.novpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg2[this.state.novpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg3[this.state.novpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg4[this.state.novpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg5[this.state.novpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg6[this.state.novpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg7[this.state.novpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg8[this.state.novpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg9[this.state.novpour],"%")),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"December 2020")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",[this.state.EVdec],"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,this.state.decnb)),r.a.createElement("td",{align:"center"},this.state.avg1[this.state.decpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg2[this.state.decpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg3[this.state.decpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg4[this.state.decpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg5[this.state.decpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg6[this.state.decpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg7[this.state.decpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg8[this.state.decpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg9[this.state.decpour],"%")),r.a.createElement("tr",null,r.a.createElement("td",{rowSpan:"12",colSpan:"12",align:"center"},r.a.createElement("div",{style:{width:"80%",height:300}},r.a.createElement(W.e,null,r.a.createElement(W.b,{layout:"vertical",width:500,height:300,data:this.state.donnees1,margin:{top:5,right:5,left:5,bottom:5}},r.a.createElement(W.c,{strokeDasharray:"3 3"}),r.a.createElement(W.g,{type:"number"}),r.a.createElement(W.h,{dataKey:"price",type:"category"}),r.a.createElement(W.f,null),r.a.createElement(W.d,null),r.a.createElement(W.a,{dataKey:"Sep20",fill:"#00CC00"}),r.a.createElement(W.a,{dataKey:"Oct20",fill:"#0000FF"}),r.a.createElement(W.a,{dataKey:"Nov20",fill:"#FFC000"}),r.a.createElement(W.a,{dataKey:"Dec20",fill:"#FF0000"})))))))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2",align:"center",width:"100%"},r.a.createElement("b",null,"Most Recent General Comments"))),this.state.maloba.map((function(e){if(""!==e.id)return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},e.mois),r.a.createElement("td",{align:"left"},e.generalcomments))})))))}}]),a}(n.PureComponent),je=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={donnees:[],data:[],prixaug:[],prixsept:[],prixoct:[],prixnov:[],prixdec:[]},n}return Object(N.a)(a,[{key:"componentDidUpdate",value:function(e){if(e.mweji!==this.props.mweji){this.props.mweji;for(var t=[],a=[],n=[],r=[],i=[],s=0;s<4;s++)"September 2020"==this.props.mweji[s].lemois&&(t[1]=this.props.mweji[s].price1,t[2]=this.props.mweji[s].price2,t[3]=this.props.mweji[s].price3,t[4]=this.props.mweji[s].price4,t[5]=this.props.mweji[s].price5,t[6]=this.props.mweji[s].price6,t[7]=this.props.mweji[s].price7,t[8]=this.props.mweji[s].price8,t[9]=this.props.mweji[s].price9),"October 2020"==this.props.mweji[s].lemois&&(a[1]=this.props.mweji[s].price1,a[2]=this.props.mweji[s].price2,a[3]=this.props.mweji[s].price3,a[4]=this.props.mweji[s].price4,a[5]=this.props.mweji[s].price5,a[6]=this.props.mweji[s].price6,a[7]=this.props.mweji[s].price7,a[8]=this.props.mweji[s].price8,a[9]=this.props.mweji[s].price9),"November 2020"==this.props.mweji[s].lemois&&(n[1]=this.props.mweji[s].price1,n[2]=this.props.mweji[s].price2,n[3]=this.props.mweji[s].price3,n[4]=this.props.mweji[s].price4,n[5]=this.props.mweji[s].price5,n[6]=this.props.mweji[s].price6,n[7]=this.props.mweji[s].price7,n[8]=this.props.mweji[s].price8,n[9]=this.props.mweji[s].price9),"December 2020"==this.props.mweji[s].lemois&&(r[1]=this.props.mweji[s].price1,r[2]=this.props.mweji[s].price2,r[3]=this.props.mweji[s].price3,r[4]=this.props.mweji[s].price4,r[5]=this.props.mweji[s].price5,r[6]=this.props.mweji[s].price6,r[7]=this.props.mweji[s].price7,r[8]=this.props.mweji[s].price8,r[9]=this.props.mweji[s].price9);i[1]=this.props.mweji1[0].pour1,i[2]=this.props.mweji1[0].pour2,i[3]=this.props.mweji1[0].pour3,i[4]=this.props.mweji1[0].pour4,i[5]=this.props.mweji1[0].pour5,i[6]=this.props.mweji1[0].pour6,i[7]=this.props.mweji1[0].pour7,i[8]=this.props.mweji1[0].pour8,i[9]=this.props.mweji1[0].pour9;for(var c=[],l=1;l<10;l++)c.push({price:i[l],Sep20:t[l],Oct20:a[l],Nov20:n[l],Dec20:r[l]});this.setState({data:c})}}},{key:"render",value:function(){return r.a.createElement(W.b,{layout:"horizontal",width:960,height:300,data:this.state.data,margin:{top:5,right:5,left:5,bottom:5}},r.a.createElement(W.c,{strokeDasharray:"3 3"}),r.a.createElement(W.g,{dataKey:"price",type:"category"}),r.a.createElement(W.h,{type:"number"}),r.a.createElement(W.f,null),r.a.createElement(W.d,null),r.a.createElement(W.a,{dataKey:"Sep20",fill:"#00CC00",width:"1"}),r.a.createElement(W.a,{dataKey:"Oct20",fill:"#0000FF",width:"2"}),r.a.createElement(W.a,{dataKey:"Nov20",fill:"#FFC000",width:"3"}),r.a.createElement(W.a,{dataKey:"Dec20",fill:"#FF0000",width:"4"}))}}]),a}(n.PureComponent),xe=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).convert_to_utc=function(e){var t,a="am";return 0==(t=((t=e.getHours())+24-2)%24)?t=12:t>12&&(t%=12,a="pm"),e.toUTCString().split(" ")[0]+e.toUTCString().split(" ")[1]+" "+e.toUTCString().split(" ")[2]+" "+e.toUTCString().split(" ")[3]+" "+e.toUTCString().split(" ")[4].split(":")[0]+":"+e.toUTCString().split(" ")[4].split(":")[1]+" "+a},n.state={user:"",users:[],augusts:[],septembers:[],octobers:[],novembers:[],decembers:[],recents:[],prixaug:[],prixsept:[],prixoct:[],prixnov:[],prixdec:[],donnees1:[],evaug:"",evsep:"",evoct:"",evnov:"",evdec:"",comaug:"",comsep:"",comoct:"",comnov:"",comdec:""},window.onbeforeunload=function(){window.scrollTo(0,0)},n.onChange=n.onChange.bind(Object(F.a)(n)),n.fillprices=n.fillprices.bind(Object(F.a)(n)),n}return Object(N.a)(a,[{key:"onChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/users/tous/Copper&Copper").then((function(e){return e.json()})).then((function(t){var a=t.map((function(e){return{value:e.name,display:e.name}}));e.setState({users:[{value:"",display:"(Choose Participant)"}].concat(a)})})).catch((function(e){console.log(e)}))}},{key:"fillprices",value:function(e,t){var a=this,n={},r={},i={},s={};fetch("/api/beyi/commois/September 2020&Copper").then((function(e){return e.json()})).then((function(e){n=e.map((function(e){return{pour1:e.floorprice+0*e.constant1,pour2:e.floorprice+1*e.constant1,pour3:e.floorprice+2*e.constant1,pour4:e.floorprice+3*e.constant1,pour5:e.floorprice+4*e.constant1,pour6:e.floorprice+5*e.constant1,pour7:e.floorprice+6*e.constant1,pour8:e.floorprice+7*e.constant1,pour9:e.floorprice+8*e.constant1}})),a.setState({prixsept:[].concat(n)})})).catch((function(e){console.log(e)})),fetch("/api/beyi/commois/October 2020&Copper").then((function(e){return e.json()})).then((function(e){r=e.map((function(e){return{pour1:e.floorprice+0*e.constant1,pour2:e.floorprice+1*e.constant1,pour3:e.floorprice+2*e.constant1,pour4:e.floorprice+3*e.constant1,pour5:e.floorprice+4*e.constant1,pour6:e.floorprice+5*e.constant1,pour7:e.floorprice+6*e.constant1,pour8:e.floorprice+7*e.constant1,pour9:e.floorprice+8*e.constant1}})),a.setState({prixoct:[].concat(r)})})).catch((function(e){console.log(e)})),fetch("/api/beyi/commois/November 2020&Copper").then((function(e){return e.json()})).then((function(e){i=e.map((function(e){return{pour1:e.floorprice+0*e.constant1,pour2:e.floorprice+1*e.constant1,pour3:e.floorprice+2*e.constant1,pour4:e.floorprice+3*e.constant1,pour5:e.floorprice+4*e.constant1,pour6:e.floorprice+5*e.constant1,pour7:e.floorprice+6*e.constant1,pour8:e.floorprice+7*e.constant1,pour9:e.floorprice+8*e.constant1}})),a.setState({prixnov:[].concat(i)})})).catch((function(e){console.log(e)})),fetch("/api/beyi/commois/December 2020&Copper").then((function(e){return e.json()})).then((function(e){s=e.map((function(e){return{pour1:e.floorprice+0*e.constant1,pour2:e.floorprice+1*e.constant1,pour3:e.floorprice+2*e.constant1,pour4:e.floorprice+3*e.constant1,pour5:e.floorprice+4*e.constant1,pour6:e.floorprice+5*e.constant1,pour7:e.floorprice+6*e.constant1,pour8:e.floorprice+7*e.constant1,pour9:e.floorprice+8*e.constant1}})),a.setState({prixdec:[].concat(s)})})).catch((function(e){console.log(e)}));fetch("/api/menji/userd/September 2020&"+t+"&"+e).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){var t=n[0].pour1*e.price1+n[0].pour2*e.price2+n[0].pour3*e.price3+n[0].pour4*e.price4+n[0].pour5*e.price5+n[0].pour6*e.price6+n[0].pour7*e.price7+n[0].pour8*e.price8+n[0].pour9*e.price9;return a.setState({evsep:t}),a.setState({comsep:e.generalcomments}),{EV:t,price1:e.price1,price2:e.price2,price3:e.price3,price4:e.price4,price5:e.price5,price6:e.price6,price7:e.price7,price8:e.price8,price9:e.price9,lemedian:e.lemedian,dateforecast:a.convert_to_utc(new Date(e.dateforecast)),specificcomments:e.specificcomments,generalcomments:e.generalcomments}}));a.setState({septembers:[].concat(t)})})).catch((function(e){console.log(e)})),fetch("/api/menji/userd/October 2020&"+t+"&"+e).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){var t=r[0].pour1*e.price1+r[0].pour2*e.price2+r[0].pour3*e.price3+r[0].pour4*e.price4+r[0].pour5*e.price5+r[0].pour6*e.price6+r[0].pour7*e.price7+r[0].pour8*e.price8+r[0].pour9*e.price9;return a.setState({evoct:t}),a.setState({comoct:e.generalcomments}),{EV:t,price1:e.price1,price2:e.price2,price3:e.price3,price4:e.price4,price5:e.price5,price6:e.price6,price7:e.price7,price8:e.price8,price9:e.price9,lemedian:e.lemedian,dateforecast:a.convert_to_utc(new Date(e.dateforecast)),specificcomments:e.specificcomments,generalcomments:e.generalcomments}}));a.setState({octobers:[].concat(t)})})).catch((function(e){console.log(e)})),fetch("/api/menji/userd/November 2020&"+t+"&"+e).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){var t=i[0].pour1*e.price1+i[0].pour2*e.price2+i[0].pour3*e.price3+i[0].pour4*e.price4+i[0].pour5*e.price5+i[0].pour6*e.price6+i[0].pour7*e.price7+i[0].pour8*e.price8+i[0].pour9*e.price9;return a.setState({evnov:t}),a.setState({comnov:e.generalcomments}),{EV:t,price1:e.price1,price2:e.price2,price3:e.price3,price4:e.price4,price5:e.price5,price6:e.price6,price7:e.price7,price8:e.price8,price9:e.price9,lemedian:e.lemedian,dateforecast:a.convert_to_utc(new Date(e.dateforecast)),specificcomments:e.specificcomments,generalcomments:e.generalcomments}}));a.setState({novembers:[].concat(t)})})).catch((function(e){console.log(e)})),fetch("/api/menji/userd/December 2020&"+t+"&"+e).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){var t=s[0].pour1*e.price1+s[0].pour2*e.price2+s[0].pour3*e.price3+s[0].pour4*e.price4+s[0].pour5*e.price5+s[0].pour6*e.price6+s[0].pour7*e.price7+s[0].pour8*e.price8+s[0].pour9*e.price9;return a.setState({evdec:t}),a.setState({comdec:e.generalcomments}),{EV:t,price1:e.price1,price2:e.price2,price3:e.price3,price4:e.price4,price5:e.price5,price6:e.price6,price7:e.price7,price8:e.price8,price9:e.price9,lemedian:e.lemedian,dateforecast:a.convert_to_utc(new Date(e.dateforecast)),specificcomments:e.specificcomments,generalcomments:e.generalcomments}}));a.setState({decembers:[].concat(t)})})).catch((function(e){console.log(e)})),fetch("/api/menji/recentdauser/"+t+"&"+e).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{price1:100*e.detail.price1,price2:100*e.detail.price2,price3:100*e.detail.price3,price4:100*e.detail.price4,price5:100*e.detail.price5,price6:100*e.detail.price6,price7:100*e.detail.price7,price8:100*e.detail.price8,price9:100*e.detail.price9,lemois:e.detail.mois}}));a.setState({recents:[].concat(t)})})).catch((function(e){console.log(e)})),this.setState({donnees1:[]})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"6",align:"center"},r.a.createElement("b",null,"Most Recent Copper Forecasts - Expected Value"))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Participant")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"September 2020")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"October 2020")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"November 2020")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"December 2020"))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("span",{className:"label label-primary"}),r.a.createElement("select",{className:"",value:this.state.user,onChange:function(t){e.setState({user:t.target.value,validationError:""===t.target.value?"Choose a participant":""}),e.fillprices(t.target.value,"Copper")}},this.state.users.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.display)})))),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.evsep,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.evoct,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.evnov,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.evdec,"/MT"))),r.a.createElement("tr",null,r.a.createElement("td",{rowSpan:"12",colSpan:"6",width:"80%",align:"center"},r.a.createElement(je,{mweji:this.state.recents,mweji1:this.state.prixsept}))))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"General Comments"))),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},r.a.createElement("b",null,"September:")," ",this.state.comsep)),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},r.a.createElement("b",null,"October:")," ",this.state.comoct)),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},r.a.createElement("b",null,"November:")," ",this.state.comnov)),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},r.a.createElement("b",null,"December:")," ",this.state.comdec)))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"center",colSpan:"13"},r.a.createElement("b",null,"Forecasts - September 2020"))),this.state.prixsept.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Date")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour1,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour2,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour3,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour4,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour5,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour6,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour7,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour8,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour9,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Justifications")))}))),r.a.createElement("tbody",null,this.state.septembers.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.EV,"/MT")),r.a.createElement("td",{align:"center"},e.dateforecast),r.a.createElement("td",{align:"center"},100*e.price1,"%"),r.a.createElement("td",{align:"center"},100*e.price2,"%"),r.a.createElement("td",{align:"center"},100*e.price3,"%"),r.a.createElement("td",{align:"center"},100*e.price4,"%"),r.a.createElement("td",{align:"center"},100*e.price5,"%"),r.a.createElement("td",{align:"center"},100*e.price6,"%"),r.a.createElement("td",{align:"center"},100*e.price7,"%"),r.a.createElement("td",{align:"center"},100*e.price8,"%"),r.a.createElement("td",{align:"center"},100*e.price9,"%"),r.a.createElement("td",{align:"center"},e.specificcomments))})))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"center",colSpan:"13"},r.a.createElement("b",null,"Forecasts - October 2020"))),this.state.prixoct.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Date")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour1,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour2,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour3,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour4,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour5,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour6,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour7,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour8,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour9,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Justifications")))}))),r.a.createElement("tbody",null,this.state.octobers.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.EV,"/MT")),r.a.createElement("td",{align:"center"},e.dateforecast),r.a.createElement("td",{align:"center"},100*e.price1,"%"),r.a.createElement("td",{align:"center"},100*e.price2,"%"),r.a.createElement("td",{align:"center"},100*e.price3,"%"),r.a.createElement("td",{align:"center"},100*e.price4,"%"),r.a.createElement("td",{align:"center"},100*e.price5,"%"),r.a.createElement("td",{align:"center"},100*e.price6,"%"),r.a.createElement("td",{align:"center"},100*e.price7,"%"),r.a.createElement("td",{align:"center"},100*e.price8,"%"),r.a.createElement("td",{align:"center"},100*e.price9,"%"),r.a.createElement("td",{align:"center"},e.specificcomments))})))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"center",colSpan:"13"},r.a.createElement("b",null,"Forecasts - November 2020"))),this.state.prixnov.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Date")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour1,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour2,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour3,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour4,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour5,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour6,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour7,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour8,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour9,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Justifications")))}))),r.a.createElement("tbody",null,this.state.novembers.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.EV,"/MT")),r.a.createElement("td",{align:"center"},e.dateforecast),r.a.createElement("td",{align:"center"},100*e.price1,"%"),r.a.createElement("td",{align:"center"},100*e.price2,"%"),r.a.createElement("td",{align:"center"},100*e.price3,"%"),r.a.createElement("td",{align:"center"},100*e.price4,"%"),r.a.createElement("td",{align:"center"},100*e.price5,"%"),r.a.createElement("td",{align:"center"},100*e.price6,"%"),r.a.createElement("td",{align:"center"},100*e.price7,"%"),r.a.createElement("td",{align:"center"},100*e.price8,"%"),r.a.createElement("td",{align:"center"},100*e.price9,"%"),r.a.createElement("td",{align:"center"},e.specificcomments))})))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"center",colSpan:"13"},r.a.createElement("b",null,"Forecasts - December 2020"))),this.state.prixdec.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Date")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour1,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour2,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour3,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour4,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour5,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour6,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour7,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour8,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour9,"/MT")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Justifications")))}))),r.a.createElement("tbody",null,this.state.decembers.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.EV,"/MT")),r.a.createElement("td",{align:"center"},e.dateforecast),r.a.createElement("td",{align:"center"},100*e.price1,"%"),r.a.createElement("td",{align:"center"},100*e.price2,"%"),r.a.createElement("td",{align:"center"},100*e.price3,"%"),r.a.createElement("td",{align:"center"},100*e.price4,"%"),r.a.createElement("td",{align:"center"},100*e.price5,"%"),r.a.createElement("td",{align:"center"},100*e.price6,"%"),r.a.createElement("td",{align:"center"},100*e.price7,"%"),r.a.createElement("td",{align:"center"},100*e.price8,"%"),r.a.createElement("td",{align:"center"},100*e.price9,"%"),r.a.createElement("td",{align:"center"},e.specificcomments))})))))}}]),a}(n.Component),Ce=Object(d.b)((function(e){return{auth:e.auth}}),{})(xe),Me=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).convert_to_utc=function(e){var t,a="am";return 0==(t=((t=e.getHours())+24-2)%24)?t=12:t>12&&(t%=12,a="pm"),e.toUTCString().split(" ")[0]+e.toUTCString().split(" ")[1]+" "+e.toUTCString().split(" ")[2]+" "+e.toUTCString().split(" ")[3]+" "+e.toUTCString().split(" ")[4].split(":")[0]+":"+e.toUTCString().split(" ")[4].split(":")[1]+" "+a},n.state={commodity:"",mois:"",user:"",dateforecast:"",priceAvr:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",lamoyenne:"",lemedian:"",percent1:"",percent2:"",percent3:"",percent4:"",percent5:"",percent6:"",percent7:"",percent8:"",percent9:"",justif:"",generalcomments:"",specificcomments:"",comments:"",totpercent:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],median:"",lesprix:[],foreprices:[],lesmoyennes:[0,0,0,0,0,0,0,0,0],njina:[],donnees1:[8],olddata:[],alldata:[],lesmoyennesO:[0,0,0,0,0,0,0,0,0],lesmoyennesA:[0,0,0,0,0,0,0,0,0],lesmoyennesR:[0,0,0,0,0,0,0,0,0],maloba:[],EVR:0,EVO:0,EVA:0},window.onbeforeunload=function(){window.scrollTo(0,0)},n.CreeOldata=n.CreeOldata.bind(Object(F.a)(n)),n.trouveLeMedian=n.trouveLeMedian.bind(Object(F.a)(n)),n.recuperemoyenneT=n.recuperemoyenneT.bind(Object(F.a)(n)),n.trouveEV=n.trouveEV.bind(Object(F.a)(n)),n}return Object(N.a)(a,[{key:"CreeOldata",value:function(){var e=[0,0,0,0,0,0,0,0,0],t=[0,0,0,0,0,0,0,0,0],a=[0,0,0,0,0,0,0,0,0];var n,r=Object(be.a)(this.state.alldata),i=(Object(be.a)(this.state.alldata),Object(be.a)(this.state.lesprix)),s=(i.map((function(e){return-1!==(n=function(e,t,a){for(var n=0,r=e.length;n<r;n++)if(e[n][a]===t)return n;return-1}(r,e.id,"id"))&&r.splice(n,1),e.commodity})),this.state.alldata.length),c=(this.state.alldata.length,this.state.lesprix.length,this.state.lesprix.length);t[0]=this.state.lesmoyennesA[0].price1,t[1]=this.state.lesmoyennesA[0].price2,t[2]=this.state.lesmoyennesA[0].price3,t[3]=this.state.lesmoyennesA[0].price4,t[4]=this.state.lesmoyennesA[0].price5,t[5]=this.state.lesmoyennesA[0].price6,t[6]=this.state.lesmoyennesA[0].price7,t[7]=this.state.lesmoyennesA[0].price8,t[8]=this.state.lesmoyennesA[0].price9;s=r.length;e[0]=(t[0]*s-this.state.lesmoyennes[0]*c)/(s-c),e[1]=(t[1]*s-this.state.lesmoyennes[1]*c)/(s-c),e[2]=(t[2]*s-this.state.lesmoyennes[2]*c)/(s-c),e[3]=(t[3]*s-this.state.lesmoyennes[3]*c)/(s-c),e[4]=(t[4]*s-this.state.lesmoyennes[4]*c)/(s-c),e[5]=(t[5]*s-this.state.lesmoyennes[5]*c)/(s-c),e[6]=(t[6]*s-this.state.lesmoyennes[6]*c)/(s-c),e[7]=(t[8]*s-this.state.lesmoyennes[7]*c)/(s-c),e[8]=(t[8]*s-this.state.lesmoyennes[8]*c)/(s-c),this.setState({lesmoyennesO:e}),this.setState({olddata:[].concat(r)}),this.state.njina[0]=this.state.price1,this.state.njina[1]=this.state.price2,this.state.njina[2]=this.state.price3,this.state.njina[3]=this.state.price4,this.state.njina[4]=this.state.price5,this.state.njina[5]=this.state.price6,this.state.njina[6]=this.state.price7,this.state.njina[7]=this.state.price8,this.state.njina[8]=this.state.price9,a[0]=i.price1,a[1]=i.price2,a[2]=i.price3,a[3]=i.price4,a[4]=i.price5,a[5]=i.price6,a[6]=i.price7,a[7]=i.price8,a[8]=i.price9;var l=Object(b.a)({},this.state.donnees1);l=[{price:this.state.njina[0],recentdate:this.state.lesmoyennes[0],olddata:e[0],alldata:t[0]}],this.setState({lesmoyennesA:t}),this.setState({lesmoyennesO:e});for(var o=0;o<9;o++)l.push({price:this.state.njina[o],RecentData:100*this.state.lesmoyennes[o],OldData:e[o],AllData:t[o]});l.shift(),this.setState({donnees1:l}),i.shift(),this.setState({lesprix:i})}},{key:"fillPrices",value:function(e){var t=this;this.setState({price1:""}),this.setState({price2:""}),this.setState({price3:""}),this.setState({price4:""}),this.setState({price5:""}),this.setState({price6:""}),this.setState({price7:""}),this.setState({price8:""}),this.setState({price9:""});var a=[0,0,0,0,0,0,0,0,0];fetch("/api/beyi/commois/"+e+"&Gold").then((function(e){return e.json()})).then((function(e){e.map((function(e){return t.setState({price1:e.floorprice+0*e.constant1}),t.setState({price2:e.floorprice+1*e.constant1}),t.setState({price3:e.floorprice+2*e.constant1}),t.setState({price4:e.floorprice+3*e.constant1}),t.setState({price5:e.floorprice+4*e.constant1}),t.setState({price6:e.floorprice+5*e.constant1}),t.setState({price7:e.floorprice+6*e.constant1}),t.setState({price8:e.floorprice+7*e.constant1}),t.setState({price9:e.floorprice+8*e.constant1}),{id:e._id}}))})).catch((function(e){console.log(e)})),fetch("/api/menji/dernierda/"+e+"&Gold").then((function(e){return e.json()})).then((function(e){var n=e.map((function(e,n,r){var i=r.length;a[0]=a[0]+e.detail.price1,a[1]=a[1]+e.detail.price2,a[2]=a[2]+e.detail.price3,a[3]=a[3]+e.detail.price4,a[4]=a[4]+e.detail.price5,a[5]=a[5]+e.detail.price6,a[6]=a[6]+e.detail.price7,a[7]=a[7]+e.detail.price8,a[8]=a[8]+e.detail.price9;var s=[];return s[0]=a[0]/i,s[1]=a[1]/i,s[2]=a[2]/i,s[3]=a[3]/i,s[4]=a[4]/i,s[5]=a[5]/i,s[6]=a[6]/i,s[7]=a[7]/i,s[8]=a[8]/i,t.setState({lesmoyennes:[].concat(s)}),{id:e.detail._id,user:e._id.user,dateforecast:t.convert_to_utc(new Date(e.detail.dateforecast)),price1:e.detail.price1,price2:e.detail.price2,price3:e.detail.price3,price4:e.detail.price4,price5:e.detail.price5,price6:e.detail.price6,price7:e.detail.price7,price8:e.detail.price8,price9:e.detail.price9,lemedian:e.detail.lemedian,lamoyenne:e.detail.lamoyenne,specificcomments:e.detail.specificcomments}}));t.setState({lesprix:[{id:"",user:"",dateforecast:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",lemedian:"",lamoyenne:"",specificcomments:""}].concat(n)})})).catch((function(e){console.log(e)})),this.fillotherdata(e)}},{key:"fillotherdata",value:function(e){var t=this;this.recuperemoyenneT(e),fetch("/api/menji/all/"+e+"&Gold").then((function(e){return e.json()})).then((function(a){var n=a.map((function(e){return{id:e._id,user:e.user,dateforecast:t.convert_to_utc(new Date(e.dateforecast)),price1:e.price1,price2:e.price2,price3:e.price3,price4:e.price4,price5:e.price5,price6:e.price6,price7:e.price7,price8:e.price8,price9:e.price9,lemedian:e.lemedian,lamoyenne:e.lamoyenne,specificcomments:e.specificcomments}}));t.setState({alldata:[{id:"",user:"",dateforecast:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",lemedian:"",lamoyenne:"",specificcomments:""}].concat(n)}),t.CreeOldata(),t.fillgeneralcomments(e),t.setState({EVO:t.trouveEV(t.state.lesmoyennesO)}),t.setState({EVA:t.trouveEV(t.state.lesmoyennesA)})}))}},{key:"fillgeneralcomments",value:function(e){var t=this;fetch("/api/menji/olda1/"+e+"&Gold&8").then((function(e){return e.json()})).then((function(e){var a=e.map((function(e){return{id:e._id,generalcomments:e.generalcomments}}));t.setState({maloba:[{id:"",generalcomments:""}].concat(a)})}))}},{key:"recuperemoyenneT",value:function(e){var t=this;fetch("/api/menji/moyunmois/"+e+"&Gold").then((function(e){return e.json()})).then((function(e){var a=e.map((function(e){return{id:e._id,price1:e.avg1,price2:e.avg2,price3:e.avg3,price4:e.avg4,price5:e.avg5,price6:e.avg6,price7:e.avg7,price8:e.avg8,price9:e.avg9,lemedian:e.lemedian}}));t.setState({lesmoyennesA:a})})),this.CreeOldata()}},{key:"trouveLeMedian",value:function(e){var t,a=Math.max(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);return a===e[0]?t=this.state.price1:a===e[1]?t=this.state.price2:a===e[2]?t=this.state.price3:a===e[3]?t=this.state.price4:a===e[4]?t=this.state.price5:a===e[5]?t=this.state.price6:a===e[6]?t=this.state.price7:a===e[7]?t=this.state.price8:a===e[8]&&(t=this.state.price9),t}},{key:"trouveEV",value:function(e){var t=0;return"undefined"!==typeof e&&(t=this.state.price1*(e[0]/100)+this.state.price2*(e[1]/100)+this.state.price3*(e[2]/100)+this.state.price4*(e[3]/100)+this.state.price5*(e[4]/100)+this.state.price6*(e[5]/100)+this.state.price7*(e[6]/100)+this.state.price8*(e[7]/100)+this.state.price9*(e[8]/100)),t}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"12",align:"center",width:"100%"},r.a.createElement("b",null,"Gold Forecasts - ",this.state.mois))),r.a.createElement("tr",null,r.a.createElement("td",{width:"10%"},r.a.createElement("select",{id:"mois",name:"month",value:this.state.mois,onChange:function(t){e.setState({mois:t.target.value,validationError:""===t.target.value?"Select a month":""}),e.fillPrices(t.target.value)}},r.a.createElement("option",{value:""},"Select a month"),this.state.months.slice((new Date).getMonth(),12).map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e+" "+(new Date).getFullYear())})))),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"No. Forecasts")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price1,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price2,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price3,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price4,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price5,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price6,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price7,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price8,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price9,"/oz"))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Most Recent Forecasts")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",Math.round(100*this.trouveEV(this.state.lesmoyennes)),"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,this.state.lesprix.length)),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[0]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[1]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[2]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[3]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[4]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[5]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[6]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[7]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[8]),"%")),r.a.createElement("tr",null,r.a.createElement("td",{width:"10%",align:"center"},r.a.createElement("b",null,"All Forecasts")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",Math.round(this.state.EVA),"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,this.state.alldata.length)),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[0]),"%"),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[1]),"%"),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[2]),"%"),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[3]),"%"),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[4]),"%"),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[5]),"%"),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[6]),"%"),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[7]),"%"),r.a.createElement("td",{align:"center"},Math.round(this.state.lesmoyennesA[8]),"%")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"12",align:"center"},r.a.createElement("div",{style:{width:"80%",height:300}},r.a.createElement(W.e,null,r.a.createElement(W.b,{layout:"vertical",width:500,height:300,data:this.state.donnees1,margin:{top:5,right:5,left:5,bottom:5}},r.a.createElement(W.c,{strokeDasharray:"3 3"}),r.a.createElement(W.g,{type:"number"}),r.a.createElement(W.h,{dataKey:"price",type:"category"}),r.a.createElement(W.f,null),r.a.createElement(W.d,null),r.a.createElement(W.a,{dataKey:"RecentData",fill:"#00B050"}),r.a.createElement(W.a,{dataKey:"AllData",fill:"#FFC000"})))))),r.a.createElement("tr",null,r.a.createElement("td",{width:"100%",align:"center",rowSpan:"11",colSpan:"12"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Most Recent General Comments"))),this.state.maloba.map((function(e){if(""!==e.id)return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"left"},e.generalcomments))})))))))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"13",align:"center",width:"100%"},r.a.createElement("b",null,"Most Recent Gold Forecasts - ",this.state.mois))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Participant")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Date")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price1,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price2,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price3,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price4,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price5,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price6,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price7,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price8,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price9,"/oz")),r.a.createElement("td",{align:"left",width:"35%"},r.a.createElement("b",null,"Justifications"))),this.state.lesprix.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},e.user),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",Math.round(e.lamoyenne),"/oz")),r.a.createElement("td",{align:"center"},e.dateforecast),r.a.createElement("td",{align:"center"},100*e.price1,"%"),r.a.createElement("td",{align:"center"},100*e.price2,"%"),r.a.createElement("td",{align:"center"},100*e.price3,"%"),r.a.createElement("td",{align:"center"},100*e.price4,"%"),r.a.createElement("td",{align:"center"},100*e.price5,"%"),r.a.createElement("td",{align:"center"},100*e.price6,"%"),r.a.createElement("td",{align:"center"},100*e.price7,"%"),r.a.createElement("td",{align:"center"},100*e.price8,"%"),r.a.createElement("td",{align:"center"},100*e.price9,"%"),r.a.createElement("td",{align:"center"},e.specificcomments))})))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"13",align:"center",width:"100%"},r.a.createElement("b",null,"Older Gold Forecasts - ",this.state.mois))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Participant")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Date")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price1,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price2,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price3,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price4,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price5,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price6,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price7,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price8,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price9,"/oz")),r.a.createElement("td",{align:"left",width:"35%"},r.a.createElement("b",null,"Justifications"))),this.state.olddata.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},e.user),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",Math.round(e.lamoyenne),"/oz")),r.a.createElement("td",{align:"center"},e.dateforecast),r.a.createElement("td",{align:"center"},Math.round(100*e.price1),"%"),r.a.createElement("td",{align:"center"},Math.round(100*e.price2),"%"),r.a.createElement("td",{align:"center"},Math.round(100*e.price3),"%"),r.a.createElement("td",{align:"center"},Math.round(100*e.price4),"%"),r.a.createElement("td",{align:"center"},Math.round(100*e.price5),"%"),r.a.createElement("td",{align:"center"},Math.round(100*e.price6),"%"),r.a.createElement("td",{align:"center"},Math.round(100*e.price7),"%"),r.a.createElement("td",{align:"center"},Math.round(100*e.price8),"%"),r.a.createElement("td",{align:"center"},Math.round(100*e.price9),"%"),r.a.createElement("td",{align:"center"},e.specificcomments))}))))))}}]),a}(n.PureComponent),ke=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).convert_to_utc=function(e){var t,a="am";return 0==(t=((t=e.getHours())+24-2)%24)?t=12:t>12&&(t%=12,a="pm"),e.toUTCString().split(" ")[0]+e.toUTCString().split(" ")[1]+" "+e.toUTCString().split(" ")[2]+" "+e.toUTCString().split(" ")[3]+" "+e.toUTCString().split(" ")[4].split(":")[0]+":"+e.toUTCString().split(" ")[4].split(":")[1]+" "+a},n.state={commodity:"",mois:"",user:"",dateforecast:"",priceAvr:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",lamoyenne:"",lemedian:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],justif:"",generalcomments:"",specificcomments:"",comments:"",totpercent:"",median:"",lesprix:[],foreprices:[],lesmoyennes:[0,0,0,0,0,0,0,0,0],njina:[],donnees1:[8],olddata:[],maloba:[]},window.onbeforeunload=function(){window.scrollTo(0,0)},n.CreeOldata=n.CreeOldata.bind(Object(F.a)(n)),n.trouveLeMedian=n.trouveLeMedian.bind(Object(F.a)(n)),n}return Object(N.a)(a,[{key:"CreeOldata",value:function(){Object(be.a)(this.state.lesprix);this.state.njina[0]=this.state.price1,this.state.njina[1]=this.state.price2,this.state.njina[2]=this.state.price3,this.state.njina[3]=this.state.price4,this.state.njina[4]=this.state.price5,this.state.njina[5]=this.state.price6,this.state.njina[6]=this.state.price7,this.state.njina[7]=this.state.price8,this.state.njina[8]=this.state.price9;var e=Object(b.a)({},this.state.donnees1);e=[{price:0,recentdate:100*this.state.lesmoyennes[0]}];for(var t=0;t<9;t++)e.push({price:this.state.njina[t],RecentData:100*this.state.lesmoyennes[t]});e.shift(),this.setState({donnees1:e})}},{key:"fillPrices",value:function(e){var t=this;this.setState({price1:""}),this.setState({price2:""}),this.setState({price3:""}),this.setState({price4:""}),this.setState({price5:""}),this.setState({price6:""}),this.setState({price7:""}),this.setState({price8:""}),this.setState({price9:""});var a=[0,0,0,0,0,0,0,0,0];fetch("/api/beyi/commois/"+e+"&Gold").then((function(e){return e.json()})).then((function(e){e.map((function(e){return t.setState({price1:e.floorprice+0*e.constant1}),t.setState({price2:e.floorprice+1*e.constant1}),t.setState({price3:e.floorprice+2*e.constant1}),t.setState({price4:e.floorprice+3*e.constant1}),t.setState({price5:e.floorprice+4*e.constant1}),t.setState({price6:e.floorprice+5*e.constant1}),t.setState({price7:e.floorprice+6*e.constant1}),t.setState({price8:e.floorprice+7*e.constant1}),t.setState({price9:e.floorprice+8*e.constant1}),{id:e._id}}))})).catch((function(e){console.log(e)})),fetch("/api/menji/dernierda/"+e+"&Gold").then((function(e){return e.json()})).then((function(e){var n=e.map((function(e,n,r){var i=r.length;a[0]=a[0]+e.detail.price1,a[1]=a[1]+e.detail.price2,a[2]=a[2]+e.detail.price3,a[3]=a[3]+e.detail.price4,a[4]=a[4]+e.detail.price5,a[5]=a[5]+e.detail.price6,a[6]=a[6]+e.detail.price7,a[7]=a[7]+e.detail.price8,a[8]=a[8]+e.detail.price9;var s=[];return s[0]=a[0]/i,s[1]=a[1]/i,s[2]=a[2]/i,s[3]=a[3]/i,s[4]=a[4]/i,s[5]=a[5]/i,s[6]=a[6]/i,s[7]=a[7]/i,s[8]=a[8]/i,t.setState({lesmoyennes:[].concat(s)}),{id:e.detail._id,user:e._id.user,dateforecast:t.convert_to_utc(new Date(e.detail.dateforecast)),price1:e.detail.price1,price2:e.detail.price2,price3:e.detail.price3,price4:e.detail.price4,price5:e.detail.price5,price6:e.detail.price6,price7:e.detail.price7,price8:e.detail.price8,price9:e.detail.price9,lemedian:e.detail.lemedian,lamoyenne:e.detail.lamoyenne,specificcomments:e.detail.specificcomments}}));t.setState({lesprix:[{id:"",user:"",dateforecast:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",lemedian:"",lamoyenne:"",specificcomments:""}].concat(n)});var r=Object(be.a)(t.state.lesprix);r.shift(),t.setState({lesprix:r})})).catch((function(e){console.log(e)})),this.fillotherdata(e)}},{key:"fillotherdata",value:function(e){var t=this;fetch("/api/menji/all/"+e+"&Gold").then((function(e){return e.json()})).then((function(a){var n=a.map((function(e){return{id:e._id,user:e.user,dateforecast:t.convert_to_utc(new Date(e.dateforecast)),price1:e.price1,price2:e.price2,price3:e.price3,price4:e.price4,price5:e.price5,price6:e.price6,price7:e.price7,price8:e.price8,price9:e.price9,lemedian:e.lemedian,lamoyenne:e.lamoyenne,specificcomments:e.specificcomments}}));t.setState({maloba:[{id:"",user:"",dateforecast:"",price1:"",price2:"",price3:"",price4:"",price5:"",price6:"",price7:"",price8:"",price9:"",lemedian:"",lamoyenne:"",specificcomments:""}].concat(n)}),t.CreeOldata(),t.fillgeneralcomments(e)}))}},{key:"fillgeneralcomments",value:function(e){var t=this;fetch("/api/menji/olda1/"+e+"&Gold&8").then((function(e){return e.json()})).then((function(e){var a=e.map((function(e){return{id:e._id,generalcomments:e.generalcomments}}));t.setState({maloba:[{id:"",generalcomments:""}].concat(a)})}))}},{key:"trouveLeMedian",value:function(){var e,t=Math.max(this.state.lesmoyennes[0],this.state.lesmoyennes[1],this.state.lesmoyennes[2],this.state.lesmoyennes[3],this.state.lesmoyennes[4],this.state.lesmoyennes[5],this.state.lesmoyennes[6],this.state.lesmoyennes[7],this.state.lesmoyennes[8]);return t===this.state.lesmoyennes[0]?e=this.state.price1:t===this.state.lesmoyennes[1]?e=this.state.price2:t===this.state.lesmoyennes[2]?e=this.state.price3:t===this.state.lesmoyennes[3]?e=this.state.price4:t===this.state.lesmoyennes[4]?e=this.state.price5:t===this.state.lesmoyennes[5]?e=this.state.price6:t===this.state.lesmoyennes[6]?e=this.state.price7:t===this.state.lesmoyennes[7]?e=this.state.price8:t===this.state.lesmoyennes[8]&&(e=this.state.price9),e}},{key:"calculeLaMoyenne",value:function(){return this.state.price1*this.state.lesmoyennes[0]+this.state.price2*this.state.lesmoyennes[1]+this.state.price3*this.state.lesmoyennes[2]+this.state.price4*this.state.lesmoyennes[3]+this.state.price5*this.state.lesmoyennes[4]+this.state.price6*this.state.lesmoyennes[5]+this.state.price7*this.state.lesmoyennes[6]+this.state.price8*this.state.lesmoyennes[7]+this.state.price9*this.state.lesmoyennes[8]}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement("table",{border:"1"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"14",align:"center",width:"100%"},r.a.createElement("b",null,"Most Recent Gold Forecasts - ",this.state.mois))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("select",{id:"mois",name:"month",value:this.state.mois,onChange:function(t){e.setState({mois:t.target.value,validationError:""===t.target.value?"Select a month":""}),e.fillPrices(t.target.value)}},r.a.createElement("option",{value:""},"Select a month"),this.state.months.slice((new Date).getMonth(),12).map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e+" "+(new Date).getFullYear())})))),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"No. Forecasts")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price1,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price2,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price3,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price4,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price5,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price6,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price7,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price8,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price9,"/oz"))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Forecasts")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",Math.round(this.calculeLaMoyenne()),"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,this.state.lesprix.length)),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[0]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[1]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[2]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[3]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[4]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[5]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[6]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[7]),"%"),r.a.createElement("td",{align:"center"},Math.round(100*this.state.lesmoyennes[8]),"%")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"12"}," ",r.a.createElement("div",{style:{width:"80%",height:300}},r.a.createElement(W.e,null,r.a.createElement(W.b,{layout:"vertical",width:500,height:300,data:this.state.donnees1,margin:{top:5,right:5,left:5,bottom:5}},r.a.createElement(W.c,{strokeDasharray:"3 3"}),r.a.createElement(W.g,{type:"number"}),r.a.createElement(W.h,{dataKey:"price",type:"category"}),r.a.createElement(W.f,null),r.a.createElement(W.d,null),r.a.createElement(W.a,{dataKey:"RecentData",fill:"#CC9900"})))))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"12",rowSpan:"12"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Most Recent General Comments"))),this.state.maloba.map((function(e){if(""!==e.id)return r.a.createElement("tr",{align:"left",key:e.id},r.a.createElement("td",null,e.generalcomments))})))))))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"14",align:"center",width:"100%"},r.a.createElement("b",null,"Most Recent Gold Forecasts - ",this.state.mois))),r.a.createElement("tr",{align:"center"},r.a.createElement("td",null,r.a.createElement("b",null,"Participant")),r.a.createElement("td",null,r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",null,r.a.createElement("b",null,"Date")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price1,"/oz")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price2,"/oz")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price3,"/oz")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price4,"/oz")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price5,"/oz")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price6,"/oz")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price7,"/oz")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price8,"/oz")),r.a.createElement("td",null,r.a.createElement("b",null,"$",this.state.price9,"/oz")),r.a.createElement("td",{align:"center",width:"40%"},r.a.createElement("b",null,"Justifications"))),this.state.lesprix.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},e.user),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",Math.round(e.lamoyenne),"/oz")),r.a.createElement("td",{align:"center"},e.dateforecast," "),r.a.createElement("td",{align:"center"},100*e.price1,"%"),r.a.createElement("td",{align:"center"},100*e.price2,"%"),r.a.createElement("td",{align:"center"},100*e.price3,"%"),r.a.createElement("td",{align:"center"},100*e.price4,"%"),r.a.createElement("td",{align:"center"},100*e.price5,"%"),r.a.createElement("td",{align:"center"},100*e.price6,"%"),r.a.createElement("td",{align:"center"},100*e.price7,"%"),r.a.createElement("td",{align:"center"},100*e.price8,"%"),r.a.createElement("td",{align:"center"},100*e.price9,"%"),r.a.createElement("td",{align:"center"},e.specificcomments))}))))))}}]),a}(n.PureComponent),Ne=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={moisprix:[],moispour:[],price1:[],price2:[],price3:[],price4:[],price5:[],price6:[],price7:[],price8:[],price9:[],avg1:[],avg2:[],avg3:[],avg4:[],avg5:[],avg6:[],avg7:[],avg8:[],avg9:[],avmedian:[],ev:[],augprix:0,septprix:0,octprix:0,novprix:0,augpour:0,septpour:0,octpour:0,novpour:0,decpour:0,augnb:0,septnb:0,octnb:0,novnb:0,decnb:0,EVsep:0,EVoct:0,EVnov:0,EVdec:0,donnees1:[],lesprix:[],lesCast:[],maloba:[]},window.onbeforeunload=function(){window.scrollTo(0,0)},n.fillgeneralcomments=n.fillgeneralcomments.bind(Object(F.a)(n)),n.renderTableData=n.renderTableData.bind(Object(F.a)(n)),n}return Object(N.a)(a,[{key:"componentWillMount",value:function(){this.faisQlq(),this.graphi()}},{key:"fillgeneralcomments",value:function(e){var t=this;fetch("/api/menji/olda1/"+e+"&Gold&8").then((function(e){return e.json()})).then((function(e){var a=e.map((function(e){return{id:e._id,mois:e.mois,generalcomments:e.generalcomments}}));t.setState({maloba:[{id:"",generalcomments:""}].concat(a)})}))}},{key:"faisQlq",value:function(){var e=this;fetch("/api/beyi/comm/Gold").then((function(e){return e.json()})).then((function(t){var a=0,n=Object(be.a)(e.state.moisprix),r=Object(be.a)(e.state.price1),i=Object(be.a)(e.state.price2),s=Object(be.a)(e.state.price3),c=Object(be.a)(e.state.price4),l=Object(be.a)(e.state.price5),o=Object(be.a)(e.state.price6),p=Object(be.a)(e.state.price7),m=Object(be.a)(e.state.price8),u=Object(be.a)(e.state.price9);t.map((function(t){return n[a+1]=t.month,r[a+1]=t.floorprice+0*t.constant1,i[a+1]=t.floorprice+1*t.constant1,s[a+1]=t.floorprice+2*t.constant1,c[a+1]=t.floorprice+3*t.constant1,l[a+1]=t.floorprice+4*t.constant1,o[a+1]=t.floorprice+5*t.constant1,p[a+1]=t.floorprice+6*t.constant1,m[a+1]=t.floorprice+7*t.constant1,u[a+1]=t.floorprice+8*t.constant1,"September 2020"===n[a+1]?e.setState({septprix:a+1}):"October 2020"===n[a+1]?e.setState({octprix:a+1}):"November 2020"===n[a+1]?e.setState({novprix:a+1}):"December 2020"===n[a+1]&&e.setState({decprix:a+1}),a++,{id:t._id}}));e.setState({moisprix:n}),e.setState({price1:r}),e.setState({price2:i}),e.setState({price3:s}),e.setState({price4:c}),e.setState({price5:l}),e.setState({price6:o}),e.setState({price7:p}),e.setState({price8:m}),e.setState({price9:u}),e.graphi()})).catch((function(e){console.log(e)})),fetch("/api/menji/moymois/Gold").then((function(e){return e.json()})).then((function(t){Object(be.a)(e.state.lesCast);var a=0,n=Object(be.a)(e.state.moispour),r=Object(be.a)(e.state.avg1),i=Object(be.a)(e.state.avg2),s=Object(be.a)(e.state.avg3),c=Object(be.a)(e.state.avg4),l=Object(be.a)(e.state.avg5),o=Object(be.a)(e.state.avg6),p=Object(be.a)(e.state.avg7),m=Object(be.a)(e.state.avg8),u=Object(be.a)(e.state.avg9),h=Object(be.a)(e.state.avmedian);Object(be.a)(e.state.ev);a=0;t.map((function(t){return n[a+1]=t._id,r[a+1]=Math.round(t.avg1),i[a+1]=Math.round(t.avg2),s[a+1]=Math.round(t.avg3),c[a+1]=Math.round(t.avg4),l[a+1]=Math.round(t.avg5),o[a+1]=Math.round(t.avg6),p[a+1]=Math.round(t.avg7),m[a+1]=Math.round(t.avg8),u[a+1]=Math.round(t.avg9),h[a+1]=Math.round(t.median),"September 2020"===n[a+1]?e.setState({septpour:a+1}):"October 2020"===n[a+1]?e.setState({octpour:a+1}):"November 2020"===n[a+1]?e.setState({novpour:a+1}):"December 2020"===n[a+1]&&e.setState({decpour:a+1}),a++,{mois:t._id}}));e.setState({moispour:n}),e.setState({avg1:r}),e.setState({avg2:i}),e.setState({avg3:s}),e.setState({avg4:c}),e.setState({avg5:l}),e.setState({avg6:o}),e.setState({avg7:p}),e.setState({avg8:m}),e.setState({avg9:u}),e.setState({avmedian:h}),e.graphi()})).catch((function(e){console.log(e)})),fetch("/api/menji/comptemois/Gold").then((function(e){return e.json()})).then((function(t){t.map((function(t){return"September 2020"===t._id?e.setState({septnb:t.compte}):"October 2020"===t._id?e.setState({octnb:t.compte}):"November 2020"===t._id?e.setState({novnb:t.compte}):"December 2020"===t._id&&e.setState({decnb:t.compte}),{mois:t._id}}))})).catch((function(e){console.log(e)})),this.graphi(),this.trouveev(),this.fillgeneralcomments("September 2020")}},{key:"graphi",value:function(){var e=[];e.push({price:this.state.price1[this.state.septpour],Sep20:this.state.avg1[this.state.septpour],Oct20:this.state.avg1[this.state.octpour],Nov20:this.state.avg1[this.state.novpour],Dec20:this.state.avg1[this.state.decpour]}),e.push({price:this.state.price2[this.state.septpour],Sep20:this.state.avg2[this.state.septpour],Oct20:this.state.avg2[this.state.octpour],Nov20:this.state.avg2[this.state.novpour],Dec20:this.state.avg2[this.state.decpour]}),e.push({price:this.state.price3[this.state.septpour],Sep20:this.state.avg3[this.state.septpour],Oct20:this.state.avg3[this.state.octpour],Nov20:this.state.avg3[this.state.novpour],Dec20:this.state.avg3[this.state.decpour]}),e.push({price:this.state.price4[this.state.septpour],Sep20:this.state.avg4[this.state.septpour],Oct20:this.state.avg4[this.state.octpour],Nov20:this.state.avg4[this.state.novpour],Dec20:this.state.avg4[this.state.decpour]}),e.push({price:this.state.price5[this.state.septpour],Sep20:this.state.avg5[this.state.septpour],Oct20:this.state.avg5[this.state.octpour],Nov20:this.state.avg5[this.state.novpour],Dec20:this.state.avg5[this.state.decpour]}),e.push({price:this.state.price6[this.state.septpour],Sep20:this.state.avg6[this.state.septpour],Oct20:this.state.avg6[this.state.octpour],Nov20:this.state.avg6[this.state.novpour],Dec20:this.state.avg6[this.state.decpour]}),e.push({price:this.state.price7[this.state.septpour],Sep20:this.state.avg7[this.state.septpour],Oct20:this.state.avg7[this.state.octpour],Nov20:this.state.avg7[this.state.novpour],Dec20:this.state.avg7[this.state.decpour]}),e.push({price:this.state.price8[this.state.septpour],Sep20:this.state.avg8[this.state.septpour],Oct20:this.state.avg8[this.state.octpour],Nov20:this.state.avg8[this.state.novpour],Dec20:this.state.avg8[this.state.decpour]}),e.push({price:this.state.price9[this.state.septpour],Sep20:this.state.avg9[this.state.septpour],Oct20:this.state.avg9[this.state.octpour],Nov20:this.state.avg9[this.state.novpour],Dec20:this.state.avg9[this.state.decpour]}),this.setState({donnees1:e});var t=Math.round(this.state.avg1[this.state.septpour])*this.state.price1[this.state.septprix]+Math.round(this.state.avg2[this.state.septpour])*this.state.price2[this.state.septprix]+Math.round(this.state.avg3[this.state.septpour])*this.state.price3[this.state.septprix]+Math.round(this.state.avg4[this.state.septpour])*this.state.price4[this.state.septprix]+Math.round(this.state.avg5[this.state.septpour])*this.state.price5[this.state.septprix]+Math.round(this.state.avg6[this.state.septpour])*this.state.price6[this.state.septprix]+Math.round(this.state.avg7[this.state.septpour])*this.state.price7[this.state.septprix]+Math.round(this.state.avg8[this.state.septpour])*this.state.price7[this.state.septprix]+Math.round(this.state.avg9[this.state.septpour])*this.state.price8[this.state.septprix];this.setState({EVSEP:t});var a=Math.round(t/100);this.setState({EVsep:a}),this.trouveev()}},{key:"trouveev",value:function(){var e=Object(be.a)(this.state.ev),t=Math.max(this.state.avg1[this.state.septpour],this.state.avg2[this.state.septpour],this.state.avg3[this.state.septpour],this.state.avg4[this.state.septpour],this.state.avg5[this.state.septpour],this.state.avg6[this.state.septpour],this.state.avg7[this.state.septpour],this.state.avg8[this.state.septpour],this.state.avg9[this.state.septpour]);console.log(this.state.septpour),this.state.avg1[this.state.septpour]===t?(e[this.state.septpour]=this.state.price1[this.state.septprix],this.setState({ev:e})):this.state.avg2[this.state.septpour]===t?(e[this.state.septpour]=this.state.price2[this.state.septprix],this.setState({ev:e})):this.state.avg3[this.state.septpour]===t?(e[this.state.septpour]=this.state.price3[this.state.septprix],this.setState({ev:e})):this.state.avg4[this.state.septpour]===t?(e[this.state.septpour]=this.state.price4[this.state.septprix],this.setState({ev:e})):this.state.avg5[this.state.septpour]===t?(e[this.state.septpour]=this.state.price5[this.state.septprix],this.setState({ev:e})):this.state.avg6[this.state.septpour]===t?(e[this.state.septpour]=this.state.price6[this.state.septprix],this.setState({ev:e})):this.state.avg7[this.state.septpour]===t?(e[this.state.septpour]=this.state.price7[this.state.septprix],this.setState({ev:e})):this.state.avg8[this.state.septpour]===t?(e[this.state.septpour]=this.state.price8[this.state.septprix],this.setState({ev:e})):this.state.avg9[this.state.septpour]===t&&(e[this.state.septpour]=this.state.price9[this.state.septprix],this.setState({ev:e}));var a=Math.round(this.state.avg1[this.state.octpour])*this.state.price1[this.state.septprix]+Math.round(this.state.avg2[this.state.octpour])*this.state.price2[this.state.septprix]+Math.round(this.state.avg3[this.state.octpour])*this.state.price3[this.state.septprix]+Math.round(this.state.avg4[this.state.octpour])*this.state.price4[this.state.septprix]+Math.round(this.state.avg5[this.state.octpour])*this.state.price5[this.state.septprix]+Math.round(this.state.avg6[this.state.octpour])*this.state.price6[this.state.septprix]+Math.round(this.state.avg7[this.state.octpour])*this.state.price7[this.state.septprix]+Math.round(this.state.avg8[this.state.octpour])*this.state.price7[this.state.septprix]+Math.round(this.state.avg9[this.state.octpour])*this.state.price8[this.state.septprix];this.setState({EVOCT:a});var n=Math.round(a/100);this.setState({EVoct:n});var r=Math.max(this.state.avg1[this.state.octpour],this.state.avg2[this.state.octpour],this.state.avg3[this.state.octpour],this.state.avg4[this.state.octpour],this.state.avg5[this.state.octpour],this.state.avg6[this.state.octpour],this.state.avg7[this.state.octpour],this.state.avg8[this.state.octpour],this.state.avg9[this.state.octpour]);this.state.avg1[this.state.octpour]===r?(e[this.state.octpour]=this.state.price1[this.state.octprix],this.setState({ev:e})):this.state.avg2[this.state.octpour]===r?(e[this.state.octpour]=this.state.price2[this.state.octprix],this.setState({ev:e})):this.state.avg3[this.state.octpour]===r?(e[this.state.octpour]=this.state.price3[this.state.octprix],this.setState({ev:e})):this.state.avg4[this.state.octpour]===r?(e[this.state.octpour]=this.state.price4[this.state.octprix],this.setState({ev:e})):this.state.avg5[this.state.octpour]===r?(e[this.state.octpour]=this.state.price5[this.state.octprix],this.setState({ev:e})):this.state.avg6[this.state.octpour]===r?(e[this.state.octpour]=this.state.price6[this.state.octprix],this.setState({ev:e})):this.state.avg7[this.state.octpour]===r?(e[this.state.octpour]=this.state.price7[this.state.octprix],this.setState({ev:e})):this.state.avg8[this.state.octpour]===r?(e[this.state.octpour]=this.state.price8[this.state.octprix],this.setState({ev:e})):this.state.avg9[this.state.octpour]===r&&(e[this.state.octpour]=this.state.price9[this.state.octprix],this.setState({ev:e}));var i=Math.round(this.state.avg1[this.state.novpour])*this.state.price1[this.state.septprix]+Math.round(this.state.avg2[this.state.novpour])*this.state.price2[this.state.septprix]+Math.round(this.state.avg3[this.state.novpour])*this.state.price3[this.state.septprix]+Math.round(this.state.avg4[this.state.novpour])*this.state.price4[this.state.septprix]+Math.round(this.state.avg5[this.state.novpour])*this.state.price5[this.state.septprix]+Math.round(this.state.avg6[this.state.novpour])*this.state.price6[this.state.septprix]+Math.round(this.state.avg7[this.state.novpour])*this.state.price7[this.state.septprix]+Math.round(this.state.avg8[this.state.novpour])*this.state.price7[this.state.septprix]+Math.round(this.state.avg9[this.state.novpour])*this.state.price8[this.state.septprix];this.setState({EVNOV:i});var s=Math.round(i/100);this.setState({EVnov:s});var c=Math.max(this.state.avg1[this.state.novpour],this.state.avg2[this.state.novpour],this.state.avg3[this.state.novpour],this.state.avg4[this.state.novpour],this.state.avg5[this.state.novpour],this.state.avg6[this.state.novpour],this.state.avg7[this.state.novpour],this.state.avg8[this.state.novpour],this.state.avg9[this.state.novpour]);this.state.avg1[this.state.novpour]===c?(e[this.state.novpour]=this.state.price1[this.state.novprix],this.setState({ev:e})):this.state.avg2[this.state.novpour]===c?(e[this.state.novpour]=this.state.price2[this.state.novprix],this.setState({ev:e})):this.state.avg3[this.state.novpour]===c?(e[this.state.novpour]=this.state.price3[this.state.novprix],this.setState({ev:e})):this.state.avg4[this.state.novpour]===c?(e[this.state.novpour]=this.state.price4[this.state.novprix],this.setState({ev:e})):this.state.avg5[this.state.novpour]===c?(e[this.state.novpour]=this.state.price5[this.state.novprix],this.setState({ev:e})):this.state.avg6[this.state.novpour]===c?(e[this.state.novpour]=this.state.price6[this.state.novprix],this.setState({ev:e})):this.state.avg7[this.state.novpour]===c?(e[this.state.novpour]=this.state.price7[this.state.novprix],this.setState({ev:e})):this.state.avg8[this.state.novpour]===c?(e[this.state.novpour]=this.state.price8[this.state.novprix],this.setState({ev:e})):this.state.avg9[this.state.novpour]===c&&(e[this.state.novpour]=this.state.price9[this.state.novprix],this.setState({ev:e}));var l=Math.round(this.state.avg1[this.state.decpour])*this.state.price1[this.state.septprix]+Math.round(this.state.avg2[this.state.decpour])*this.state.price2[this.state.septprix]+Math.round(this.state.avg3[this.state.decpour])*this.state.price3[this.state.septprix]+Math.round(this.state.avg4[this.state.decpour])*this.state.price4[this.state.septprix]+Math.round(this.state.avg5[this.state.decpour])*this.state.price5[this.state.septprix]+Math.round(this.state.avg6[this.state.decpour])*this.state.price6[this.state.septprix]+Math.round(this.state.avg7[this.state.decpour])*this.state.price7[this.state.septprix]+Math.round(this.state.avg8[this.state.decpour])*this.state.price7[this.state.septprix]+Math.round(this.state.avg9[this.state.decpour])*this.state.price8[this.state.septprix];this.setState({EVDEC:l});var o=Math.round(l/100);this.setState({EVdec:o});var p=Math.max(this.state.avg1[this.state.decpour],this.state.avg2[this.state.decpour],this.state.avg3[this.state.decpour],this.state.avg4[this.state.decpour],this.state.avg5[this.state.decpour],this.state.avg6[this.state.decpour],this.state.avg7[this.state.decpour],this.state.avg8[this.state.decpour],this.state.avg9[this.state.decpour]);this.state.avg1[this.state.decpour]===p?(e[this.state.decpour]=this.state.price1[this.state.decprix],this.setState({ev:e})):this.state.avg2[this.state.decpour]===p?(e[this.state.decpour]=this.state.price2[this.state.decprix],this.setState({ev:e})):this.state.avg3[this.state.decpour]===p?(e[this.state.decpour]=this.state.price3[this.state.decprix],this.setState({ev:e})):this.state.avg4[this.state.decpour]===p?(e[this.state.decpour]=this.state.price4[this.state.decprix],this.setState({ev:e})):this.state.avg5[this.state.decpour]===p?(e[this.state.decpour]=this.state.price5[this.state.decprix],this.setState({ev:e})):this.state.avg6[this.state.decpour]===p?(e[this.state.decpour]=this.state.price6[this.state.decprix],this.setState({ev:e})):this.state.avg7[this.state.decpour]===p?(e[this.state.decpour]=this.state.price7[this.state.decprix],this.setState({ev:e})):this.state.avg8[this.state.decpour]===p?(e[this.state.decpour]=this.state.price8[this.state.decprix],this.setState({ev:e})):this.state.avg9[this.state.decpour]===p&&(e[this.state.decpour]=this.state.price9[this.state.decprix],this.setState({ev:e}))}},{key:"renderTableData",value:function(){return this.state.lesprix.map((function(e,t){var a=e.mois,n=e.price1,i=e.price2,s=e.price3,c=e.price4,l=e.price5,o=e.price6,p=e.price7,m=e.price8,u=e.price9;return r.a.createElement("tr",null,r.a.createElement("td",{rowSpan:"2",align:"center",width:"10%"},a),r.a.createElement("td",null,"EV"),r.a.createElement("td",null,"No."),r.a.createElement("td",null,n),r.a.createElement("td",null,i),r.a.createElement("td",null,s),r.a.createElement("td",null,c),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,p),r.a.createElement("td",null,m),r.a.createElement("td",null,u))}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"12",align:"center",width:"100%"},r.a.createElement("b",null,"Aggregation of All Gold Forecasts"))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Month")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"No. Forecasts")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price1[this.state.septprix],"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price2[this.state.septprix],"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price3[this.state.septprix],"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price4[this.state.septprix],"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price5[this.state.septprix],"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price6[this.state.septprix],"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price7[this.state.septprix],"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price8[this.state.septprix],"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.price9[this.state.septprix],"/oz"))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"September 2020")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",[this.state.EVsep],"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,this.state.septnb)),r.a.createElement("td",{align:"center"},this.state.avg1[this.state.septpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg2[this.state.septpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg3[this.state.septpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg4[this.state.septpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg5[this.state.septpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg6[this.state.septpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg7[this.state.septpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg8[this.state.septpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg9[this.state.septpour],"%")),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"October 2020")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",[this.state.EVoct],"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,this.state.octnb)),r.a.createElement("td",{align:"center"},this.state.avg1[this.state.octpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg2[this.state.octpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg3[this.state.octpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg4[this.state.octpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg5[this.state.octpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg6[this.state.octpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg7[this.state.octpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg8[this.state.octpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg9[this.state.octpour],"%")),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"November 2020")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",[this.state.EVnov],"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,this.state.novnb)),r.a.createElement("td",{align:"center"},this.state.avg1[this.state.novpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg2[this.state.novpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg3[this.state.novpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg4[this.state.novpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg5[this.state.novpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg6[this.state.novpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg7[this.state.novpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg8[this.state.novpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg9[this.state.novpour],"%")),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"December 2020")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",[this.state.EVdec],"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,this.state.decnb)),r.a.createElement("td",{align:"center"},this.state.avg1[this.state.decpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg2[this.state.decpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg3[this.state.decpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg4[this.state.decpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg5[this.state.decpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg6[this.state.decpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg7[this.state.decpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg8[this.state.decpour],"%"),r.a.createElement("td",{align:"center"},this.state.avg9[this.state.decpour],"%")),r.a.createElement("tr",null,r.a.createElement("td",{rowSpan:"12",colSpan:"12",align:"center"},r.a.createElement("div",{style:{width:"80%",height:300}},r.a.createElement(W.e,null,r.a.createElement(W.b,{layout:"vertical",width:500,height:300,data:this.state.donnees1,margin:{top:5,right:5,left:5,bottom:5}},r.a.createElement(W.c,{strokeDasharray:"3 3"}),r.a.createElement(W.g,{type:"number"}),r.a.createElement(W.h,{dataKey:"price",type:"category"}),r.a.createElement(W.f,null),r.a.createElement(W.d,null),r.a.createElement(W.a,{dataKey:"Sep20",fill:"#00CC00"}),r.a.createElement(W.a,{dataKey:"Oct20",fill:"#0000FF"}),r.a.createElement(W.a,{dataKey:"Nov20",fill:"#FFC000"}),r.a.createElement(W.a,{dataKey:"Dec20",fill:"#FF0000"})))))))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2",align:"center",width:"100%"},r.a.createElement("b",null,"Most Recent General Comments"))),this.state.maloba.map((function(e){if(""!==e.id)return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},e.mois),r.a.createElement("td",{align:"left"},e.generalcomments))})))))}}]),a}(n.PureComponent),Oe=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={donnees:[],data:[],prixaug:[],prixsept:[],prixoct:[],prixnov:[],prixdec:[]},n}return Object(N.a)(a,[{key:"componentDidUpdate",value:function(e){if(e.mweji!==this.props.mweji){this.props.mweji;for(var t=[],a=[],n=[],r=[],i=[],s=0;s<4;s++)"September 2020"==this.props.mweji[s].lemois&&(t[1]=this.props.mweji[s].price1,t[2]=this.props.mweji[s].price2,t[3]=this.props.mweji[s].price3,t[4]=this.props.mweji[s].price4,t[5]=this.props.mweji[s].price5,t[6]=this.props.mweji[s].price6,t[7]=this.props.mweji[s].price7,t[8]=this.props.mweji[s].price8,t[9]=this.props.mweji[s].price9),"October 2020"==this.props.mweji[s].lemois&&(a[1]=this.props.mweji[s].price1,a[2]=this.props.mweji[s].price2,a[3]=this.props.mweji[s].price3,a[4]=this.props.mweji[s].price4,a[5]=this.props.mweji[s].price5,a[6]=this.props.mweji[s].price6,a[7]=this.props.mweji[s].price7,a[8]=this.props.mweji[s].price8,a[9]=this.props.mweji[s].price9),"November 2020"==this.props.mweji[s].lemois&&(n[1]=this.props.mweji[s].price1,n[2]=this.props.mweji[s].price2,n[3]=this.props.mweji[s].price3,n[4]=this.props.mweji[s].price4,n[5]=this.props.mweji[s].price5,n[6]=this.props.mweji[s].price6,n[7]=this.props.mweji[s].price7,n[8]=this.props.mweji[s].price8,n[9]=this.props.mweji[s].price9),"December 2020"==this.props.mweji[s].lemois&&(r[1]=this.props.mweji[s].price1,r[2]=this.props.mweji[s].price2,r[3]=this.props.mweji[s].price3,r[4]=this.props.mweji[s].price4,r[5]=this.props.mweji[s].price5,r[6]=this.props.mweji[s].price6,r[7]=this.props.mweji[s].price7,r[8]=this.props.mweji[s].price8,r[9]=this.props.mweji[s].price9);i[1]=this.props.mweji1[0].pour1,i[2]=this.props.mweji1[0].pour2,i[3]=this.props.mweji1[0].pour3,i[4]=this.props.mweji1[0].pour4,i[5]=this.props.mweji1[0].pour5,i[6]=this.props.mweji1[0].pour6,i[7]=this.props.mweji1[0].pour7,i[8]=this.props.mweji1[0].pour8,i[9]=this.props.mweji1[0].pour9;for(var c=[],l=1;l<10;l++)c.push({price:i[l],Sep20:t[l],Oct20:a[l],Nov20:n[l],Dec20:r[l]});this.setState({data:c})}}},{key:"render",value:function(){return r.a.createElement(W.b,{layout:"vertical",width:960,height:300,data:this.state.data,margin:{top:5,right:5,left:5,bottom:5}},r.a.createElement(W.c,{strokeDasharray:"3 3"}),r.a.createElement(W.g,{type:"number"}),r.a.createElement(W.h,{dataKey:"price",type:"category"}),r.a.createElement(W.f,null),r.a.createElement(W.d,null),r.a.createElement(W.a,{dataKey:"Sep20",fill:"#00CC00"}),r.a.createElement(W.a,{dataKey:"Oct20",fill:"#0000FF"}),r.a.createElement(W.a,{dataKey:"Nov20",fill:"#FFC000"}),r.a.createElement(W.a,{dataKey:"Dec20",fill:"#FF0000"}))}}]),a}(n.PureComponent),Te=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).convert_to_utc=function(e){var t,a="am";return 0==(t=((t=e.getHours())+24-2)%24)?t=12:t>12&&(t%=12,a="pm"),e.toUTCString().split(" ")[0]+e.toUTCString().split(" ")[1]+" "+e.toUTCString().split(" ")[2]+" "+e.toUTCString().split(" ")[3]+" "+e.toUTCString().split(" ")[4].split(":")[0]+":"+e.toUTCString().split(" ")[4].split(":")[1]+" "+a},n.state={user:"",users:[],augusts:[],septembers:[],octobers:[],novembers:[],decembers:[],recents:[],prixaug:[],prixsept:[],prixoct:[],prixnov:[],prixdec:[],donnees1:[],evaug:"",evsep:"",evoct:"",evnov:"",evdec:"",comaug:"",comsep:"",comoct:"",comnov:"",comdec:""},window.onbeforeunload=function(){window.scrollTo(0,0)},n.onChange=n.onChange.bind(Object(F.a)(n)),n.fillprices=n.fillprices.bind(Object(F.a)(n)),n}return Object(N.a)(a,[{key:"onChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/users/tous/Gold&Gold").then((function(e){return e.json()})).then((function(t){var a=t.map((function(e){return{value:e.name,display:e.name}}));e.setState({users:[{value:"",display:"(Choose Participant)"}].concat(a)})})).catch((function(e){console.log(e)}))}},{key:"fillprices",value:function(e,t){var a=this,n={},r={},i={},s={};fetch("/api/beyi/commois/September 2020&Gold").then((function(e){return e.json()})).then((function(e){n=e.map((function(e){return{pour1:e.floorprice+0*e.constant1,pour2:e.floorprice+1*e.constant1,pour3:e.floorprice+2*e.constant1,pour4:e.floorprice+3*e.constant1,pour5:e.floorprice+4*e.constant1,pour6:e.floorprice+5*e.constant1,pour7:e.floorprice+6*e.constant1,pour8:e.floorprice+7*e.constant1,pour9:e.floorprice+8*e.constant1}})),a.setState({prixsept:[].concat(n)})})).catch((function(e){console.log(e)})),fetch("/api/beyi/commois/October 2020&Gold").then((function(e){return e.json()})).then((function(e){r=e.map((function(e){return{pour1:e.floorprice+0*e.constant1,pour2:e.floorprice+1*e.constant1,pour3:e.floorprice+2*e.constant1,pour4:e.floorprice+3*e.constant1,pour5:e.floorprice+4*e.constant1,pour6:e.floorprice+5*e.constant1,pour7:e.floorprice+6*e.constant1,pour8:e.floorprice+7*e.constant1,pour9:e.floorprice+8*e.constant1}})),a.setState({prixoct:[].concat(r)})})).catch((function(e){console.log(e)})),fetch("/api/beyi/commois/November 2020&Gold").then((function(e){return e.json()})).then((function(e){i=e.map((function(e){return{pour1:e.floorprice+0*e.constant1,pour2:e.floorprice+1*e.constant1,pour3:e.floorprice+2*e.constant1,pour4:e.floorprice+3*e.constant1,pour5:e.floorprice+4*e.constant1,pour6:e.floorprice+5*e.constant1,pour7:e.floorprice+6*e.constant1,pour8:e.floorprice+7*e.constant1,pour9:e.floorprice+8*e.constant1}})),a.setState({prixnov:[].concat(i)})})).catch((function(e){console.log(e)})),fetch("/api/beyi/commois/December 2020&Gold").then((function(e){return e.json()})).then((function(e){s=e.map((function(e){return{pour1:e.floorprice+0*e.constant1,pour2:e.floorprice+1*e.constant1,pour3:e.floorprice+2*e.constant1,pour4:e.floorprice+3*e.constant1,pour5:e.floorprice+4*e.constant1,pour6:e.floorprice+5*e.constant1,pour7:e.floorprice+6*e.constant1,pour8:e.floorprice+7*e.constant1,pour9:e.floorprice+8*e.constant1}})),a.setState({prixdec:[].concat(s)})})).catch((function(e){console.log(e)}));fetch("/api/menji/userd/September 2020&"+t+"&"+e).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){var t=n[0].pour1*e.price1+n[0].pour2*e.price2+n[0].pour3*e.price3+n[0].pour4*e.price4+n[0].pour5*e.price5+n[0].pour6*e.price6+n[0].pour7*e.price7+n[0].pour8*e.price8+n[0].pour9*e.price9;return a.setState({evsep:t}),a.setState({comsep:e.generalcomments}),{EV:t,price1:e.price1,price2:e.price2,price3:e.price3,price4:e.price4,price5:e.price5,price6:e.price6,price7:e.price7,price8:e.price8,price9:e.price9,lemedian:e.lemedian,dateforecast:a.convert_to_utc(new Date(e.dateforecast)),specificcomments:e.specificcomments,generalcomments:e.generalcomments}}));a.setState({septembers:[].concat(t)})})).catch((function(e){console.log(e)})),fetch("/api/menji/userd/October 2020&"+t+"&"+e).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){var t=r[0].pour1*e.price1+r[0].pour2*e.price2+r[0].pour3*e.price3+r[0].pour4*e.price4+r[0].pour5*e.price5+r[0].pour6*e.price6+r[0].pour7*e.price7+r[0].pour8*e.price8+r[0].pour9*e.price9;return a.setState({evoct:t}),a.setState({comoct:e.generalcomments}),{EV:t,price1:e.price1,price2:e.price2,price3:e.price3,price4:e.price4,price5:e.price5,price6:e.price6,price7:e.price7,price8:e.price8,price9:e.price9,lemedian:e.lemedian,dateforecast:a.convert_to_utc(new Date(e.dateforecast)),specificcomments:e.specificcomments,generalcomments:e.generalcomments}}));a.setState({octobers:[].concat(t)})})).catch((function(e){console.log(e)})),fetch("/api/menji/userd/November 2020&"+t+"&"+e).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){var t=i[0].pour1*e.price1+i[0].pour2*e.price2+i[0].pour3*e.price3+i[0].pour4*e.price4+i[0].pour5*e.price5+i[0].pour6*e.price6+i[0].pour7*e.price7+i[0].pour8*e.price8+i[0].pour9*e.price9;return a.setState({evnov:t}),a.setState({comnov:e.generalcomments}),{EV:t,price1:e.price1,price2:e.price2,price3:e.price3,price4:e.price4,price5:e.price5,price6:e.price6,price7:e.price7,price8:e.price8,price9:e.price9,lemedian:e.lemedian,dateforecast:a.convert_to_utc(new Date(e.dateforecast)),specificcomments:e.specificcomments,generalcomments:e.generalcomments}}));a.setState({novembers:[].concat(t)})})).catch((function(e){console.log(e)})),fetch("/api/menji/userd/December 2020&"+t+"&"+e).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){var t=s[0].pour1*e.price1+s[0].pour2*e.price2+s[0].pour3*e.price3+s[0].pour4*e.price4+s[0].pour5*e.price5+s[0].pour6*e.price6+s[0].pour7*e.price7+s[0].pour8*e.price8+s[0].pour9*e.price9;return a.setState({evdec:t}),a.setState({comdec:e.generalcomments}),{EV:t,price1:e.price1,price2:e.price2,price3:e.price3,price4:e.price4,price5:e.price5,price6:e.price6,price7:e.price7,price8:e.price8,price9:e.price9,lemedian:e.lemedian,dateforecast:a.convert_to_utc(new Date(e.dateforecast)),specificcomments:e.specificcomments,generalcomments:e.generalcomments}}));a.setState({decembers:[].concat(t)})})).catch((function(e){console.log(e)})),fetch("/api/menji/recentdauser/"+t+"&"+e).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{price1:100*e.detail.price1,price2:100*e.detail.price2,price3:100*e.detail.price3,price4:100*e.detail.price4,price5:100*e.detail.price5,price6:100*e.detail.price6,price7:100*e.detail.price7,price8:100*e.detail.price8,price9:100*e.detail.price9,lemois:e.detail.mois}}));a.setState({recents:[].concat(t)})})).catch((function(e){console.log(e)})),this.setState({donnees1:[]})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"6",align:"center"},r.a.createElement("b",null,"Most Recent Gold Forecasts - Expected Value"))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Participant")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"September 2020")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"October 2020")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"November 2020")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"December 2020"))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("span",{className:"label label-primary"}),r.a.createElement("select",{className:"",value:this.state.user,onChange:function(t){e.setState({user:t.target.value,validationError:""===t.target.value?"Choose a participant":""}),e.fillprices(t.target.value,"Gold")}},this.state.users.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.display)})))),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.evsep,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.evoct,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.evnov,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",this.state.evdec,"/oz"))),r.a.createElement("tr",null,r.a.createElement("td",{rowSpan:"12",colSpan:"6",width:"80%",align:"center"},r.a.createElement(Oe,{mweji:this.state.recents,mweji1:this.state.prixsept}))))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"General Comments"))),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},r.a.createElement("b",null,"September:")," ",this.state.comsep)),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},r.a.createElement("b",null,"October:")," ",this.state.comoct)),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},r.a.createElement("b",null,"November:")," ",this.state.comnov)),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},r.a.createElement("b",null,"December:")," ",this.state.comdec)))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"center",colSpan:"13"},r.a.createElement("b",null,"Forecasts - September 2020"))),this.state.prixsept.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Date")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour1,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour2,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour3,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour4,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour5,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour6,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour7,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour8,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour9,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Justifications")))}))),r.a.createElement("tbody",null,this.state.septembers.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.EV,"/oz")),r.a.createElement("td",{align:"center"},e.dateforecast),r.a.createElement("td",{align:"center"},100*e.price1,"%"),r.a.createElement("td",{align:"center"},100*e.price2,"%"),r.a.createElement("td",{align:"center"},100*e.price3,"%"),r.a.createElement("td",{align:"center"},100*e.price4,"%"),r.a.createElement("td",{align:"center"},100*e.price5,"%"),r.a.createElement("td",{align:"center"},100*e.price6,"%"),r.a.createElement("td",{align:"center"},100*e.price7,"%"),r.a.createElement("td",{align:"center"},100*e.price8,"%"),r.a.createElement("td",{align:"center"},100*e.price9,"%"),r.a.createElement("td",{align:"center"},e.specificcomments))})))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"center",colSpan:"13"},r.a.createElement("b",null,"Forecasts - October 2020"))),this.state.prixoct.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Date")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour1,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour2,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour3,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour4,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour5,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour6,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour7,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour8,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour9,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Justifications")))}))),r.a.createElement("tbody",null,this.state.octobers.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.EV,"/oz")),r.a.createElement("td",{align:"center"},e.dateforecast),r.a.createElement("td",{align:"center"},100*e.price1,"%"),r.a.createElement("td",{align:"center"},100*e.price2,"%"),r.a.createElement("td",{align:"center"},100*e.price3,"%"),r.a.createElement("td",{align:"center"},100*e.price4,"%"),r.a.createElement("td",{align:"center"},100*e.price5,"%"),r.a.createElement("td",{align:"center"},100*e.price6,"%"),r.a.createElement("td",{align:"center"},100*e.price7,"%"),r.a.createElement("td",{align:"center"},100*e.price8,"%"),r.a.createElement("td",{align:"center"},100*e.price9,"%"),r.a.createElement("td",{align:"center"},e.specificcomments))})))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"center",colSpan:"13"},r.a.createElement("b",null,"Forecasts - November 2020"))),this.state.prixnov.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Date")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour1,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour2,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour3,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour4,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour5,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour6,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour7,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour8,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour9,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Justifications")))}))),r.a.createElement("tbody",null,this.state.novembers.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.EV,"/oz")),r.a.createElement("td",{align:"center"},e.dateforecast),r.a.createElement("td",{align:"center"},100*e.price1,"%"),r.a.createElement("td",{align:"center"},100*e.price2,"%"),r.a.createElement("td",{align:"center"},100*e.price3,"%"),r.a.createElement("td",{align:"center"},100*e.price4,"%"),r.a.createElement("td",{align:"center"},100*e.price5,"%"),r.a.createElement("td",{align:"center"},100*e.price6,"%"),r.a.createElement("td",{align:"center"},100*e.price7,"%"),r.a.createElement("td",{align:"center"},100*e.price8,"%"),r.a.createElement("td",{align:"center"},100*e.price9,"%"),r.a.createElement("td",{align:"center"},e.specificcomments))})))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"center",colSpan:"13"},r.a.createElement("b",null,"Forecasts - December 2020"))),this.state.prixdec.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Expected Value")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Date")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour1,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour2,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour3,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour4,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour5,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour6,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour7,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour8,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.pour9,"/oz")),r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"Justifications")))}))),r.a.createElement("tbody",null,this.state.decembers.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{align:"center"},r.a.createElement("b",null,"$",e.EV,"/oz")),r.a.createElement("td",{align:"center"},e.dateforecast),r.a.createElement("td",{align:"center"},100*e.price1,"%"),r.a.createElement("td",{align:"center"},100*e.price2,"%"),r.a.createElement("td",{align:"center"},100*e.price3,"%"),r.a.createElement("td",{align:"center"},100*e.price4,"%"),r.a.createElement("td",{align:"center"},100*e.price5,"%"),r.a.createElement("td",{align:"center"},100*e.price6,"%"),r.a.createElement("td",{align:"center"},100*e.price7,"%"),r.a.createElement("td",{align:"center"},100*e.price8,"%"),r.a.createElement("td",{align:"center"},100*e.price9,"%"),r.a.createElement("td",{align:"center"},e.specificcomments))})))))}}]),a}(n.Component),Pe=Object(d.b)((function(e){return{auth:e.auth}}),{})(Te);window.onbeforeunload=function(){window.scrollTo(0,0)};var $e=function(e){Object(O.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={message:"Any general notifications about website fixes and changes will be posted here. If you need to send a message concerning website issues, please use the Grey communication button in the bottom righthand corner of the webpage."},n.chat(),n}return Object(N.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{class:"alert alert-info",role:"alert"},r.a.createElement("h1",null,this.state.message))}},{key:"chat",value:function(){!function(e,t){var a=e.createElement(t),n=e.getElementsByTagName(t)[0];a.src="https://app.chatwoot.com/packs/js/sdk.js",n.parentNode.insertBefore(a,n),a.onload=function(){window.chatwootSDK.run({websiteToken:"s6p8vqywRP8ouGyMuSpBQdSC",baseUrl:"https://app.chatwoot.com"})}}(document,"script")}}]),a}(n.PureComponent);if(localStorage.jwtToken){h(localStorage.jwtToken);var De=p()(localStorage.jwtToken);M.dispatch(E(De));var Ae=Date.now()/1e3;De.exp<Ae&&M.dispatch(g())}var ze=function(){return r.a.createElement(d.a,{store:M},r.a.createElement(c.a,null,r.a.createElement("div",{className:"App"},r.a.createElement($,null),r.a.createElement(l.a,{exact:!0,path:"/",component:A}),r.a.createElement("div",{className:"container"},r.a.createElement(l.a,{exact:!0,path:"/About",component:se}),r.a.createElement(l.a,{exact:!0,path:"/TetCs",component:ce}),r.a.createElement(l.a,{exact:!0,path:"/Contacts",component:le}),r.a.createElement(l.a,{exact:!0,path:"/PConsent",component:oe}),r.a.createElement(l.a,{exact:!0,path:"/RMethod",component:ue}),r.a.createElement(l.a,{exact:!0,path:"/CopperComex",component:Ee}),r.a.createElement(l.a,{exact:!0,path:"/GoldComex",component:fe}),r.a.createElement(l.a,{exact:!0,path:"/CForecast",component:ye}),r.a.createElement(l.a,{exact:!0,path:"/CSummary",component:Se}),r.a.createElement(l.a,{exact:!0,path:"/CSumFcast",component:we}),r.a.createElement(l.a,{exact:!0,path:"/CPartFcast",component:Ce}),r.a.createElement(l.a,{exact:!0,path:"/GForecast",component:Me}),r.a.createElement(l.a,{exact:!0,path:"/GSummary",component:ke}),r.a.createElement(l.a,{exact:!0,path:"/GSumFcast",component:Ne}),r.a.createElement(l.a,{exact:!0,path:"/GPartFcast",component:Pe}),r.a.createElement(l.a,{exact:!0,path:"/Register",component:U}),r.a.createElement(l.a,{exact:!0,path:"/Login",component:J}),r.a.createElement(l.a,{exact:!0,path:"/Logout",component:A}),r.a.createElement(l.a,{exact:!0,path:"/consent",component:B}),r.a.createElement(l.a,{exact:!0,path:"/CopperInput",component:Z}),r.a.createElement(l.a,{exact:!0,path:"/GoldInput",component:ie}),r.a.createElement(l.a,{exact:!0,path:"/MonthPrices",component:ee}),r.a.createElement(l.a,{exact:!0,path:"/dashboard",component:$e})),r.a.createElement(D,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[202,1,2]]]);
//# sourceMappingURL=main.d22e8019.chunk.js.map